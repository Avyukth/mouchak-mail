{"id":"mcp-agent-mail-rs-06ls","title":"Rename InfoBanner to Alert with AlertTitle/AlertDescription compound pattern","description":"## Summary\nRename InfoBanner to Alert following shadcn naming, add AlertTitle and AlertDescription compound components.\n\n## Implementation Details\n\n### 1. Rename file\n- info_banner.rs ‚Üí alert.rs\n\n### 2. Refactor to compound pattern\n```rust\nuse leptos::*;\nuse tailwind_fuse::*;\n\nconst ALERT_BASE: \u0026str = \"relative w-full rounded-lg border p-4 [\u0026\u003esvg~*]:pl-7 [\u0026\u003esvg+div]:translate-y-[-3px] [\u0026\u003esvg]:absolute [\u0026\u003esvg]:left-4 [\u0026\u003esvg]:top-4 [\u0026\u003esvg]:text-foreground\";\nconst TITLE_CLASS: \u0026str = \"mb-1 font-medium leading-none tracking-tight\";\nconst DESCRIPTION_CLASS: \u0026str = \"text-sm [\u0026_p]:leading-relaxed\";\n\n#[derive(TwVariant, Clone, Copy, Default)]\npub enum AlertVariant {\n    #[tw(default, class = \"bg-background text-foreground\")]\n    Default,\n    #[tw(class = \"border-destructive/50 text-destructive dark:border-destructive [\u0026\u003esvg]:text-destructive\")]\n    Destructive,\n    #[tw(class = \"border-emerald-500/50 text-emerald-600 [\u0026\u003esvg]:text-emerald-600\")]\n    Success,\n    #[tw(class = \"border-amber-500/50 text-amber-600 [\u0026\u003esvg]:text-amber-600\")]\n    Warning,\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/info_banner.rs ‚Üí alert.rs\n- crates/services/web-ui-leptos/src/components/mod.rs\n- All files importing InfoBanner\n\n## Acceptance Criteria\n- [ ] InfoBanner renamed to Alert\n- [ ] AlertTitle and AlertDescription compound components added\n- [ ] Alert has role=\"alert\" attribute\n- [ ] 4 variants: Default, Destructive, Success, Warning\n- [ ] Icon positioning classes ([\u0026\u003esvg]) applied\n- [ ] All existing usages updated\n- [ ] No broken imports","notes":"Claimed by worker-06ls","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T23:11:53.367457+05:30","updated_at":"2025-12-19T00:59:20.979205+05:30","closed_at":"2025-12-19T00:59:20.979205+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-06ls","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:41.159364+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-07pe","title":"Create Skeleton loading component","description":"## Summary\nCreate a Skeleton component for loading state placeholders.\n\n## Implementation Details\n\n### Create components/skeleton.rs\n```rust\nuse leptos::*;\nuse tailwind_fuse::tw_merge;\n\nconst SKELETON_CLASS: \u0026str = \"animate-pulse rounded-md bg-muted\";\n\n#[component]\npub fn Skeleton(\n    #[prop(optional, into)] class: MaybeProp\u003cString\u003e,\n) -\u003e impl IntoView {\n    view! {\n        \u003cdiv class=tw_merge!(SKELETON_CLASS, class.get()) /\u003e\n    }\n}\n```\n\n### Usage Example\n```rust\n// Card skeleton\nview! {\n    \u003cCard\u003e\n        \u003cCardHeader\u003e\n            \u003cSkeleton class=\"h-4 w-[250px]\" /\u003e\n            \u003cSkeleton class=\"h-4 w-[200px]\" /\u003e\n        \u003c/CardHeader\u003e\n        \u003cCardContent\u003e\n            \u003cSkeleton class=\"h-[125px] w-full\" /\u003e\n        \u003c/CardContent\u003e\n    \u003c/Card\u003e\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/skeleton.rs (NEW)\n- crates/services/web-ui-leptos/src/components/mod.rs\n\n## Acceptance Criteria\n- [ ] Skeleton component created\n- [ ] Uses animate-pulse for loading animation\n- [ ] Uses bg-muted semantic color\n- [ ] Respects prefers-reduced-motion\n- [ ] Component exported from mod.rs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T23:12:31.34391+05:30","updated_at":"2025-12-19T01:06:24.990918+05:30","closed_at":"2025-12-19T01:06:24.990918+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-07pe","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:46.781625+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-08s","title":"P1: Implement Message Detail E2E tests (M-001 to M-007)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:33:39.116277+05:30","updated_at":"2025-12-15T18:44:27.175875+05:30","closed_at":"2025-12-15T18:44:27.175875+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-08s","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:13.221713+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-0dy","title":"P1: Add WCAG AA accessibility tests (ACC-001 to ACC-008)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:33:39.250033+05:30","updated_at":"2025-12-15T18:44:39.910508+05:30","closed_at":"2025-12-15T18:44:39.910508+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-0dy","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:13.316126+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-0f8","title":"P2: Implement dark mode visual regression tests","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:33:47.673449+05:30","updated_at":"2025-12-15T18:44:39.951949+05:30","closed_at":"2025-12-15T18:44:39.951949+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-0f8","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:13.491143+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-0j2","title":"Create embedded.rs for WASM asset embedding","description":"Create lib-server/src/embedded.rs with RustEmbed derive macro pointing to web-ui-leptos/dist folder.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T17:52:51.484763+05:30","updated_at":"2025-12-17T18:56:51.100879+05:30","closed_at":"2025-12-17T18:56:51.100879+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-0j2","depends_on_id":"mcp-agent-mail-rs-9bd","type":"blocks","created_at":"2025-12-17T17:52:59.903471+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-0oz","title":"P2: Run Lighthouse audit (target score \u003e= 90)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:39:52.206282+05:30","updated_at":"2025-12-15T19:00:42.688963+05:30","closed_at":"2025-12-15T19:00:42.688963+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-0oz","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:15.085172+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-0t0","title":"Create MCP tool router with all tools","description":"Implement tool_router with #[tool] macros for all 28+ API endpoints","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T04:45:23.082586+05:30","updated_at":"2025-12-09T05:29:25.344917+05:30","closed_at":"2025-12-09T05:29:25.344917+05:30","labels":["core","mcp"]}
{"id":"mcp-agent-mail-rs-153x","title":"LEPTOS-012: Skeleton Loading Components","description":"## Summary\nCreate skeleton components for loading states per shadcn pattern.\n\n## Implementation\nCreate: `components/skeleton.rs`\n\n```rust\n#[component]\npub fn Skeleton(\n    #[prop(optional, into)] class: MaybeProp\u003cString\u003e,\n) -\u003e impl IntoView {\n    view! {\n        \u003cdiv class=tw_merge!(\"animate-pulse rounded-md bg-muted\", class.get()) /\u003e\n    }\n}\n\n// Pre-built skeletons\npub fn MessageListSkeleton() -\u003e impl IntoView { /* 5 items */ }\npub fn MessageDetailSkeleton() -\u003e impl IntoView { /* header + body */ }\npub fn AttachmentGridSkeleton() -\u003e impl IntoView { /* 3x3 grid */ }\n```\n\n## Acceptance Criteria\n- [ ] Skeleton base component with animate-pulse\n- [ ] MessageListSkeleton (5 items)\n- [ ] MessageDetailSkeleton\n- [ ] AttachmentGridSkeleton (3x3)\n- [ ] Respects prefers-reduced-motion\n- [ ] Uses bg-muted semantic color\n\n## Quality Gates\n- CLS = 0 (skeleton matches real content size)\n- Animation \u003c= 60fps\n- No layout shift on content load\n\n## Reference Skills\n- shadcn-ui: Skeleton component\n- production-hardening-frontend: CLS optimization\n- mobile-frontend-design: Loading states","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T22:06:41.171353+05:30","updated_at":"2025-12-20T04:13:17.087263+05:30","closed_at":"2025-12-20T04:13:17.087263+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-153x","depends_on_id":"mcp-agent-mail-rs-1d2q","type":"blocks","created_at":"2025-12-19T22:07:14.200307+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-153x","depends_on_id":"mcp-agent-mail-rs-w7n3","type":"blocks","created_at":"2025-12-19T22:07:14.253665+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-15oc","title":"T4: MCP tool list_pending_reviews with JsonSchema","description":"Add list_pending_reviews MCP tool with JsonSchema params. Optional: project_slug, sender_name, limit. Returns JSON as text content. Description: List messages requiring acknowledgment. Complexity: 5/10. File: crates/libs/lib-mcp/src/tools.rs","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T17:45:56.148028+05:30","updated_at":"2025-12-18T18:35:40.657784+05:30","closed_at":"2025-12-18T18:35:40.657784+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-15oc","depends_on_id":"mcp-agent-mail-rs-wker","type":"blocks","created_at":"2025-12-18T17:46:09.083653+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-15oc","depends_on_id":"mcp-agent-mail-rs-bn6b","type":"blocks","created_at":"2025-12-18T17:46:09.135704+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-17d","title":"P2: Implement real LLM thread summarization","description":"Replace stub summarize_thread with real LLM integration. Support OpenAI API (OPENAI_API_KEY). Generate concise thread summaries. Current: returns placeholder text. Python uses async LLM calls.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:55:15.932865+05:30","updated_at":"2025-12-15T21:11:33.162407+05:30","closed_at":"2025-12-15T21:11:33.162407+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-17d","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:55:15.933601+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-17v","title":"Add unregister_macro MCP tool","description":"Add MCP tool for unregister_macro matching REST API:\n- UnregisterMacroParams { project_slug, name }\n- ToolSchema entry\n- Handler calling MacroDefBmc::delete()\n- Integration test","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:06:57.257265+05:30","updated_at":"2025-12-17T20:15:36.367434+05:30","closed_at":"2025-12-17T20:15:36.367434+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-17v","depends_on_id":"mcp-agent-mail-rs-7rh","type":"blocks","created_at":"2025-12-16T20:06:57.257928+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-1aj","title":"P0: Create .env.example with all 30+ environment variables","description":"Create .env.example with: HTTP_HOST, HTTP_PORT, HTTP_BEARER_TOKEN, HTTP_AUTH_MODE, HTTP_JWKS_URL, HTTP_ALLOW_LOCALHOST_UNAUTHENTICATED, SQLITE_PATH, GIT_REPO_PATH, LLM_ENABLED, OPENAI_API_KEY, plus 20+ more Python parity vars.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T10:23:21.653348+05:30","updated_at":"2025-12-15T17:47:43.722088+05:30","closed_at":"2025-12-15T17:47:43.722088+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-1aj","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:23:21.654231+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-1d2q","title":"LEPTOS-001: Add tailwind_fuse for CVA Patterns","description":"## Summary\nAdd tailwind_fuse crate to web-ui-leptos for CVA (Class Variance Authority) equivalent pattern matching shadcn-ui component system.\n\n## Implementation\n```toml\n# Cargo.toml\ntailwind_fuse = \"0.3\"\n```\n\n```rust\nuse tailwind_fuse::*;\n\n#[derive(TwClass)]\n#[tw(class = \"inline-flex items-center justify-center rounded-md\")]\npub struct ButtonClass {\n    pub variant: ButtonVariant,\n    pub size: ButtonSize,\n}\n```\n\n## Acceptance Criteria\n- [ ] `tailwind_fuse = \"0.3\"` added to Cargo.toml\n- [ ] Example ButtonClass with variant/size derives compiles\n- [ ] `tw_merge!` macro works for class concatenation\n- [ ] cargo check passes\n- [ ] No duplicate variant classes in output\n\n## Quality Gates\n- `cargo check \u0026\u0026 cargo clippy -- -D warnings`\n\n## Reference Skills\n- shadcn-ui: CVA patterns, variant anatomy","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-19T22:03:08.978407+05:30","updated_at":"2025-12-20T01:42:35.355305+05:30","closed_at":"2025-12-20T01:42:35.355305+05:30"}
{"id":"mcp-agent-mail-rs-1esg","title":"Add shadcn CSS semantic tokens and tailwind_fuse dependency","description":"## Summary\nAdd shadcn/ui CSS custom properties to tailwind.css and add tailwind_fuse crate for CVA-style variant management in Rust.\n\n## Implementation Details\n\n### 1. Add to Cargo.toml\n```toml\ntailwind_fuse = \"0.3\"\n```\n\n### 2. Add to tailwind.css (coexist with existing tokens)\n```css\n:root {\n  --background: 0 0% 100%;\n  --foreground: 222.2 84% 4.9%;\n  --card: 0 0% 100%;\n  --card-foreground: 222.2 84% 4.9%;\n  --primary: 37 91% 55%;\n  --primary-foreground: 0 0% 100%;\n  --secondary: 210 40% 96.1%;\n  --secondary-foreground: 222.2 47.4% 11.2%;\n  --muted: 210 40% 96.1%;\n  --muted-foreground: 215.4 16.3% 46.9%;\n  --accent: 210 40% 96.1%;\n  --accent-foreground: 222.2 47.4% 11.2%;\n  --destructive: 0 84.2% 60.2%;\n  --destructive-foreground: 210 40% 98%;\n  --border: 214.3 31.8% 91.4%;\n  --input: 214.3 31.8% 91.4%;\n  --ring: 37 91% 55%;\n  --radius: 0.5rem;\n}\n\n.dark {\n  --background: 222.2 84% 4.9%;\n  --foreground: 210 40% 98%;\n  /* ... dark mode values */\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/Cargo.toml\n- crates/services/web-ui-leptos/style/tailwind.css\n\n## Acceptance Criteria\n- [ ] tailwind_fuse = \"0.3\" added to Cargo.toml\n- [ ] All 14 shadcn semantic tokens defined in :root\n- [ ] Dark mode tokens defined in .dark class\n- [ ] Existing custom tokens (--bg-base, --accent-amber) preserved\n- [ ] cargo check passes\n- [ ] Variables render correctly in browser DevTools","notes":"Claimed by worker - prerequisite for lw2b","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T23:11:14.2303+05:30","updated_at":"2025-12-18T23:37:39.00436+05:30","closed_at":"2025-12-18T23:37:39.00436+05:30"}
{"id":"mcp-agent-mail-rs-1fka","title":"PORT: XSS Security Test Corpus (8 sanitization tests)","description":"## Description\nPort the critical XSS security test corpus from Python to validate viewer security.\n\n## XSS Vector Categories Tested\n- script_tags (5 vectors)\n- event_handlers (9 vectors)\n- javascript_urls (5 vectors)\n- data_urls (3 vectors)\n- meta_refresh (3 vectors)\n- svg_xss (4 vectors)\n- css_injection (4 vectors)\n- html5_vectors (4 vectors)\n- markdown_specific (varies)\n\n## Tests\n1. test_xss_vectors_properly_escaped (parametrized)\n2. test_xss_in_subject_lines\n3. test_xss_in_attachment_metadata\n4. test_markdown_specific_xss_vectors\n5. test_dompurify_sanitization_end_to_end\n6. test_csp_header_enforcement\n7. test_xss_corpus_coverage\n8. test_xss_regression_suite_readme\n\n## Reference\n- Python: tests/test_xss_corpus.py\n\n## Implementation Notes\n- P0 CRITICAL - Security vulnerability prevention\n- Must validate all vectors are escaped/sanitized\n- CSP header enforcement validation\n- DOMPurify integration testing\n- Covers OWASP Top 10 XSS prevention","notes":"Claimed by worker-1fka","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T00:58:02.028387+05:30","updated_at":"2025-12-18T15:07:13.449118+05:30","closed_at":"2025-12-18T15:07:13.449118+05:30"}
{"id":"mcp-agent-mail-rs-1k8","title":"Add offline fallback page for PWA","description":"Create src/routes/offline/+page.svelte with friendly offline message. Update vite.config.ts workbox navigateFallback to /offline.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-10T02:45:44.418415+05:30","updated_at":"2025-12-15T18:44:27.764758+05:30","closed_at":"2025-12-15T18:44:27.764758+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-1k8","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:44.418961+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-1kwo","title":"GAP: MCP Resources API (resource://inbox, resource://thread)","description":"## Problem\nPython implements MCP resource URIs for lazy loading. Rust only has tool-based API.\n\n## Python Resources\n- resource://inbox/{agent}?project=\u003cpath\u003e\u0026limit=20\u0026include_bodies\n- resource://thread/{id}?project=\u003cpath\u003e\u0026include_bodies\n- resource://agent/{name}?project=\u003cpath\u003e\n- resource://product/{key}\n- resource://identity/{/abs/path}\n\n## Implementation\n- Add MCP resource handler in lib-mcp\n- Implement resource URI parsing\n- Map to existing BMC methods\n- Support include_bodies for lazy loading","status":"in_progress","priority":2,"issue_type":"feature","created_at":"2025-12-18T18:00:24.541906+05:30","updated_at":"2025-12-20T06:37:36.984931+05:30"}
{"id":"mcp-agent-mail-rs-1s0","title":"Epic: Web-UI Production Hardening","description":"Production hardening for SvelteKit web-ui covering security, performance, accessibility, and code organization based on frontend-dev-guidelines and production-hardening-frontend skills review.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-10T02:45:06.333713+05:30","updated_at":"2025-12-15T18:44:27.686702+05:30","closed_at":"2025-12-15T18:44:27.686702+05:30"}
{"id":"mcp-agent-mail-rs-1uqf","title":"P0: Replace pre-commit hooks with prek (Rust-based)","description":"## Problem\nCurrent pre-commit hooks are shell scripts. Need faster, Rust-native alternative.\n\n## Solution\nReplace with **prek** - pre-commit re-engineered in Rust by j178.\n\n## Installation\n```bash\n# Build from source (Rust 1.89+ required)\ncargo install --locked prek\n\n# Or shell installer (standalone binary)\ncurl --proto '=https' --tlsv1.2 -LsSf https://github.com/j178/prek/releases/download/v0.2.22/prek-installer.sh | sh\n```\n\n## Why prek over pre-commit?\n- Single binary, no Python dependency\n- Multiple times faster than pre-commit\n- Half the disk space usage\n- Full pre-commit config compatibility\n- Native Rust hook support with automatic toolchain management\n\n## Migration Steps\n1. `cargo install --locked prek`\n2. Convert .claude/hooks/ scripts to .pre-commit-config.yaml\n3. Configure hooks: cargo fmt, cargo clippy, cargo audit, bd sync\n4. `prek install` to set up hooks\n5. Remove shell-based hooks\n6. Update CONTRIBUTING.md\n\n## References\n- https://github.com/j178/prek\n- https://prek.j178.dev/quickstart/\n\n## Acceptance Criteria\n- [ ] prek installed via cargo\n- [ ] All current checks migrated (fmt, clippy, audit, beads)\n- [ ] Pre-commit hooks run in \u003c2s\n- [ ] Documentation updated","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T01:33:28.417101+05:30","updated_at":"2025-12-19T18:30:47.482937+05:30","closed_at":"2025-12-19T18:30:47.482937+05:30"}
{"id":"mcp-agent-mail-rs-1yw","title":"Phase 1: Core Architecture","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-09T01:39:23.315607+05:30","updated_at":"2025-12-09T01:39:37.728084+05:30","closed_at":"2025-12-09T01:39:37.728084+05:30"}
{"id":"mcp-agent-mail-rs-27q","title":"P2: Setup SSR with Actix/Axum (optional)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:39:52.136976+05:30","updated_at":"2025-12-15T19:00:42.728503+05:30","closed_at":"2025-12-15T19:00:42.728503+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-27q","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:15.041115+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-28g7","title":"ORCH-4: Add list_pending_reviews MCP tool","description":"## Summary\nMCP tool to list all tasks awaiting review (in COMPLETED state).\n\n## Tool Signature\n```rust\n#[tool(description = \"List tasks awaiting review in COMPLETED state\")]\nasync fn list_pending_reviews(\n    project_slug: String,\n) -\u003e Result\u003cVec\u003cPendingReview\u003e\u003e\n\npub struct PendingReview {\n    pub thread_id: String,\n    pub task_title: String,\n    pub worker: String,\n    pub completion_time: DateTime\u003cUtc\u003e,\n    pub message_id: i64,\n}\n```\n\n## Acceptance Criteria\n- [ ] Scans all threads for [COMPLETION] without [APPROVED]/[FIXED]\n- [ ] Returns chronologically sorted list\n- [ ] Includes worker name and completion time","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:34:05.078738+05:30","updated_at":"2025-12-19T18:34:19.109799+05:30","closed_at":"2025-12-19T18:34:19.109799+05:30"}
{"id":"mcp-agent-mail-rs-2ci","title":"Epic: Pre-commit Guard MCP Integration","description":"Pre-commit guard hooks currently work only via REST API. Need to expose install_precommit_guard and uninstall_precommit_guard as MCP tools for Claude Desktop and other MCP clients to use directly.\n\nCurrent State:\n- REST API: /api/setup/install_guard (POST) - works\n- REST API: /api/setup/uninstall_guard (POST) - works\n- MCP: Not exposed - missing from lib-mcp/src/tools.rs\n\nRequired Changes:\n1. Add InstallPrecommitGuardParams struct with path_pattern field\n2. Add UninstallPrecommitGuardParams struct with path_pattern field\n3. Add ToolSchema entries for install_precommit_guard and uninstall_precommit_guard\n4. Register both tools in the tool_router! macro\n5. Implement the tool handlers calling lib-core PrecommitGuardBmc\n6. Add integration tests for MCP tool calls\n\nAcceptance Criteria:\n- MCP clients can call install_precommit_guard and uninstall_precommit_guard tools\n- Tool schemas appear in tools/list response\n- Git hooks are correctly installed/uninstalled via MCP","notes":"Starting P2 epic in worktree: .sandboxes/agent-precommit-guard. Following multi-agent workflow from AGENTS.md","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T20:05:50.940667+05:30","updated_at":"2025-12-17T19:27:41.015463+05:30","closed_at":"2025-12-17T19:27:41.015463+05:30"}
{"id":"mcp-agent-mail-rs-2ea","title":"P0: Create App router with 6 route skeletons","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:39:34.209864+05:30","updated_at":"2025-12-12T00:21:09.298266+05:30","closed_at":"2025-12-12T00:21:09.298266+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-2ea","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:04.170819+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-2ea","depends_on_id":"mcp-agent-mail-rs-qug","type":"blocks","created_at":"2025-12-11T23:40:25.324092+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-2iyu","title":"ORCH-4: Add check_reviewer_exists helper","description":"## Summary\nHelper function to check if a reviewer agent exists for single-agent fallback.\n\n## Implementation\n```rust\npub async fn check_reviewer_exists(\n    ctx: \u0026Ctx,\n    mm: \u0026ModelManager,\n    project_id: i64,\n) -\u003e Result\u003cOption\u003cAgent\u003e\u003e\n```\n\n## Use Case\nWorker calls this before sending [COMPLETION]:\n- If reviewer exists ‚Üí send to reviewer, CC human\n- If no reviewer ‚Üí send directly to human (self-reviewed)\n\n## Acceptance Criteria\n- [ ] Returns Some(agent) if agent named 'reviewer' exists\n- [ ] Returns None if no reviewer registered\n- [ ] Checks agent is active (not stale)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:34:35.884154+05:30","updated_at":"2025-12-20T00:50:52.018165+05:30","closed_at":"2025-12-20T00:50:52.018165+05:30"}
{"id":"mcp-agent-mail-rs-2m0","title":"Phase 4: MCP Protocol Integration","description":"Integrate mcp-protocol-sdk crate. Expose API as MCP-compliant server. Tool registration and discovery. JSON-RPC 2.0 transport layer.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-09T01:40:02.857678+05:30","updated_at":"2025-12-09T05:29:47.989845+05:30","closed_at":"2025-12-09T05:29:47.989845+05:30"}
{"id":"mcp-agent-mail-rs-2mz","title":"P0: Port ComposeMessage modal component","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:39:39.508884+05:30","updated_at":"2025-12-12T00:53:16.406505+05:30","closed_at":"2025-12-12T00:53:16.406505+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-2mz","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:04.445728+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-2mz","depends_on_id":"mcp-agent-mail-rs-ezy","type":"blocks","created_at":"2025-12-11T23:40:25.636946+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-2vv8","title":"EPIC: Gmail-Style Unified Inbox Enhancement","description":"## Overview\nEnhance the Unified Inbox to match Python reference - Gmail-style split view with comprehensive filtering.\n\n## Current State (Leptos)\n- Single column message list\n- Basic importance filter dropdown\n- Click navigates to separate detail page\n\n## Target State (Python Reference)\n- **Split View Layout**: Left panel (message list 35%) + Right panel (message detail 65%)\n- **Comprehensive Filter Bar**:\n  - Global search input with placeholder \"Search all messages across all projects and agents...\"\n  - Project dropdown (with \"All Projects\" option)\n  - Sender dropdown (dynamically populated)\n  - Recipient dropdown\n  - Importance dropdown (All/High/Normal)\n  - Threads toggle\n  - View toggle (list/grid icons)\n  - Message count badge\n- **Rich Message List Items**:\n  - Agent avatar (colored circle with initials)\n  - Project path badge (clickable)\n  - Thread indicator badge (purple)\n  - Selection checkbox\n  - Time grouping (Just now, 5m ago, etc.)\n- **Message Detail Panel** (inline, no navigation):\n  - FROM/TO with avatars\n  - PROJECT badge with path\n  - SENT timestamp\n  - Action buttons: Copy Link, Open in Project\n  - Message content with markdown rendering\n\n## Design System Compliance\n- Use existing amber/teal/purple accents\n- Use existing card-elevated, badge-*, btn-* classes\n- Match existing Digital Correspondence aesthetic\n\n## Acceptance Criteria\n- [ ] Split view works on desktop (‚â•1024px)\n- [ ] Falls back to single column on mobile\n- [ ] Filter bar is sticky on scroll\n- [ ] Message selection updates detail panel without page reload\n- [ ] Keyboard navigation (up/down arrows)\n- [ ] Touch-friendly on tablet (44px min targets)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-18T06:07:06.844779+05:30","updated_at":"2025-12-18T06:07:06.844779+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-2vv8","depends_on_id":"mcp-agent-mail-rs-7kgt","type":"blocks","created_at":"2025-12-19T22:08:53.794333+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-2vv8","depends_on_id":"mcp-agent-mail-rs-lnp9","type":"blocks","created_at":"2025-12-19T22:08:53.847496+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-2vv8","depends_on_id":"mcp-agent-mail-rs-cec2","type":"blocks","created_at":"2025-12-19T22:08:53.901327+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-34t","title":"P2: Remove anyhow dependency from lib-server","description":"File crates/libs/lib-server/Cargo.toml:39 has TODO to remove anyhow crate. Project uses lib-core Error type (thiserror-based) consistently elsewhere. Remove anyhow, update any .context() calls to use .map_err() with proper error types. Ensures consistent error handling across codebase per AGENTS.md BMC pattern guidelines.","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-17T20:52:27.575028+05:30","updated_at":"2025-12-17T23:41:37.169754+05:30","closed_at":"2025-12-17T23:41:37.169754+05:30"}
{"id":"mcp-agent-mail-rs-3gs","title":"Epic: Production Hardening (PMAT Quality Gate)","description":"Production hardening based on PMAT analysis. Current scores: Repo Health 89/100 (A-), Rust Project Score 102/134 (76.1%, A+), Quality Gate FAILED (37 violations). Key issues: 144 unwrap() calls in production code, 1 CVE (RSA timing), 5 complexity hotspots \u003e10, test coverage at 65% (target 85%). Goal: Pass quality gate, eliminate crash risks, improve Rust score to 85%+.","status":"open","priority":1,"issue_type":"epic","created_at":"2025-12-17T20:50:54.446547+05:30","updated_at":"2025-12-17T20:50:54.446547+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-ig1","type":"blocks","created_at":"2025-12-17T20:53:48.155059+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-5s8","type":"blocks","created_at":"2025-12-17T20:53:48.248166+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-859","type":"blocks","created_at":"2025-12-17T20:53:48.372806+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-dsh","type":"blocks","created_at":"2025-12-17T20:53:48.488461+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-5a0","type":"blocks","created_at":"2025-12-17T20:53:48.583741+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-34t","type":"blocks","created_at":"2025-12-17T20:53:48.674899+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-5nf","type":"blocks","created_at":"2025-12-17T20:53:48.764253+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-bm9","type":"blocks","created_at":"2025-12-17T20:53:48.856045+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-qjv","type":"blocks","created_at":"2025-12-17T20:53:48.941916+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-j1a","type":"blocks","created_at":"2025-12-17T20:53:49.031043+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-etx","type":"blocks","created_at":"2025-12-17T20:53:49.190832+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-beu","type":"blocks","created_at":"2025-12-17T20:53:49.291744+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-6irb","type":"blocks","created_at":"2025-12-19T19:03:53.177854+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-efeo","type":"blocks","created_at":"2025-12-19T19:03:53.224948+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-97i1","type":"blocks","created_at":"2025-12-19T19:03:53.271159+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-3gs","depends_on_id":"mcp-agent-mail-rs-ncfl","type":"blocks","created_at":"2025-12-19T19:03:53.316743+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-3kf","title":"Add stdio transport for Claude Desktop","description":"Implement stdio transport so MCP server can be used directly with Claude Desktop","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T04:45:23.306711+05:30","updated_at":"2025-12-09T05:29:25.193356+05:30","closed_at":"2025-12-09T05:29:25.193356+05:30","labels":["mcp","transport"]}
{"id":"mcp-agent-mail-rs-3ktx","title":"PORT: Query Locality \u0026 Resource Cleanup Tests (19 tests)","description":"## Description\nPort query locality and resource cleanup tests for database performance and reliability.\n\n## Query Locality Tests (9 tests)\n- test_thread_list_query_uses_indexes\n- test_get_thread_messages_all_query_uses_index\n- test_get_thread_messages_specific_thread_query_uses_index\n- test_fts_search_query_uses_fts_index\n- test_like_search_fallback_query_performance\n- test_get_message_detail_query_uses_primary_key\n- test_query_plan_dbstat_locality\n- test_query_plan_documentation\n- test_query_scalability_with_limits (parametrized)\n\n## Resource Cleanup Tests (10 tests)\n- test_git_repo_context_manager_normal_operation\n- test_git_repo_context_manager_closes_on_exception\n- test_git_repo_context_manager_handles_invalid_repo\n- test_open_repo_if_available_returns_none_for_non_repo\n- test_open_repo_if_available_returns_none_for_none\n- test_open_repo_if_available_returns_repo_for_valid_git\n- test_open_repo_if_available_closes_on_validation_failure\n- test_open_repo_if_available_closes_on_working_tree_exception\n- test_file_reservation_statuses_cleanup_on_exception\n- test_file_reservation_release_works\n\n## Reference\n- Python: tests/test_query_locality.py\n- Python: tests/test_resource_cleanup.py\n\n## Implementation Notes\n- EXPLAIN QUERY PLAN validation\n- Index usage verification\n- File handle leak prevention\n- Context manager cleanup on exception","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:58:54.084446+05:30","updated_at":"2025-12-20T06:32:34.644645+05:30","closed_at":"2025-12-20T06:32:34.644645+05:30"}
{"id":"mcp-agent-mail-rs-3oo","title":"PORT-1.2: Implement production-grade input validation with actionable suggestions","description":"## Problem\nAI agents make input mistakes. Need clear, actionable error messages with suggestions.\n\n## Implementation\nCreate lib-core/src/utils/validation.rs with:\n- ValidationError enum with thiserror\n- validate_agent_name() - alphanumeric + underscore, 1-64 chars\n- validate_project_key() - absolute path or human_key\n- validate_reservation_path() - must be relative\n- validate_ttl() - 60s to 7 days range\n- All errors include: field, provided, reason, suggestion\n\n## Files\n- crates/libs/lib-core/src/error.rs\n- crates/libs/lib-core/src/utils/validation.rs (NEW)\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/app.py\n- Commit cbd2f1f: feat(app): add comprehensive input validation\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: validation, InvalidInput)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 1.2)\n\n## NIST Control: SI-10 (Input Validation)\n\n## Acceptance Criteria\n- [ ] All MCP tools validate inputs before processing\n- [ ] Errors include: field, provided value, reason, suggestion\n- [ ] All validation errors marked recoverable: true\n- [ ] Suggestions are actionable (not just \"invalid\")\n- [ ] 100% test coverage on validation module\n- [ ] Integrated with tracing for audit log (AU-3)\n\n## Complexity: 7/10","notes":"SCAFFOLDING EXISTS (2025-12-19): validation.rs created with ValidationError enum, validate_agent_name(), validate_project_key(), validate_reservation_path(), validate_ttl() - all with tests. REMAINING: Integration into MCP tools and API handlers not done. Need to wire validation functions into lib-mcp/tools.rs and lib-server/api/ handlers.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T00:24:26.120223+05:30","updated_at":"2025-12-19T06:33:33.064626+05:30","closed_at":"2025-12-19T06:33:33.064626+05:30"}
{"id":"mcp-agent-mail-rs-3xbm","title":"GAP: Share Preview Server (local HTTP viewer)","description":"## Problem\nPython has local preview server for exported bundles. Rust has no equivalent.\n\n## Python Command\n- `share preview --port 9000 --open-browser`\n- Serves exported HTML/JS bundle locally\n- Auto-opens browser\n\n## Implementation\n- Add share preview subcommand\n- Spawn axum server serving static files from bundle dir\n- Optional --open flag to launch browser","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-18T17:59:47.163917+05:30","updated_at":"2025-12-18T17:59:47.163917+05:30"}
{"id":"mcp-agent-mail-rs-4980","title":"Component: Comprehensive Filter Bar","description":"## Task\nCreate unified filter bar component for inbox views matching Python reference.\n\n## Design (from screenshots)\nSingle horizontal bar containing:\n1. **Search Input** (flex-grow)\n   - Placeholder: \"Search all messages across all projects and agents...\"\n   - Search icon prefix\n   - Keyboard shortcut hint (‚åòK)\n   \n2. **Filter Dropdowns** (grouped)\n   - Project: \"All Projects\" + dynamic list\n   - Sender: \"All Senders\" + unique sender names\n   - Recipient: \"All Recipients\" + unique recipients\n   - Importance: \"All\" / \"High\" / \"Normal\"\n   \n3. **Toggles**\n   - Threads: Toggle to show threaded view\n   \n4. **View Controls**\n   - List view icon (active state)\n   - Grid view icon\n   \n5. **Message Count Badge**\n   - Right-aligned\n   - Shows \"X messages\"\n\n## Layout\n```\n[üîç Search................................] [Filters ‚ñº] [‚â° ‚ñ¶] [5 messages]\n```\n\nOn mobile (\u003c 768px):\n- Search takes full width\n- Filters collapse to \"Filters\" button opening bottom sheet\n\n## Implementation\n```rust\n#[component]\npub fn FilterBar(\n    #[prop(into)] on_search: Callback\u003cString\u003e,\n    #[prop(into)] on_filter_change: Callback\u003cFilterState\u003e,\n    #[prop(into)] message_count: Signal\u003cusize\u003e,\n    #[prop(default = vec![])] projects: Vec\u003cString\u003e,\n    #[prop(default = vec![])] senders: Vec\u003cString\u003e,\n) -\u003e impl IntoView\n```\n\n## Files\n- `components/filter_bar.rs` (new)\n- Update existing Select component for multi-select support\n\n## Acceptance Criteria\n- [ ] Filters apply in real-time (debounced search)\n- [ ] Filter state persisted in URL params\n- [ ] Mobile: bottom sheet for filters\n- [ ] Keyboard accessible (tab navigation)","notes":"Claimed by worker-4980","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T06:07:34.519488+05:30","updated_at":"2025-12-18T18:06:11.735832+05:30","closed_at":"2025-12-18T18:06:11.735832+05:30"}
{"id":"mcp-agent-mail-rs-4aqw","title":"GAP: Guard Status CLI Command","description":"## Problem\nPython has `guard status` to print hook installation state. Rust has no equivalent.\n\n## Python Command\n```\nmcp_agent_mail guard status\nInstalled hooks:\n  pre-commit: /path/to/repo/.git/hooks/pre-commit (mcp-agent-mail)\n  pre-push: not installed\n```\n\n## Implementation\n- Add guard status subcommand\n- Check .git/hooks for pre-commit and pre-push\n- Report installation state and version","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T18:00:10.904458+05:30","updated_at":"2025-12-19T21:27:46.14752+05:30","closed_at":"2025-12-19T21:27:46.14752+05:30"}
{"id":"mcp-agent-mail-rs-4c0","title":"Add --with-ui/--no-ui CLI flags to mcp-agent-mail","description":"Update mcp-agent-mail CLI to support --with-ui and --no-ui flags for 'serve http' command. Default to UI enabled when feature compiled in.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T17:52:52.107239+05:30","updated_at":"2025-12-17T19:00:04.495041+05:30","closed_at":"2025-12-17T19:00:04.495041+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-4c0","depends_on_id":"mcp-agent-mail-rs-ddy","type":"blocks","created_at":"2025-12-17T17:53:00.08312+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-4d1","title":"PORT-1.1: Consolidate summarize_thread tools into single unified tool","description":"## Problem\nTwo separate tools (summarize_thread, summarize_threads) create API redundancy.\n\n## Implementation\n- Merge into single tool accepting String or Vec\u003cString\u003e\n- Use #[serde(untagged)] enum for flexible input\n- Return SummarizeResult with summaries + optional errors\n- Partial failures don't break entire operation\n\n## Files\n- crates/libs/lib-mcp/src/tools.rs\n- crates/libs/lib-core/src/model/message.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/app.py\n- Commit f6c642c: perf(tools): consolidate summarize_thread and summarize_threads\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: summarize_thread)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 1.1)\n\n## Acceptance Criteria\n- [ ] Single tool accepts both String and Vec\u003cString\u003e\n- [ ] JSON schema validates both input types\n- [ ] Partial failures return errors array, don't panic\n- [ ] Backward compatible\n- [ ] Tests: test_summarize_single, test_summarize_multiple, test_partial_failure\n\n## Complexity: 6/10","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T00:24:10.848639+05:30","updated_at":"2025-12-18T09:31:57.192433+05:30","closed_at":"2025-12-18T09:31:57.192433+05:30"}
{"id":"mcp-agent-mail-rs-4jdk","title":"PORT: HTTP Transport \u0026 Redis Tests (15 infrastructure tests)","description":"## Description\nPort HTTP transport and Redis fallback tests for infrastructure resilience.\n\n## Test Files\n- test_http_transport.py (5 tests)\n- test_http_auth_rate_limit.py (1 test)\n- test_http_negative_jwt.py (4 tests)\n- test_http_redis_rate_limit.py (varies)\n- test_logging_and_redis_fallback.py (2 tests)\n\n## Key Test Areas\n\n### HTTP Transport\n- SSE connection handling\n- Streamable HTTP\n- Connection lifecycle\n- Error recovery\n\n### JWT Authentication\n- Valid JWT acceptance\n- Expired JWT rejection\n- Invalid signature rejection\n- Missing claims handling\n\n### Rate Limiting\n- Per-identity bucket keys\n- Per-tool rate limits\n- Redis-backed limiting\n- In-memory fallback\n\n### Logging\n- Structured logging\n- Error capture\n- Redis connection loss handling\n\n## Reference\n- Python: tests/test_http_*.py\n- Python: tests/test_logging_and_redis_fallback.py\n\n## Implementation Notes\n- Redis connection pool testing\n- Graceful degradation to in-memory\n- JWT RBAC integration\n- Per-tool rate limit config","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-18T00:58:33.72781+05:30","updated_at":"2025-12-20T06:34:51.631099+05:30"}
{"id":"mcp-agent-mail-rs-4mw","title":"P1: Pre-register 5 built-in macros","description":"Pre-register 5 macros on first server start: macro_start_session (register+inbox), macro_prepare_thread (create+reserve), macro_file_reservation_cycle (reserve/work/release), macro_contact_handshake (cross-project), macro_broadcast_message (multi-recipient).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:54:32.69642+05:30","updated_at":"2025-12-15T20:44:23.420784+05:30","closed_at":"2025-12-15T20:44:23.420784+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-4mw","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:54:32.697165+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-4tp","title":"Add security headers (_headers file for static hosting)","description":"Create _headers file with CSP, X-Frame-Options, X-Content-Type-Options, Referrer-Policy for production builds. Since using adapter-static, headers must be configured via hosting platform.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T02:45:19.938927+05:30","updated_at":"2025-12-15T18:44:54.464287+05:30","closed_at":"2025-12-15T18:44:54.464287+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-4tp","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:19.939465+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-5333","title":"Upgrade Avatar with Avatar/AvatarImage/AvatarFallback compound pattern","description":"## Summary\nRefactor Avatar component to shadcn compound pattern with size variants and proper ARIA.\n\n## Implementation Details\n\n### Refactor avatar.rs\n```rust\nuse leptos::*;\nuse tailwind_fuse::*;\n\nconst AVATAR_BASE: \u0026str = \"relative flex shrink-0 overflow-hidden rounded-full\";\nconst IMAGE_CLASS: \u0026str = \"aspect-square h-full w-full\";\nconst FALLBACK_CLASS: \u0026str = \"flex h-full w-full items-center justify-center rounded-full bg-muted\";\n\n#[derive(TwVariant, Clone, Copy, Default)]\npub enum AvatarSize {\n    #[tw(default, class = \"h-10 w-10\")]\n    Default,\n    #[tw(class = \"h-8 w-8\")]\n    Sm,\n    #[tw(class = \"h-12 w-12\")]\n    Lg,\n    #[tw(class = \"h-16 w-16\")]\n    Xl,\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/avatar.rs\n\n## Acceptance Criteria\n- [ ] Avatar, AvatarImage, AvatarFallback compound components\n- [ ] 4 size variants (sm: 32px, default: 40px, lg: 48px, xl: 64px)\n- [ ] AvatarFallback has role=\"img\"\n- [ ] Uses bg-muted for fallback background\n- [ ] Preserves existing deterministic color generation\n- [ ] All components support class override","notes":"Claimed by worker-5333","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T23:11:53.145555+05:30","updated_at":"2025-12-19T00:55:59.119687+05:30","closed_at":"2025-12-19T00:55:59.119687+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-5333","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:41.114428+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577","title":"Phase 8: Backend Production Hardening \u0026 Drop-in Replacement","description":"PMAT Score: 83.5/134 (62.3%) B+ ‚Üí Target: 100/134 (75%). Quality Gate: FAILED (26 violations) ‚Üí Target: PASSED. Test Coverage: 12.5% ‚Üí Target: 85%. Critical blockers: no unified CLI, no installer script, 26 quality violations. See docs/PRODUCTION_HARDENING_PLAN.md and docs/GAP_ANALYSIS.md for details.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-11T02:13:03.369494+05:30","updated_at":"2025-12-15T16:46:22.645625+05:30","closed_at":"2025-12-15T16:46:22.645625+05:30"}
{"id":"mcp-agent-mail-rs-577.1","title":"P0: Create unified CLI binary (mcp-agent-mail)","description":"Create crates/bins/mcp-agent-mail with subcommands: serve-http (--port), serve-mcp (stdio), health (--url), version. Use clap for argument parsing. This is BLOCKING for drop-in replacement.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T02:14:16.396855+05:30","updated_at":"2025-12-15T16:50:26.241224+05:30","closed_at":"2025-12-15T16:50:26.241224+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.1","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T02:14:16.39726+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.10","title":"P1: Add structured logging with tracing","description":"Add #[instrument] to all handlers, use info!/warn!/error! with structured fields, add request_id correlation, configure tracing-subscriber with JSON output for production. Essential for debugging.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T03:10:59.304068+05:30","updated_at":"2025-12-15T16:46:25.342605+05:30","closed_at":"2025-12-15T16:46:25.342605+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.10","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:10:59.304407+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.11","title":"P1: Add bearer token authentication middleware","description":"Add auth middleware checking HTTP_BEARER_TOKEN env var. Support HTTP_ALLOW_LOCALHOST_UNAUTHENTICATED=true for dev mode. Return 401 Unauthorized for invalid/missing token. Python parity feature.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T03:10:59.534526+05:30","updated_at":"2025-12-15T20:52:32.57711+05:30","closed_at":"2025-12-15T20:52:32.57711+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.11","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:10:59.534869+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.12","title":"P2: Add graceful shutdown handling","description":"Handle SIGTERM and SIGINT signals with tokio::signal. Complete in-flight requests, close database connections cleanly, log shutdown progress. Essential for container deployments.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T03:11:19.152222+05:30","updated_at":"2025-12-15T21:41:34.448937+05:30","closed_at":"2025-12-15T21:41:34.448937+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.12","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:11:19.152608+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.13","title":"P2: Add rate limiting with tower-governor","description":"Add per-endpoint rate limiting: 10 req/sec with 50 burst for message send, higher limits for reads. Prevents DoS and abuse. Use tower-governor crate.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T03:11:19.382651+05:30","updated_at":"2025-12-15T21:41:34.657192+05:30","closed_at":"2025-12-15T21:41:34.657192+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.13","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:11:19.38306+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.14","title":"P2: Complete attachment handlers implementation","description":"Implement /api/attachments/add and /api/attachments/get handlers. Schema exists but handlers are stubs. Support base64 encoding, mime type detection, size limits.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T03:11:19.612752+05:30","updated_at":"2025-12-15T21:41:34.870935+05:30","closed_at":"2025-12-15T21:41:34.870935+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.14","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:11:19.613132+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.15","title":"P1: Add CI/CD pipeline (GitHub Actions)","description":"Create .github/workflows/ci.yml with: cargo fmt check, cargo clippy -D warnings, cargo test, cargo audit, pmat quality-gate, cargo-llvm-cov with 85% threshold, build matrix for linux/macos. Add release workflow for binaries.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T03:11:19.849852+05:30","updated_at":"2025-12-15T20:54:22.963536+05:30","closed_at":"2025-12-15T20:54:22.963536+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.15","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:11:19.850243+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.16","title":"P2: Add OpenAPI documentation with utoipa","description":"Add utoipa derives to all request/response types. Create OpenAPI spec at /openapi.json. Serve Swagger UI at /docs. Document all 62 endpoints with examples.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T03:11:20.077689+05:30","updated_at":"2025-12-15T22:21:00.715622+05:30","closed_at":"2025-12-15T22:21:00.715622+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.16","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:11:20.078063+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.2","title":"P0: Create installer script (scripts/install.sh)","description":"Create bash installer that: detects OS/arch, downloads binary from releases, installs to ~/.local/bin, creates launchd plist (macOS) or systemd unit (Linux), starts server, verifies health. One-liner: curl ... | bash","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T02:14:22.623313+05:30","updated_at":"2025-12-15T16:55:42.174953+05:30","closed_at":"2025-12-15T16:55:42.174953+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.2","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T02:14:22.62373+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.3","title":"P0: Fix dead code warnings (5 unused fields)","description":"Fix cargo warnings: GetMessagePayload unused, InvokeMacroPayload.params unused, AddAttachmentPayload.mime_type unused, CreateAgentIdentityParams.hint unused, ExportMailboxParams.include_attachments unused. Either use them or remove them.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-11T02:14:26.209463+05:30","updated_at":"2025-12-15T16:46:24.33833+05:30","closed_at":"2025-12-15T16:46:24.33833+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.3","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T02:14:26.209896+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.4","title":"P0: Document beads environment variables","description":"Add to README: BEADS_AGENT_MAIL_URL (default http://127.0.0.1:8765), BEADS_AGENT_NAME, BEADS_PROJECT_ID, PORT (default 8765), HOST (default 127.0.0.1). Also update CLAUDE.md and AGENTS.md.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T02:14:29.203458+05:30","updated_at":"2025-12-15T17:47:43.67251+05:30","closed_at":"2025-12-15T17:47:43.67251+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.4","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T02:14:29.203818+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.5","title":"P0: Add Python-compatible route aliases","description":"Add GET aliases: /api/reservations ‚Üí list_file_reservations, /api/reservations/:id DELETE ‚Üí release_reservation, /api/inbox/:agent GET ‚Üí inbox by agent, /api/thread/:id GET ‚Üí thread by id. Required for beads bd integration.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T02:34:43.628111+05:30","updated_at":"2025-12-15T17:47:43.768994+05:30","closed_at":"2025-12-15T17:47:43.768994+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.5","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T02:34:43.628631+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.6","title":"P1: Increase test coverage to 85%","description":"Current: 12.5%. Target: 85%. Focus: lib-core/model BMC CRUD (90%), lib-core/store git+sqlite (85%), mcp-server/tools handlers (80%), mcp-stdio protocol (80%). Use cargo-llvm-cov for measurement.","status":"in_progress","priority":1,"issue_type":"task","created_at":"2025-12-11T03:10:51.33256+05:30","updated_at":"2025-12-17T22:50:50.418894+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.6","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:10:51.33304+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.7","title":"P1: Refactor complexity hotspots (cyclomatic \u003e10)","description":"Hotspots: commit_file (14), create_agent_identity (13), main in mcp-cli (12), commit_paths (11), file_reservation_paths (11). Extract helper functions, reduce nesting. PMAT estimates 15.2h refactoring time.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T03:10:55.670192+05:30","updated_at":"2025-12-17T23:41:32.343922+05:30","closed_at":"2025-12-17T23:41:32.343922+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.7","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:10:55.67058+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.8","title":"P1: Add end-to-end integration tests","description":"Create tests/integration/ with scenarios: complete messaging flow (create project ‚Üí register agents ‚Üí send ‚Üí inbox ‚Üí ack), file reservation lifecycle, search/FTS5, contact management. Use test fixtures and spawn_test_server pattern.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T03:10:58.84905+05:30","updated_at":"2025-12-15T16:46:24.760583+05:30","closed_at":"2025-12-15T16:46:24.760583+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.8","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:10:58.849471+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-577.9","title":"P1: Implement pre-commit guard for file reservations","description":"Implement /api/setup/install_guard and /api/setup/uninstall_guard to install git pre-commit hook that checks Agent Mail reservations before allowing commit. Python has this feature.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T03:10:59.077025+05:30","updated_at":"2025-12-17T20:31:41.622068+05:30","closed_at":"2025-12-17T20:31:41.622068+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-577.9","depends_on_id":"mcp-agent-mail-rs-577","type":"parent-child","created_at":"2025-12-11T03:10:59.077414+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-5a0","title":"P2: Fix attachments.rs security - use user context instead of root","description":"File crates/libs/lib-server/src/api/attachments.rs:44 uses Ctx::root_ctx() instead of proper user context from request. This bypasses user-level authorization checks. Security impact: Any user can access any attachment. Fix: Extract user context from request auth, use for all attachment operations. Add test to verify user isolation.","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-17T20:52:23.651958+05:30","updated_at":"2025-12-17T23:41:34.349293+05:30","closed_at":"2025-12-17T23:41:34.349293+05:30"}
{"id":"mcp-agent-mail-rs-5ak","title":"P1: Add test for outbox endpoint (35bb558)","description":"Outbox endpoint (35bb558) added /api/outbox but no test. Add test_list_outbox() to verify: messages sent BY agent appear in outbox, messages TO agent do NOT appear in outbox.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-12T17:59:02.638237+05:30","updated_at":"2025-12-15T19:59:16.514016+05:30","closed_at":"2025-12-15T19:59:16.514016+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-5ak","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T17:59:02.638861+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-5dh","title":"Add integration tests for precommit guard MCP tools","description":"Add tests in lib-mcp/tests/ that verify:\n- install_precommit_guard appears in tools/list\n- install_precommit_guard tool call succeeds with valid params\n- uninstall_precommit_guard tool call succeeds","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:06:14.217589+05:30","updated_at":"2025-12-17T19:27:26.28642+05:30","closed_at":"2025-12-17T19:27:26.28642+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-5dh","depends_on_id":"mcp-agent-mail-rs-2ci","type":"blocks","created_at":"2025-12-16T20:06:14.21829+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-5hq","title":"Single Binary Sidecar with Optional Embedded UI","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-17T17:52:31.988812+05:30","updated_at":"2025-12-17T19:02:11.441805+05:30","closed_at":"2025-12-17T19:02:11.441805+05:30"}
{"id":"mcp-agent-mail-rs-5l8","title":"PORT-3.2: Add advisory and bypass modes to pre-commit guard","description":"## Problem\nNeed flexible guard modes: enforce (block), warn (advisory), bypass (skip).\n\n## Implementation\n- Add GuardMode enum: Enforce, Warn, Bypass\n- GuardMode::from_env() checking AGENT_MAIL_BYPASS, AGENT_MAIL_GUARD_MODE\n- Enforce: return Err on conflict\n- Warn: log warning, return Ok with warnings\n- Bypass: skip all checks\n\n## Files\n- crates/libs/lib-core/src/model/precommit_guard.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/guard.py\n- Commit 8fd0238: fix(guard): honor WORKTREES_ENABLED gate\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: AGENT_MAIL_BYPASS, warn)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 3.2)\n\n## Acceptance Criteria\n- [ ] AGENT_MAIL_BYPASS=1 skips all checks\n- [ ] AGENT_MAIL_GUARD_MODE=warn allows with warning\n- [ ] Default mode is enforce\n- [ ] Warning includes conflict details\n- [ ] Tests for each mode\n\n## Complexity: 4/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:26:26.138365+05:30","updated_at":"2025-12-19T06:00:35.430164+05:30","closed_at":"2025-12-19T06:00:35.430164+05:30"}
{"id":"mcp-agent-mail-rs-5nf","title":"P2: Address 6 dead code violations from PMAT quality gate","description":"PMAT quality-gate found 6 dead code violations. Run cargo +nightly udeps --workspace to identify unused dependencies. Remove or feature-gate unused code paths. Common causes: 1) Unused imports after refactoring, 2) Dead functions from removed features, 3) Unused pub exports. Each removal should have associated test verification.","notes":"No dead_code warnings from cargo/clippy - may be stale or dependency-related. Will revisit after other P2 tasks.","status":"open","priority":2,"issue_type":"chore","created_at":"2025-12-17T20:52:31.144821+05:30","updated_at":"2025-12-17T23:01:18.373579+05:30"}
{"id":"mcp-agent-mail-rs-5qf","title":"PORT-6.2: Improve installer with latest pull and server restart","description":"## Problem\nInstaller should update existing installations and handle running servers.\n\n## Implementation\n- Pull latest if repo exists\n- Stop existing server before starting new\n- Handle piped stdin (curl | bash)\n- Graceful error messages\n\n## Files\n- scripts/install.sh\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/scripts/install.sh\n- Commits: bb49ba4, b846430, dd1a63c\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: installer, pull, stop)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 6.2)\n\n## Acceptance Criteria\n- [ ] Pulls latest when repo exists\n- [ ] Stops existing server before start\n- [ ] Handles piped stdin (exec 0\u003c/dev/tty)\n- [ ] Graceful error messages\n\n## Complexity: 4/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:27:06.262284+05:30","updated_at":"2025-12-19T16:51:17.901233+05:30","closed_at":"2025-12-19T16:51:17.901233+05:30"}
{"id":"mcp-agent-mail-rs-5s8","title":"P0: Fix precommit_guard.rs unwrap() in async file ops","description":"File crates/libs/lib-core/src/model/precommit_guard.rs has 4 unwrap() calls in async file operations (line 39, 41, etc). These can crash when: 1) File permissions denied, 2) Disk full, 3) Path doesn't exist. Replace with ? operator and proper Result propagation. Also contains SATD: TODO at line 27 for API call implementation.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-17T20:51:37.494482+05:30","updated_at":"2025-12-17T20:58:22.220317+05:30","closed_at":"2025-12-17T20:58:22.220317+05:30"}
{"id":"mcp-agent-mail-rs-5yg","title":"PORT-1.3: Implement agent mistake detection helpers with Levenshtein similarity","description":"## Problem\nAI agents make predictable mistakes. Proactive detection improves UX.\n\n## Implementation\nCreate lib-core/src/utils/mistake_detection.rs with:\n- detect_path_as_project_key() - relative path where absolute expected\n- detect_path_as_agent_name() - path chars in agent name\n- detect_id_confusion() - thread_id vs message_id\n- suggest_similar() - Levenshtein distance for entity suggestions\n- sanitize_agent_name() - cleanup for suggestions\n\n## Dependencies\n- Add strsim crate for Levenshtein distance\n\n## Files\n- crates/libs/lib-core/src/utils/mistake_detection.rs (NEW)\n- crates/libs/lib-core/Cargo.toml (add strsim)\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/app.py\n- Commit 5b06416: feat(ux): add intelligent error handling for common agent mistakes\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: mistake, similar)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 1.3)\n\n## Acceptance Criteria\n- [ ] Detects 5+ common mistake patterns\n- [ ] Levenshtein similarity for entity suggestions (max_distance=3)\n- [ ] Confidence scores (0.0-1.0) for filtering\n- [ ] Integrated with validation error responses\n- [ ] Tests for each detection function\n\n## Complexity: 5/10","notes":"SCAFFOLDING EXISTS (2025-12-19): mistake_detection.rs created with MistakeSuggestion struct, detect_path_as_project_key(), detect_path_as_agent_name(), detect_id_confusion(), suggest_similar() using strsim crate - all with tests. REMAINING: Integration into error responses not done. Need to wire detection functions into lib-core/error.rs and API error handlers to provide suggestions.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T00:24:39.468723+05:30","updated_at":"2025-12-19T06:43:13.454651+05:30","closed_at":"2025-12-19T06:43:13.454651+05:30"}
{"id":"mcp-agent-mail-rs-5zb","title":"Add deny.toml for dependency policy","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T16:41:39.457161+05:30","updated_at":"2025-12-17T16:49:04.037341+05:30","closed_at":"2025-12-17T16:49:04.037341+05:30"}
{"id":"mcp-agent-mail-rs-63f","title":"PORT: Product-Level Search/Summarize Tools (cross-project)","description":"## Description\nPort the product-level tools that operate across all projects linked to a product.\n\n## Missing Tools\n\n### 1. search_messages_product\n- Full-text search across ALL projects linked to a product\n- Uses FTS5 with query sanitization\n- Returns aggregated results from multiple projects\n\n### 2. summarize_thread_product\n- Summarize a thread across product-linked projects\n- Aggregates thread messages from multiple projects\n- LLM mode support for summaries\n\n## Reference\n- Python: mcp_agent_mail/src/mcp_agent_mail/app.py\n- Lines with: search_messages_product, summarize_thread_product\n\n## Implementation Notes\n- Gated by WORKTREES_ENABLED (like in Python)\n- Rust already has product_inbox (equivalent to fetch_inbox_product)\n- Need to add these 2 cross-product tools\n- Requires ProductProjectLink model support","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T00:51:40.179865+05:30","updated_at":"2025-12-18T00:51:40.179865+05:30"}
{"id":"mcp-agent-mail-rs-64w","title":"PORT-7.1: Add concurrency tests for parallel MCP operations","description":"## Problem\nNeed tests verifying thread safety and race condition handling.\n\n## Implementation\nPort 12 Python concurrency tests:\n1. test_concurrent_message_sends (10 parallel)\n2. test_concurrent_messages_to_same_thread (5 agents)\n3. test_concurrent_file_reservation_different_paths\n4. test_concurrent_file_reservation_same_path_conflict\n5. test_concurrent_file_reservation_overlapping_globs\n6. test_concurrent_inbox_fetches (10 parallel)\n7. test_concurrent_inbox_fetch_during_message_send\n8. test_concurrent_project_ensure (idempotent)\n9. test_concurrent_agent_registration\n10. test_concurrent_message_read_write\n11. test_concurrent_archive_writes\n12. test_concurrent_message_bundle_writes\n\n## Files\n- crates/libs/lib-core/tests/concurrent_tests.rs (NEW)\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/tests/test_concurrent_writes.py\n- Commit 39575b9: test(concurrency): add tests for parallel MCP operations\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: concurrent, parallel)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 7.1)\n\n## Acceptance Criteria\n- [ ] All 12 concurrency tests ported\n- [ ] Use tokio::spawn for parallelism\n- [ ] Proper error collection with join_all\n- [ ] Tests pass reliably (no flaky)\n\n## Complexity: 6/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:27:34.368789+05:30","updated_at":"2025-12-19T16:51:28.134193+05:30","closed_at":"2025-12-19T16:51:28.134193+05:30"}
{"id":"mcp-agent-mail-rs-696h","title":"Verify dark mode works correctly for all components","description":"## Summary\nTest all components in dark mode to ensure CSS variables work correctly.\n\n## Implementation Details\n\n### Test Checklist\n- Card background uses --card variable\n- Text uses --foreground / --card-foreground\n- Borders use --border variable\n- Input backgrounds correct\n- Button variants visible\n- Badge variants visible\n- Alert variants visible\n- Focus rings visible against dark background\n- Skeleton pulse animation visible\n\n### Dev-Browser Test Script\n```typescript\n// Enable dark mode\nawait page.emulateMedia({ colorScheme: 'dark' });\nawait page.goto('http://localhost:8080');\n\n// Screenshot all pages\nconst pages = ['/', '/projects', '/inbox', '/agents'];\nfor (const path of pages) {\n  await page.goto(\\`http://localhost:8080\\${path}\\`);\n  await page.screenshot({ path: \\`dark-mode-\\${path.replace('/', 'home')}.png\\` });\n}\n```\n\n## Acceptance Criteria\n- [ ] All semantic colors apply correctly in dark mode\n- [ ] No white flash on page load\n- [ ] Contrast ratios meet WCAG AA (4.5:1 for text)\n- [ ] Focus rings visible\n- [ ] All component variants visible and distinguishable","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-18T23:13:06.456175+05:30","updated_at":"2025-12-19T01:58:08.748194+05:30","closed_at":"2025-12-19T01:58:08.748194+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-696h","depends_on_id":"mcp-agent-mail-rs-ytr6","type":"blocks","created_at":"2025-12-18T23:13:51.241546+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-6et","title":"GitHub Binary Release v0.1.0","description":"Epic for releasing mcp-agent-mail as GitHub binary. Includes security fixes, Makefile updates, CI improvements, and release workflow enhancements. Based on pmat analysis (TDG: 95.8/100 A+, Repo Score: 76.5/100 B)","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-17T15:03:23.831435+05:30","updated_at":"2025-12-17T18:20:59.406166+05:30","closed_at":"2025-12-17T18:20:59.406166+05:30"}
{"id":"mcp-agent-mail-rs-6et.1","title":"Fix unwrap() in ratelimit.rs (line 52)","description":"Replace NonZeroU32::new(100).unwrap() with const or expect(). pmat flagged as critical defect. File: crates/libs/lib-server/src/ratelimit.rs:52","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-17T15:03:33.508613+05:30","updated_at":"2025-12-17T16:39:00.946458+05:30","closed_at":"2025-12-17T16:39:00.946458+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-6et.1","depends_on_id":"mcp-agent-mail-rs-6et","type":"parent-child","created_at":"2025-12-17T15:03:33.509033+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-6et.2","title":"Fix unwrap() in export.rs (line 59)","description":"Replace Response::builder().unwrap() with expect() or error propagation. File: crates/libs/lib-server/src/api/export.rs:59","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-17T15:03:35.092254+05:30","updated_at":"2025-12-17T16:38:59.019925+05:30","closed_at":"2025-12-17T16:38:59.019925+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-6et.2","depends_on_id":"mcp-agent-mail-rs-6et","type":"parent-child","created_at":"2025-12-17T15:03:35.09264+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-6et.3","title":"Fix unwrap() in attachments.rs (line 158)","description":"Replace Response::builder().unwrap() with expect() or error propagation. File: crates/libs/lib-server/src/api/attachments.rs:158","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-17T15:03:36.357333+05:30","updated_at":"2025-12-17T16:38:57.54933+05:30","closed_at":"2025-12-17T16:38:57.54933+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-6et.3","depends_on_id":"mcp-agent-mail-rs-6et","type":"parent-child","created_at":"2025-12-17T15:03:36.357724+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-6et.4","title":"Add .pmat-gates.toml configuration","description":"Create .pmat-gates.toml with: tdg_min_grade=B, max_critical_defects=0, max_unwrap_in_src=0, coverage_min=70. Ignore paths: target/, tests/, .sandboxes/","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-17T15:03:39.186582+05:30","updated_at":"2025-12-17T16:39:01.207888+05:30","closed_at":"2025-12-17T16:39:01.207888+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-6et.4","depends_on_id":"mcp-agent-mail-rs-6et","type":"parent-child","created_at":"2025-12-17T15:03:39.186982+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-6et.5","title":"Update Makefile: add test-fast, coverage, audit targets","description":"Add missing targets to Makefile: test-fast (unit tests only), coverage (cargo llvm-cov), audit (cargo audit + deny), quality-gate (pmat). Required by pmat repo-score recommendations.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T15:03:42.064511+05:30","updated_at":"2025-12-17T17:10:57.5971+05:30","closed_at":"2025-12-17T17:10:57.5971+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-6et.5","depends_on_id":"mcp-agent-mail-rs-6et","type":"parent-child","created_at":"2025-12-17T15:03:42.064962+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-6et.6","title":"Update Makefile: change web-ui to web-ui-leptos","description":"Makefile references SvelteKit (web-ui) but project uses Leptos (web-ui-leptos). Update build-web target to: cd crates/services/web-ui-leptos \u0026\u0026 trunk build --release","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T15:03:44.277395+05:30","updated_at":"2025-12-17T17:10:56.589252+05:30","closed_at":"2025-12-17T17:10:56.589252+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-6et.6","depends_on_id":"mcp-agent-mail-rs-6et","type":"parent-child","created_at":"2025-12-17T15:03:44.277752+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-6et.7","title":"Update wasmtime in dev-dependencies","description":"jugar-probar uses wasmtime 29.0.1 with RUSTSEC-2025-0046 (Low) and RUSTSEC-2025-0118 (Low). Check if newer version available or if jugar-probar has update.","notes":"Starting work in worktree sandbox: .sandboxes/agent-wasmtime-fix","status":"closed","priority":2,"issue_type":"chore","created_at":"2025-12-17T15:03:47.136907+05:30","updated_at":"2025-12-17T18:13:52.701012+05:30","closed_at":"2025-12-17T18:13:52.701012+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-6et.7","depends_on_id":"mcp-agent-mail-rs-6et","type":"parent-child","created_at":"2025-12-17T15:03:47.137278+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-6et.8","title":"Monitor RSA advisory RUSTSEC-2023-0071","description":"rsa 0.9.9 has Marvin Attack timing sidechannel (Medium severity). No fix available. Only in dev-deps for JWT testing. Monitor for upstream fix.","status":"closed","priority":3,"issue_type":"chore","created_at":"2025-12-17T15:03:49.894026+05:30","updated_at":"2025-12-17T18:20:59.243773+05:30","closed_at":"2025-12-17T18:20:59.243773+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-6et.8","depends_on_id":"mcp-agent-mail-rs-6et","type":"parent-child","created_at":"2025-12-17T15:03:49.894404+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-6ht","title":"PORT-3.4: Support custom core.hooksPath in guard installation","description":"## Problem\nGuard installation should respect git's core.hooksPath configuration.\n\n## Implementation\n- get_hooks_dir() reading git config\n- Handle absolute paths directly\n- Resolve relative paths from repo root\n- Fallback to .git/hooks\n\n## Files\n- crates/libs/lib-core/src/model/precommit_guard.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/guard.py\n- Commit 733cfd3: test(guard): custom core.hooksPath tests\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: hooksPath)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 3.4)\n\n## Acceptance Criteria\n- [ ] Respects absolute core.hooksPath\n- [ ] Resolves relative paths from repo root\n- [ ] Falls back to .git/hooks\n- [ ] Tests with custom hooks path\n\n## Complexity: 3/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:26:26.265391+05:30","updated_at":"2025-12-19T15:44:15.953556+05:30","closed_at":"2025-12-19T15:44:15.953556+05:30"}
{"id":"mcp-agent-mail-rs-6irb","title":"P1: Add HSTS security header (Strict-Transport-Security)","description":"## Summary\nAdd HSTS header to lib-server security middleware.\n\n## Implementation\n```rust\n.layer(SetResponseHeaderLayer::overriding(\n    HeaderName::from_static(\"strict-transport-security\"),\n    HeaderValue::from_static(\"max-age=31536000; includeSubDomains\"),\n))\n```\n\n## Location\ncrates/libs/lib-server/src/lib.rs lines 125-139 (existing security headers)\n\n## Acceptance Criteria\n- [ ] HSTS header added with max-age=31536000\n- [ ] includeSubDomains directive included\n- [ ] cargo test passes\n- [ ] Verify header with curl -I\n\n## Reference\nproduction-hardening-backend skill: OWASP Security Headers","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T19:03:34.945343+05:30","updated_at":"2025-12-20T04:21:22.878425+05:30","closed_at":"2025-12-20T04:21:22.878425+05:30"}
{"id":"mcp-agent-mail-rs-741","title":"PORT: Macro Convenience Tools (4 session/workflow helpers)","description":"## Description\nPort the 4 Python macro convenience tools that orchestrate multi-step workflows.\n\n## Missing Tools\n\n### 1. macro_start_session\nBoots a project session in one call:\n- ensure_project\n- register_agent (or get existing)\n- optionally reserve file paths\n- fetch inbox snapshot\n\n### 2. macro_prepare_thread\nAligns an agent with an existing thread:\n- ensure agent registration\n- summarize the thread\n- fetch recent inbox context\n- LLM mode support\n\n### 3. macro_file_reservation_cycle\nReserve files with optional auto-release:\n- reserve file paths\n- optionally auto-release at workflow end\n\n### 4. macro_contact_handshake\nContact permission workflow:\n- request contact\n- optionally auto-approve\n- optionally send welcome message\n\n## Reference\n- Python: mcp_agent_mail/src/mcp_agent_mail/app.py\n- Search for: macro_start_session, macro_prepare_thread, macro_file_reservation_cycle, macro_contact_handshake\n\n## Implementation Notes\n- These are orchestration tools that call other existing tools\n- Rust has similar 'quick_*' workflows but missing these specific macros\n- Should be registered conditionally based on feature flags","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T00:51:39.960316+05:30","updated_at":"2025-12-18T00:51:39.960316+05:30"}
{"id":"mcp-agent-mail-rs-74j","title":"Add HTTP/SSE transport option","description":"Optional HTTP transport for web-based MCP clients","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T04:45:24.013401+05:30","updated_at":"2025-12-09T06:54:57.621817+05:30","closed_at":"2025-12-09T06:54:57.621817+05:30","labels":["mcp","transport"]}
{"id":"mcp-agent-mail-rs-7cw","title":"P0: Implement Dashboard E2E tests (D-001 to D-007)","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:33:20.124906+05:30","updated_at":"2025-12-15T18:44:26.878426+05:30","closed_at":"2025-12-15T18:44:26.878426+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-7cw","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:00.867573+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-7cw","depends_on_id":"mcp-agent-mail-rs-ah3","type":"blocks","created_at":"2025-12-11T23:34:23.969589+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-7d0a","title":"T6: Integration tests for list_pending_reviews","description":"TDD tests: empty when all acked, includes partial ack, full context present, filter by project, filter by sender, limit clamped. Complexity: 6/10. File: crates/libs/lib-core/tests/message_tests.rs","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T17:45:56.68488+05:30","updated_at":"2025-12-19T05:35:27.033327+05:30","closed_at":"2025-12-19T05:35:27.033327+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-7d0a","depends_on_id":"mcp-agent-mail-rs-knos","type":"blocks","created_at":"2025-12-18T17:46:09.608497+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-7gn","title":"Add quick_handoff_workflow convenience tool","description":"Add MCP tool that facilitates task handoff between agents:\n- QuickHandoffParams { project_slug, from_agent, to_agent, task_summary, file_paths?: Vec\u003cString\u003e }\n- Sends handoff message with context\n- Optionally transfers file reservations\n- Returns handoff confirmation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:06:58.124085+05:30","updated_at":"2025-12-17T20:29:05.526193+05:30","closed_at":"2025-12-17T20:29:05.526193+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-7gn","depends_on_id":"mcp-agent-mail-rs-7rh","type":"blocks","created_at":"2025-12-16T20:06:58.124753+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-7gr","title":"Generate JSON schemas for tool arguments","description":"Use schemars to auto-generate JSON schemas for all tool input types","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T04:45:24.292545+05:30","updated_at":"2025-12-09T05:45:50.815856+05:30","closed_at":"2025-12-09T05:45:50.815856+05:30","labels":["mcp","schema"]}
{"id":"mcp-agent-mail-rs-7h9","title":"Verify MCP macro tools (list_macros, invoke_macro, register_macro) work end-to-end","description":"Audit lib-mcp/src/tools.rs to verify:\n1. Macro tool handlers are properly registered in tool_router\n2. list_macros returns macros from MacroDefBmc\n3. invoke_macro executes macro steps and returns results\n4. register_macro creates custom macros in DB\nAdd integration tests if missing.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:06:56.857595+05:30","updated_at":"2025-12-17T20:15:36.366574+05:30","closed_at":"2025-12-17T20:15:36.366574+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-7h9","depends_on_id":"mcp-agent-mail-rs-7rh","type":"blocks","created_at":"2025-12-16T20:06:56.859055+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-7j4","title":"PORT: File Locks API Endpoint (/mail/api/locks)","description":"## Description\nPort the file locks JSON API endpoint from Python.\n\n## Missing Endpoint\n`GET /mail/api/locks` - Returns JSON list of all active file reservations across projects.\n\n## Python Implementation\n- Returns all active file reservations\n- Used by web UI to display lock status\n- Aggregates across all projects\n\n## Reference\n- Python: mcp_agent_mail/src/mcp_agent_mail/http.py line 1136\n\n## Implementation Notes\n- Simple GET endpoint returning JSON\n- Can leverage existing list_file_reservations logic\n- Lower priority - mainly for web UI dashboard","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T00:51:40.630777+05:30","updated_at":"2025-12-18T00:51:40.630777+05:30"}
{"id":"mcp-agent-mail-rs-7kgt","title":"LEPTOS-003: Mark-Read UI Button","description":"## Summary\nAdd mark-read toggle button to MessageDetail. API `/api/message/read` already exists.\n\n## Implementation\nLocation: `components/message_detail.rs`\n\n```rust\n// Toggle button with optimistic update\nview! {\n    \u003cbutton\n        class=tw_merge!(btn_class, \"h-10 w-10\")\n        on:click=toggle_read_status\n        aria-pressed=is_read\n        aria-label=if is_read { \"Mark as unread\" } else { \"Mark as read\" }\n    \u003e\n        \u003cIcon icon=if is_read { \"eye-off\" } else { \"eye\" } /\u003e\n    \u003c/button\u003e\n}\n```\n\n## Acceptance Criteria\n- [ ] Toggle button in MessageDetail header (eye/eye-off icon)\n- [ ] Button \u003e= 44x44px touch target\n- [ ] Calls POST /api/message/{id}/read endpoint\n- [ ] Optimistic UI update (immediate visual feedback)\n- [ ] Error toast on API failure with retry option\n- [ ] Keyboard accessible (Enter/Space activates)\n- [ ] aria-pressed attribute reflects state\n- [ ] Visual state: read (muted) vs unread (bold)\n\n## Quality Gates\n- cargo clippy -- -D warnings\n- Visual regression screenshot added\n- VoiceOver announces state change\n\n## Reference Skills\n- shadcn-ui: Button variants, focus ring\n- mobile-frontend-design: 44px touch targets\n- kaizen-solaris-review: Error handling with Result","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T22:03:36.730264+05:30","updated_at":"2025-12-20T01:50:28.245551+05:30","closed_at":"2025-12-20T01:50:28.245551+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-7kgt","depends_on_id":"mcp-agent-mail-rs-1d2q","type":"blocks","created_at":"2025-12-19T22:07:10.653804+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-7kgt","depends_on_id":"mcp-agent-mail-rs-w7n3","type":"blocks","created_at":"2025-12-19T22:07:10.707607+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-7rh","title":"Epic: Workflow Macros Completion - Missing Convenience Tools","description":"Workflow macros are partially implemented. The REST API has list_macros, register_macro, unregister_macro, and invoke_macro. MCP has schemas but needs additional convenience tools.\n\nCurrent State:\n- REST: All 4 macro endpoints work\n- MCP: list_macros, register_macro, invoke_macro schemas defined\n- MCP: Tool implementations need verification\n- Missing: Batch operations, macro templates, quick-workflow tools\n\nRequired Additions:\n1. Verify MCP macro tools work end-to-end (tool_router registration)\n2. Add batch_invoke_macro for running multiple macros in sequence\n3. Add workflow templates (common patterns like 'code-review', 'deploy-check')\n4. Add list_builtin_macros to show pre-defined workflows\n5. Add macro validation before registration\n\nConvenience Tools (Python Parity):\n- quick_standup_workflow: Broadcasts standup request to all agents\n- quick_handoff_workflow: Facilitates task handoff between agents\n- quick_review_workflow: Initiates code review flow\n\nAcceptance Criteria:\n- All macro MCP tools callable via tools/call\n- Batch operations work atomically\n- Built-in workflow templates available","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-16T20:06:29.764539+05:30","updated_at":"2025-12-17T20:31:40.188858+05:30","closed_at":"2025-12-17T20:31:40.188858+05:30"}
{"id":"mcp-agent-mail-rs-7rv3","title":"Upgrade Select component with CVA variants, full ARIA, and keyboard navigation","description":"## Summary\nMajor refactor of Select component to use tailwind_fuse, add missing ARIA attributes, and implement full keyboard navigation.\n\n## Implementation Details\n\n### Required Changes to select.rs\n\n1. **Convert to tailwind_fuse**\n   - Replace format!() class concatenation with tw_merge!\n   - Add SelectSize variant enum\n\n2. **Add Missing ARIA Attributes**\n   - aria-controls linking trigger to listbox\n   - aria-activedescendant for focused option\n   - aria-haspopup=\"listbox\"\n   - Unique IDs for listbox and options\n\n3. **Add Keyboard Navigation**\n   - Home/End keys to jump to first/last option\n   - Type-ahead search (first matching option)\n   - Escape to close\n\n4. **Use Semantic Colors**\n   - Replace amber-400, charcoal-800 with bg-popover, text-popover-foreground\n\n### Target Classes (from shadcn)\nTrigger: flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm focus:ring-2 focus:ring-ring\nContent: relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/select.rs\n\n## Acceptance Criteria\n- [ ] Uses tailwind_fuse for class merging\n- [ ] aria-controls links trigger to listbox with matching ID\n- [ ] aria-activedescendant updates on arrow key navigation\n- [ ] Home key selects first option\n- [ ] End key selects last option\n- [ ] Type-ahead: typing 'a' focuses first option starting with 'a'\n- [ ] Escape key closes dropdown\n- [ ] Uses bg-popover instead of project-specific colors\n- [ ] Focus ring visible on trigger\n- [ ] All options have unique IDs","notes":"Claimed by worker-7rv3","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T23:11:52.92012+05:30","updated_at":"2025-12-19T00:47:02.436366+05:30","closed_at":"2025-12-19T00:47:02.436366+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-7rv3","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:41.068459+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-7wu","title":"PORT: Archive Browser Web UI Routes (7 routes)","description":"## Description\nPort the Python archive browser web UI routes that provide visualization and exploration of git archive history.\n\n## Missing Routes\n\n1. `/mail/archive/guide` - Archive usage guide HTML\n2. `/mail/archive/activity` - Activity timeline HTML\n3. `/mail/archive/commit/{sha}` - Commit detail HTML\n4. `/mail/archive/timeline` - Visual timeline HTML\n5. `/mail/archive/browser` - File browser HTML\n6. `/mail/archive/browser/{project}/file` - File content view\n7. `/mail/archive/network` - Git network graph HTML\n8. `/mail/archive/time-travel` - Time travel UI\n9. `/mail/archive/time-travel/snapshot` - Snapshot at point in time\n\n## Reference\n- Python: mcp_agent_mail/src/mcp_agent_mail/http.py\n- Lines 2436-2723\n\n## Implementation Notes\n- All HTML routes use Jinja2 templates in Python\n- Rust may use Askama, Tera, or HTMX for templating\n- Consider using existing Leptos WASM frontend patterns\n- Lower priority than core API functionality","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-18T00:51:40.404417+05:30","updated_at":"2025-12-18T00:51:40.404417+05:30"}
{"id":"mcp-agent-mail-rs-7zr","title":"Create static_files.rs handler for SPA routing","description":"Create lib-server/src/static_files.rs with serve_embedded_file() handler. Support SPA routing (fallback to index.html) and proper MIME types.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T17:52:51.689483+05:30","updated_at":"2025-12-17T18:56:51.102263+05:30","closed_at":"2025-12-17T18:56:51.102263+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-7zr","depends_on_id":"mcp-agent-mail-rs-9bd","type":"blocks","created_at":"2025-12-17T17:52:59.952018+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-81g","title":"P2: Create systemd service files for Linux deployment","description":"Create deploy/systemd/mcp-agent-mail.service unit file for production Linux deployment. Include: ExecStart, WorkingDirectory, Environment, Restart=always, User/Group. Also create mcp-agent-mail.socket for socket activation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:55:14.142192+05:30","updated_at":"2025-12-15T22:21:00.855157+05:30","closed_at":"2025-12-15T22:21:00.855157+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-81g","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:55:14.143241+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-859","title":"P1: Refactor commit_message_to_git complexity (cyclomatic 12 ‚Üí \u003c7)","description":"PMAT complexity analysis shows commit_message_to_git has cyclomatic complexity 12 (threshold: 10). Location: crates/libs/lib-core/src/model/message.rs. Extract into 4 smaller functions: 1) validate_git_context() - check repo exists, 2) format_commit_message() - build message string, 3) execute_commit() - run git command, 4) process_commit_result() - handle success/failure. Each function should have cyclomatic \u003c7. Add tests for each extracted function.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T20:51:58.617777+05:30","updated_at":"2025-12-17T21:05:15.05718+05:30","closed_at":"2025-12-17T21:05:15.05718+05:30"}
{"id":"mcp-agent-mail-rs-87s","title":"Phase 9: WASM-Native E2E Testing with Probar","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-11T23:33:07.479344+05:30","updated_at":"2025-12-15T18:44:27.298197+05:30","closed_at":"2025-12-15T18:44:27.298197+05:30"}
{"id":"mcp-agent-mail-rs-8ike","title":"Add touch target enforcement and focus ring patterns","description":"## Summary\nAdd CSS for WCAG-compliant touch targets (44√ó44px) and shadcn-style focus ring patterns.\n\n## Implementation Details\n\n### Add to tailwind.css (@layer base)\n```css\n@layer base {\n  /* Touch Target Enforcement (WCAG 2.1 AA) */\n  button,\n  [role=\"button\"],\n  a,\n  input[type=\"checkbox\"],\n  input[type=\"radio\"],\n  .select-trigger {\n    min-width: 44px;\n    min-height: 44px;\n  }\n\n  /* Touch-friendly spacing */\n  .button-group \u003e * + * {\n    margin-left: 0.5rem;\n  }\n}\n\n@layer utilities {\n  /* Focus ring pattern (shadcn) */\n  .focus-ring {\n    @apply focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background;\n  }\n}\n\n/* High Contrast Focus */\n@media (prefers-contrast: high) {\n  *:focus-visible {\n    outline: 3px solid currentColor !important;\n    outline-offset: 2px !important;\n  }\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/style/tailwind.css\n\n## Acceptance Criteria\n- [ ] All buttons have min-width/min-height of 44px\n- [ ] All links have min-height of 44px\n- [ ] .focus-ring utility class defined\n- [ ] High contrast focus styles defined\n- [ ] Focus ring visible on Tab navigation\n- [ ] Touch targets measurable in DevTools ‚â• 44√ó44px","notes":"Claimed by worker-8ike","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T23:11:14.670486+05:30","updated_at":"2025-12-19T00:01:13.964617+05:30","closed_at":"2025-12-19T00:01:13.964617+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-8ike","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:37.757566+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-8jo","title":"Create mcp-stdio binary","description":"New binary crate that runs the MCP server over stdio for Claude Desktop integration","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T04:45:23.61322+05:30","updated_at":"2025-12-09T05:29:25.652614+05:30","closed_at":"2025-12-09T05:29:25.652614+05:30","labels":["binary","mcp"]}
{"id":"mcp-agent-mail-rs-8kp","title":"PORT-1.4: Conditional build slot tool registration based on WORKTREES_ENABLED","description":"## Problem\nBuild slot tools should only register when WORKTREES_ENABLED=true.\n\n## Implementation\n- Add McpConfig struct with worktrees_enabled, git_identity_enabled\n- parse_bool_env() for truthy values: 1, true, yes, t, y (case-insensitive)\n- Conditionally register acquire/renew/release_build_slot\n- Log which mode is active at startup\n\n## Files\n- crates/libs/lib-common/src/config.rs\n- crates/libs/lib-mcp/src/lib.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/app.py\n- Commit d13ea8f: perf(tools): conditionally register build slot tools\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: WORKTREES_ENABLED)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 1.4)\n\n## Acceptance Criteria\n- [ ] Build slot tools only in tools/list when WORKTREES_ENABLED=true\n- [ ] GIT_IDENTITY_ENABLED as alternative gate\n- [ ] Truthy: \"1\", \"true\", \"yes\", \"t\", \"y\" (case-insensitive)\n- [ ] Startup log indicates mode\n- [ ] Tests verify conditional registration\n\n## Complexity: 3/10","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T00:24:51.8991+05:30","updated_at":"2025-12-19T06:22:07.144826+05:30","closed_at":"2025-12-19T06:22:07.144826+05:30"}
{"id":"mcp-agent-mail-rs-8qqf","title":"LEPTOS-008: Fix Message Recipients Display","description":"## Summary\nRecipients are hardcoded in MessageDetail:133. Fix to display actual message recipients from API response.\n\n## Problem\nFile: `components/message_detail.rs:133`\nCurrent: Hardcoded recipient display\nExpected: Parse recipients from message API response\n\n## Acceptance Criteria\n- [ ] Parse `recipients` field from message API response\n- [ ] Display as comma-separated list with avatars\n- [ ] Show \"+N more\" if \u003e 3 recipients\n- [ ] Expandable to full list on click\n- [ ] Handle empty recipients gracefully\n- [ ] Handle null/undefined gracefully\n\n## Quality Gates\n- No hardcoded strings remaining\n- Visual regression test added\n- cargo clippy -- -D warnings\n\n## Reference Skills\n- rust-skills: Option handling, no unwrap\n- shadcn-ui: Avatar component","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-19T22:04:29.255749+05:30","updated_at":"2025-12-20T03:33:31.051949+05:30","closed_at":"2025-12-20T03:33:31.051949+05:30"}
{"id":"mcp-agent-mail-rs-8rb","title":"Epic: Python Port v2 - Feature Parity from f2b563d","description":"## Overview\nPort Python mcp_agent_mail changes since commit f2b563dad55aa03fcb2a3563b773089f6f03ef50 to Rust.\n\n## Scope\n- 40 commits, ~3000 LoC changes\n- Tool consolidation \u0026 input validation (P0)\n- Storage robustness with LRU cache (P0)\n- Guard/worktree support (P1)\n- HTTP/rate limiting fixes (P1)\n- CLI enhancements (P1)\n- FTS improvements (P2)\n\n## Reference Documentation\n- **Python Tree**: docs/mcp-agent-mail-python-tree.md\n- **Python Diff**: docs/mcp-agent-mail-python-beads-diff.md\n- **Python Source**: /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail\n- **Port Plan**: docs/PYTHON_PORT_PLAN_v2.md\n\n## Quality Gates (per task)\n- cargo check \u0026\u0026 cargo fmt --check \u0026\u0026 cargo clippy -- -D warnings\n- cargo test with \u003e= 85% coverage\n- pmat analyze tdg --min-grade B\n\n## NIST SP 800-53 Controls\nSI-10 (Input Validation), AU-3 (Audit), SC-5 (DoS Protection)","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-18T00:23:53.731485+05:30","updated_at":"2025-12-20T03:46:42.045662+05:30","closed_at":"2025-12-20T03:46:42.045662+05:30"}
{"id":"mcp-agent-mail-rs-93fx","title":"ORCH-5: Add WorktreeManager for agent isolation","description":"## Summary\nUtility for managing git worktrees for multi-agent isolation.\n\n## Implementation\n```rust\npub struct WorktreeManager {\n    base_path: PathBuf,  // .sandboxes/\n}\n\nimpl WorktreeManager {\n    pub fn new(base: \u0026Path) -\u003e Self;\n    \n    pub async fn create_worker_worktree(\n        task_id: \u0026str,\n    ) -\u003e Result\u003cPathBuf\u003e;\n    \n    pub async fn create_reviewer_worktree(\n        task_id: \u0026str,\n    ) -\u003e Result\u003cPathBuf\u003e;\n    \n    pub async fn merge_and_cleanup(\n        worktree_path: \u0026Path,\n        target_branch: \u0026str,\n    ) -\u003e Result\u003cString\u003e;  // Returns merge commit SHA\n    \n    pub async fn force_cleanup(\n        worktree_path: \u0026Path,\n    ) -\u003e Result\u003c()\u003e;\n    \n    pub fn list_active_worktrees() -\u003e Result\u003cVec\u003cWorktreeInfo\u003e\u003e;\n}\n```\n\n## Acceptance Criteria\n- [ ] Creates .sandboxes/worker-\u003cid\u003e worktrees\n- [ ] Creates .sandboxes/reviewer-fix-\u003cid\u003e worktrees\n- [ ] Merges feature/\u003cid\u003e to main on completion\n- [ ] Cleans up worktree and branch after merge\n- [ ] Lists active worktrees for monitoring","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:34:54.676035+05:30","updated_at":"2025-12-20T00:50:52.102232+05:30","closed_at":"2025-12-20T00:50:52.102232+05:30"}
{"id":"mcp-agent-mail-rs-93i","title":"Add workspace lints to Cargo.toml","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T16:41:39.634657+05:30","updated_at":"2025-12-17T16:52:16.969301+05:30","closed_at":"2025-12-17T16:52:16.969301+05:30"}
{"id":"mcp-agent-mail-rs-970d","title":"GAP: Age Encryption for Exports","description":"## Problem\nPython export supports age encryption for confidential distribution. Rust export has no encryption.\n\n## Python Features\n- `--age-recipient` (repeatable) encrypts final ZIP\n- `share decrypt` decrypts with identity or passphrase\n\n## Implementation\n- Add age crate\n- Add age_recipients field to ExportBmc\n- Encrypt final ZIP if recipients specified\n- Create share_decrypt CLI subcommand","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-18T17:59:30.720772+05:30","updated_at":"2025-12-20T04:47:34.623976+05:30","closed_at":"2025-12-20T04:47:34.623976+05:30"}
{"id":"mcp-agent-mail-rs-97i1","title":"P1: Add Permissions-Policy security header","description":"## Summary\nAdd Permissions-Policy header to lib-server security middleware.\n\n## Implementation\n```rust\n.layer(SetResponseHeaderLayer::overriding(\n    HeaderName::from_static(\"permissions-policy\"),\n    HeaderValue::from_static(\"geolocation=(), microphone=(), camera=()\"),\n))\n```\n\n## Location\ncrates/libs/lib-server/src/lib.rs lines 125-139 (existing security headers)\n\n## Acceptance Criteria\n- [ ] Permissions-Policy header added\n- [ ] Disable geolocation, microphone, camera by default\n- [ ] cargo test passes\n- [ ] Verify header with curl -I\n\n## Reference\nproduction-hardening-backend skill: OWASP Security Headers","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T19:03:41.584915+05:30","updated_at":"2025-12-20T04:21:25.124064+05:30","closed_at":"2025-12-20T04:21:25.124064+05:30"}
{"id":"mcp-agent-mail-rs-9bd","title":"Add rust-embed feature flags to lib-server","description":"Add optional rust-embed and mime_guess deps with 'with-web-ui' feature flag. Propagate feature to mcp-agent-mail crate.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T17:52:51.274256+05:30","updated_at":"2025-12-17T18:48:55.843123+05:30","closed_at":"2025-12-17T18:48:55.843123+05:30"}
{"id":"mcp-agent-mail-rs-9d0","title":"P0: Setup BrowserController with Chrome automation","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:33:19.701727+05:30","updated_at":"2025-12-15T18:44:26.957398+05:30","closed_at":"2025-12-15T18:44:26.957398+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-9d0","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:00.772933+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-9i5","title":"Refactor to feature-based directory structure","description":"Reorganize src/lib into features/ (messaging, projects, agents) with api/, components/, hooks/, types/ subdirs. Create reusable components in components/ui/.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-10T02:45:44.014601+05:30","updated_at":"2025-12-15T18:44:54.6604+05:30","closed_at":"2025-12-15T18:44:54.6604+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-9i5","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:44.015065+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-9ta","title":"Implement install_precommit_guard MCP tool handler","description":"Implement the #[tool] annotated function that:\n1. Parses InstallPrecommitGuardParams\n2. Calls lib-core PrecommitGuardBmc::install()\n3. Returns success/failure in MCP CallToolResult format","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:06:13.791386+05:30","updated_at":"2025-12-17T19:27:26.286183+05:30","closed_at":"2025-12-17T19:27:26.286183+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-9ta","depends_on_id":"mcp-agent-mail-rs-2ci","type":"blocks","created_at":"2025-12-16T20:06:13.792059+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-9ue","title":"Fix bd sync worktree conflict on main branch","description":"## Problem\n`bd sync` fails with worktree error when sync.branch=main and you're working on main:\n```\nfatal: 'main' is already used by worktree at '/path/to/repo'\n```\n\n## Root Cause\n- bd sync uses git worktrees to commit JSONL changes\n- Git doesn't allow same branch in multiple worktrees\n- Current config: sync.branch=main, working branch=main ‚Üí conflict\n\n## Solution Options\n1. Create dedicated `beads-sync` branch: `bd config set sync.branch beads-sync`\n2. Update config.yaml with `sync-branch: \"beads-sync\"`\n3. Consider if bd should handle this edge case internally\n\n## Impact\n- Low: JSONL still exported, just not auto-committed\n- Workaround: Manual git add/commit of .beads/issues.jsonl","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-17T21:27:53.093221+05:30","updated_at":"2025-12-17T21:27:53.093221+05:30"}
{"id":"mcp-agent-mail-rs-9zb1","title":"LEPTOS-010: Form Validation Module","description":"## Summary\nAdd client-side validation to ComposeMessage and other forms.\n\n## Implementation\nCreate: `utils/validation.rs`\n\n```rust\npub enum ValidationRule {\n    Required,\n    MinLength(usize),\n    MaxLength(usize),\n    Email,\n    Pattern(Regex),\n}\n\npub fn validate(value: \u0026str, rules: \u0026[ValidationRule]) -\u003e Result\u003c(), String\u003e\n```\n\n## Acceptance Criteria\n- [ ] Create validation.rs module with rule types\n- [ ] Required, MinLength, MaxLength, Email, Pattern rules\n- [ ] Error messages positioned below fields\n- [ ] Real-time validation (on blur + on change after first error)\n- [ ] Submit disabled until valid\n- [ ] aria-invalid and aria-describedby for errors\n\n## Quality Gates\n- Server-side validation ALWAYS runs (never trust client)\n- Error messages \u003c= 50 characters\n- Color contrast \u003e= 4.5:1 for error text\n\n## Reference Skills\n- rust-skills: Result\u003cT, E\u003e pattern, enums\n- shadcn-ui: Input error states\n- production-hardening-frontend: Input validation","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T22:05:53.43841+05:30","updated_at":"2025-12-20T04:04:14.616529+05:30","closed_at":"2025-12-20T04:04:14.616529+05:30"}
{"id":"mcp-agent-mail-rs-a4f","title":"Add quick_review_workflow convenience tool","description":"Add MCP tool that initiates a code review workflow:\n- QuickReviewParams { project_slug, reviewer_name, author_name, files: Vec\u003cString\u003e, description }\n- Sends review request with file list\n- Reserves files for reviewer\n- Returns review_id for tracking","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:06:58.596133+05:30","updated_at":"2025-12-17T20:29:05.526434+05:30","closed_at":"2025-12-17T20:29:05.526434+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-a4f","depends_on_id":"mcp-agent-mail-rs-7rh","type":"blocks","created_at":"2025-12-16T20:06:58.596804+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ab6","title":"PORT-2.1: Implement LRU repository cache to prevent file descriptor exhaustion","description":"## Problem\nOpening git repositories leaks file descriptors. Long-running servers exhaust FD limits.\n\n## Implementation\nCreate lib-core/src/store/repo_cache.rs:\n- RepoCache struct with LruCache\u003cPathBuf, Arc\u003cMutex\u003cRepository\u003e\u003e\u003e\n- new(capacity) - default 8 repos (~400 FDs total)\n- get(path) - open or return cached, update LRU order\n- peek(path) - non-blocking check if cached\n- get_if_cached(path) - return if cached, don't open\n- clear() - for testing/shutdown\n\n## Dependencies\n- Add lru crate to lib-core\n\n## Files\n- crates/libs/lib-core/src/store/repo_cache.rs (NEW)\n- crates/libs/lib-core/src/store/mod.rs\n- crates/libs/lib-core/src/store/git_archive.rs (use RepoCache)\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/storage.py\n- Commit aee1e54: fix(storage): prevent file handle leaks by caching Repo objects\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: RepoLRUCache, LRU)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 2.1)\n\n## NIST Control: SC-5 (DoS Protection)\n\n## Acceptance Criteria\n- [ ] LRU cache with configurable capacity (default 8)\n- [ ] Thread-safe via Arc\u003cMutex\u003c_\u003e\u003e\n- [ ] peek() is non-blocking (try_lock)\n- [ ] Evicted repos properly dropped (FDs released)\n- [ ] Benchmark: no FD growth under 1000 operations\n- [ ] Integration test with \u003e8 concurrent projects\n\n## Complexity: 8/10","notes":"SCAFFOLDING EXISTS (2025-12-19): repo_cache.rs created with RepoCache struct using LruCache\u003cPathBuf, Arc\u003cMutex\u003cRepository\u003e\u003e\u003e, new(capacity), get(path), peek(path), get_if_cached(path), clear() - all with tests. REMAINING: Integration into GitStore not done. Need to modify git_store.rs to use RepoCache instead of opening repos directly. Also needs stress test for FD exhaustion.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T00:25:09.430212+05:30","updated_at":"2025-12-19T06:52:54.707181+05:30","closed_at":"2025-12-19T06:52:54.707181+05:30"}
{"id":"mcp-agent-mail-rs-acnh","title":"GAP: Export Scrubbing Presets (standard/strict/none)","description":"## Problem\nPython export supports data redaction presets. Rust export has no scrubbing.\n\n## Python Presets\n- `none`: Lossless export\n- `standard`: Clear ack/read state, remove file reservations, scrub secrets (tokens, keys)\n- `strict`: All standard + replace message bodies + remove attachments\n\n## Implementation\n- Add scrub_preset field to ExportBmc\n- Implement ScrubPreset enum\n- Apply redactions before export based on preset","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-18T17:59:47.408796+05:30","updated_at":"2025-12-18T17:59:47.408796+05:30"}
{"id":"mcp-agent-mail-rs-ad4","title":"P2: Implement input fuzzing test suite","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:33:47.529532+05:30","updated_at":"2025-12-15T18:44:54.504577+05:30","closed_at":"2025-12-15T18:44:54.504577+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ad4","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:13.403155+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ah3","title":"P0: Create Page Object Models for all 6 routes","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:33:19.911387+05:30","updated_at":"2025-12-15T18:44:26.917338+05:30","closed_at":"2025-12-15T18:44:26.917338+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ah3","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:00.822889+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-ah3","depends_on_id":"mcp-agent-mail-rs-9d0","type":"blocks","created_at":"2025-12-11T23:34:23.917731+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ahw","title":"Add Zod schema validation for API responses","description":"Install zod and create src/lib/api/schemas.ts with typed schemas for Project, Agent, Message. Add runtime validation in API client.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-10T02:45:44.212306+05:30","updated_at":"2025-12-15T18:44:54.622414+05:30","closed_at":"2025-12-15T18:44:54.622414+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ahw","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:44.21309+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-al9","title":"PORT: Python E2E Integration Tests (3 test files)","description":"## Description\nPort the 3 Python E2E/integration test files to Rust.\n\n## Python E2E Tests to Port\n\n### 1. test_archive_workflow.py\n- Archive save/list/restore cycle\n- Data integrity verification (ack_required, timestamps)\n- Storage root file restoration\n\n### 2. test_mailbox_share_integration.py\n- Share export with inline/detach thresholds\n- Manifest verification (stats, scrub, hosting)\n- Viewer generation (HTML/CSS/JS)\n- ZIP archive creation\n- Playwright browser smoke test\n- XSS sanitization verification\n\n### 3. test_worktrees_functionality_e2e.py\n- Gate toggle (WORKTREES_ENABLED on/off)\n- MCP surface verification (tools/resources)\n- Git repo + worktree creation\n- Guard installation via CLI\n- Conflict detection (pre-commit, pre-push style)\n- Product Bus round-trip (ensure_product, products_link, resource read)\n\n## Reference Files\n- Python: mcp_agent_mail/tests/integration/\n- docs/E2E_TEST_PLAN.md (existing plan for browser E2E)\n- Rust: crates/tests/e2e/tests/cli_tests.rs (minimal existing)\n\n## Implementation Notes\n- Consider using assert_cmd for CLI testing\n- May need to adapt Playwright tests for Probar/WASM-native approach\n- Gate toggle tests require env var manipulation","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T00:47:35.591546+05:30","updated_at":"2025-12-18T00:47:35.591546+05:30"}
{"id":"mcp-agent-mail-rs-atu","title":"P2: Implement /api/recent activity endpoint","description":"Add /api/recent endpoint returning recent activity across all projects: messages, reservations, agent registrations. Useful for dashboard/monitoring. Python parity.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:55:15.252902+05:30","updated_at":"2025-12-15T21:42:22.886554+05:30","closed_at":"2025-12-15T21:42:22.886554+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-atu","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:55:15.253673+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-au3","title":"Add list_builtin_workflows MCP tool","description":"Add tool to list pre-defined workflow templates:\n- Returns array of built-in workflow names and descriptions\n- Includes: standup, handoff, review, sync, deploy-check\n- Each entry has: name, description, required_params, optional_params","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:06:59.083861+05:30","updated_at":"2025-12-17T20:29:05.52497+05:30","closed_at":"2025-12-17T20:29:05.52497+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-au3","depends_on_id":"mcp-agent-mail-rs-7rh","type":"blocks","created_at":"2025-12-16T20:06:59.084554+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-axe","title":"Add lucide-svelte icons to replace emoji icons","description":"Install lucide-svelte and replace emoji icons in sidebar navigation with proper SVG icons for better rendering and accessibility.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-10T02:45:44.618069+05:30","updated_at":"2025-12-15T18:44:27.726075+05:30","closed_at":"2025-12-15T18:44:27.726075+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-axe","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:44.618592+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-azc","title":"P1: Complete Git archive integration (messages as markdown)","description":"Write messages to Git as markdown files: data/archive/projects/{slug}/messages/YYYY/MM/msg_{id}.md. Maintain inbox/outbox symlinks per agent. Store file_reservations as JSON. Python structure parity.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:54:34.014981+05:30","updated_at":"2025-12-15T20:44:23.280124+05:30","closed_at":"2025-12-15T20:44:23.280124+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-azc","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:54:34.015686+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-bbj","title":"PORT-7.2: Add guard worktree tests (18 tests)","description":"## Problem\nNeed comprehensive tests for guard in worktree scenarios.\n\n## Implementation\nPort 18 Python tests:\n- Basic Worktree Installation (2)\n- Custom core.hooksPath Handling (2)\n- Hook Preservation Logic (2)\n- Gate Environment Variable Tests (4)\n- Advisory/Bypass Mode Tests (2)\n- Pre-push Guard Tests (2)\n- Lifecycle Tests (2)\n- Chain Runner Tests (1)\n\n## Files\n- crates/libs/lib-core/tests/guard_worktree_tests.rs (NEW)\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/tests/test_guard_worktrees.py\n- Commit 733cfd3: test(guard): add comprehensive tests for worktree scenarios\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: worktree, guard, test)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 7.2)\n\n## Acceptance Criteria\n- [ ] All 18 tests ported\n- [ ] Tests create real git repos/worktrees\n- [ ] Environment variable isolation\n- [ ] Cleanup after tests\n\n## Complexity: 5/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:27:34.433619+05:30","updated_at":"2025-12-19T16:18:42.600953+05:30","closed_at":"2025-12-19T16:18:42.600953+05:30"}
{"id":"mcp-agent-mail-rs-be8s","title":"Create Badge component with variants extracted from ProjectCard","description":"## Summary\nCreate a reusable Badge component with CVA variants, extracting pattern from ProjectCard status badges.\n\n## Implementation Details\n\n### Create components/badge.rs\n```rust\nuse leptos::*;\nuse tailwind_fuse::*;\n\nconst BADGE_BASE: \u0026str = \"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\";\n\n#[derive(TwVariant, Clone, Copy, Default)]\npub enum BadgeVariant {\n    #[tw(default, class = \"border-transparent bg-primary text-primary-foreground hover:bg-primary/80\")]\n    Default,\n    #[tw(class = \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\")]\n    Secondary,\n    #[tw(class = \"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80\")]\n    Destructive,\n    #[tw(class = \"text-foreground\")]\n    Outline,\n    #[tw(class = \"border-transparent bg-emerald-500 text-white\")]\n    Success,\n    #[tw(class = \"border-transparent bg-amber-500 text-white\")]\n    Warning,\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/badge.rs (NEW)\n- crates/services/web-ui-leptos/src/components/mod.rs\n\n## Acceptance Criteria\n- [ ] Badge component created with 6 variants\n- [ ] Uses rounded-full for pill shape\n- [ ] Focus ring for keyboard accessibility\n- [ ] Includes Success and Warning variants for status\n- [ ] Component exported from mod.rs","notes":"Claimed by worker-be8s","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T23:11:52.688979+05:30","updated_at":"2025-12-19T00:39:45.904793+05:30","closed_at":"2025-12-19T00:39:45.904793+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-be8s","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:41.017401+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-bef","title":"P1: Add data-testid attributes to web-ui components","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:33:38.986324+05:30","updated_at":"2025-12-15T18:44:27.257372+05:30","closed_at":"2025-12-15T18:44:27.257372+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-bef","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:13.102422+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-beu","title":"P3: Reduce 14 code entropy violations","description":"PMAT quality-gate found 14 code entropy violations indicating inconsistent patterns. Areas: 1) Error handling (some use ?, some match, some map_err), 2) Logging (mix of tracing::info\\!, println\\!, eprintln\\!), 3) Result propagation styles. Standardize on: tracing for logging, ? with map_err for errors, consistent import ordering. Create team style guide section in AGENTS.md.","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-17T20:53:15.752972+05:30","updated_at":"2025-12-17T20:53:15.752972+05:30"}
{"id":"mcp-agent-mail-rs-bj2h","title":"LEPTOS-013: Visual Regression Test Suite","description":"## Summary\nCreate baseline screenshots using dev-browser for visual regression testing.\n\n## Implementation\nCreate: `scripts/visual-regression.ts`\n\n```typescript\n// Using dev-browser skill\nconst viewports = [\n  { name: \"mobile\", width: 375, height: 667 },\n  { name: \"tablet\", width: 768, height: 1024 },\n  { name: \"desktop\", width: 1440, height: 900 },\n];\n\nconst pages = [\"/\", \"/projects\", \"/inbox\", \"/thread/1\"];\n```\n\n## Acceptance Criteria\n- [ ] Baseline screenshots for 4 pages x 3 viewports = 12 files\n- [ ] Pages: /, /projects, /inbox, /thread/1\n- [ ] Viewports: 375 (mobile), 768 (tablet), 1440 (desktop)\n- [ ] Diff script compares current vs baseline\n- [ ] CI integration (compare on PR)\n- [ ] Stored in `baselines/` directory\n\n## Quality Gates\n- All baselines render correctly\n- Diff threshold: 0.1% pixel difference\n- Script exits non-zero on diff detected\n\n## Reference Skills\n- dev-browser: Visual regression testing\n- kaizen-solaris-review: Automated quality gates","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T22:06:41.536622+05:30","updated_at":"2025-12-20T04:16:10.250283+05:30","closed_at":"2025-12-20T04:16:10.250283+05:30"}
{"id":"mcp-agent-mail-rs-bm9","title":"P2: Monitor RSA CVE-2023-0071 and evaluate ed25519 migration","description":"cargo audit shows RUSTSEC-2023-0071: RSA timing sidechannel (severity 5.9 Medium). No fix available upstream. Dependency path: rsa 0.9.9 ‚Üí lib-server ‚Üí mcp-agent-mail. Options: 1) Monitor for upstream fix, 2) Evaluate replacing RSA with ed25519 for JWT signing, 3) Add deny.toml entry to acknowledge. Action: Create tracking issue, add cargo-deny ignore with justification, evaluate ed25519-dalek as replacement.","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-17T20:52:46.882116+05:30","updated_at":"2025-12-17T20:52:46.882116+05:30"}
{"id":"mcp-agent-mail-rs-bn6b","title":"T2: Response structs for PendingReview API","description":"Add Serialize structs: PendingReviewsResponse, PendingReview, SenderInfo, ProjectInfo, ThreadInfo, RecipientStatus. Strong types, no primitive obsession. Complexity: 3/10. File: crates/libs/lib-server/src/tools.rs","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T17:45:55.619368+05:30","updated_at":"2025-12-18T18:35:40.656636+05:30","closed_at":"2025-12-18T18:35:40.656636+05:30"}
{"id":"mcp-agent-mail-rs-c3cr","title":"PORT: Archive Browser Tests (20 git history tests)","description":"## Description\nPort the 20 archive browser tests for git history exploration functionality.\n\n## Test Categories\n\n### Commit Browsing\n- List commits\n- View commit details\n- Commit diff display\n\n### File Navigation\n- Browse files at commit\n- View file content\n- File history\n\n### Activity Timeline\n- Activity graph\n- Time-based filtering\n- Project filtering\n\n### Network Graph\n- Branch visualization\n- Merge points\n- Worktree display\n\n## Reference\n- Python: tests/test_archive_browser.py\n\n## Implementation Notes\n- Requires git2-rs integration\n- Tests archive HTML routes\n- Validates commit traversal\n- May use libgit2 for history access","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T00:58:18.271584+05:30","updated_at":"2025-12-18T00:58:18.271584+05:30"}
{"id":"mcp-agent-mail-rs-c7g","title":"P1: Implement remaining user flows (UF-005 to UF-012)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:33:39.183091+05:30","updated_at":"2025-12-15T18:44:54.202502+05:30","closed_at":"2025-12-15T18:44:54.202502+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-c7g","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:13.269009+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-cb1","title":"P2: Add responsive viewport tests (mobile, tablet, desktop, wide)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:33:47.600304+05:30","updated_at":"2025-12-15T18:44:39.99096+05:30","closed_at":"2025-12-15T18:44:39.99096+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-cb1","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:13.446993+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-cec2","title":"LEPTOS-009: Keyboard Navigation Enhancement","description":"## Summary\nAdd comprehensive keyboard navigation per WCAG 2.1 SC 2.1.1.\n\n## Implementation\nUpdate multiple components with keyboard handlers.\n\n## Acceptance Criteria\n- [ ] **SplitView**: j/k navigate list, Enter opens, Esc deselects\n- [ ] **Select**: Home/End jump, type-ahead search\n- [ ] **Dialog**: Focus trap, Esc closes\n- [ ] **FilterBar**: Tab through all controls\n- [ ] Skip link at page top\n- [ ] Focus indicator (2px ring) on all interactive\n- [ ] aria-activedescendant for roving tabindex\n\n## Quality Gates\n- Tab through entire inbox in \u003c= 20 keystrokes\n- No focus traps except modals\n- VoiceOver announces all controls\n\n## Reference Skills\n- shadcn-ui: Focus ring, keyboard patterns\n- mobile-frontend-design: Keyboard/focus management\n- production-hardening-frontend: WCAG 2.1 AA","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T22:04:29.593556+05:30","updated_at":"2025-12-20T03:56:05.428134+05:30","closed_at":"2025-12-20T03:56:05.428134+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-cec2","depends_on_id":"mcp-agent-mail-rs-w7n3","type":"blocks","created_at":"2025-12-19T22:07:14.307344+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-cfu","title":"P0: Port Projects page with create form (ActionForm)","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:39:39.311672+05:30","updated_at":"2025-12-12T00:28:29.238238+05:30","closed_at":"2025-12-12T00:28:29.238238+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-cfu","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:04.31207+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-cfu","depends_on_id":"mcp-agent-mail-rs-d8j","type":"blocks","created_at":"2025-12-11T23:40:25.507765+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-cgm","title":"Phase 1.5: API Layer (Axum REST)","description":"Build Axum web server with REST API endpoints mirroring BMC logic. 8/12 endpoints done.","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-09T01:40:02.606531+05:30","updated_at":"2025-12-09T01:40:24.365245+05:30","closed_at":"2025-12-09T01:40:24.365245+05:30"}
{"id":"mcp-agent-mail-rs-chk","title":"P0: Implement Projects E2E tests (P-001 to P-008)","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:33:20.341452+05:30","updated_at":"2025-12-15T18:44:26.838252+05:30","closed_at":"2025-12-15T18:44:26.838252+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-chk","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:00.915687+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-chk","depends_on_id":"mcp-agent-mail-rs-ah3","type":"blocks","created_at":"2025-12-11T23:34:24.015142+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-crlu","title":"LEPTOS-005: Add agent filter to attachments page","description":"Add filter by agent to attachments page.\n\n## Requirements\n1. **Backend**: Add agent_id field to Attachment model (optional FK to agents)\n2. **Backend**: Add agent filter param to list_attachments API\n3. **Frontend**: Add agent filter dropdown (cascades from project selection)\n\n## Why Deferred\n- Current Attachment model only has project_id, no agent association\n- Requires database schema migration\n- Requires API changes\n\n## Blocked By\n- Backend schema changes needed first\n\n## Acceptance Criteria\n- [ ] Attachment model has optional agent_id field\n- [ ] list_attachments API accepts agent filter param\n- [ ] Agent dropdown appears after project selection\n- [ ] Filters work correctly\n- [ ] Tests cover agent filtering","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-20T02:36:40.411417+05:30","updated_at":"2025-12-20T02:56:47.661481+05:30","closed_at":"2025-12-20T02:56:47.661481+05:30"}
{"id":"mcp-agent-mail-rs-ctb","title":"P1: Implement /api/outbox endpoint (fetch_outbox)","description":"Add /api/outbox POST endpoint to fetch messages sent BY an agent (vs inbox which is TO). Python: fetch_outbox(project_key, agent_name, limit=20).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:54:32.070627+05:30","updated_at":"2025-12-15T20:44:23.517586+05:30","closed_at":"2025-12-15T20:44:23.517586+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ctb","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:54:32.071667+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-cti","title":"Add quick_standup_workflow convenience tool","description":"Add MCP tool that broadcasts a standup request to all agents in a project:\n- QuickStandupParams { project_slug, sender_name, questions?: Vec\u003cString\u003e }\n- Sends message to all agents asking for status update\n- Default questions: What did you work on? What are blockers? What's next?\n- Returns list of message_ids sent","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:06:57.674929+05:30","updated_at":"2025-12-17T20:29:05.52586+05:30","closed_at":"2025-12-17T20:29:05.52586+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-cti","depends_on_id":"mcp-agent-mail-rs-7rh","type":"blocks","created_at":"2025-12-16T20:06:57.675613+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-cxr","title":"Fix focus indicators in app.css","description":"Add :focus-visible styles with primary color outline for keyboard navigation visibility. Replace default browser outline.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T02:45:32.473718+05:30","updated_at":"2025-12-15T18:44:54.546033+05:30","closed_at":"2025-12-15T18:44:54.546033+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-cxr","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:32.47423+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-d8j","title":"P0: Port Dashboard page with health/project cards","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:39:34.33921+05:30","updated_at":"2025-12-12T00:26:23.483175+05:30","closed_at":"2025-12-12T00:26:23.483175+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-d8j","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:04.265713+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-d8j","depends_on_id":"mcp-agent-mail-rs-2ea","type":"blocks","created_at":"2025-12-11T23:40:25.41698+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-d8j","depends_on_id":"mcp-agent-mail-rs-ldr","type":"blocks","created_at":"2025-12-11T23:40:25.463584+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-daoi","title":"EPIC: P0 API - List Pending Reviews (Single-Call Complete Data)","description":"","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-18T17:45:23.444339+05:30","updated_at":"2025-12-18T18:35:45.656635+05:30","closed_at":"2025-12-18T18:35:45.656635+05:30"}
{"id":"mcp-agent-mail-rs-ddy","title":"Update lib-server router with conditional UI fallback","description":"Add serve_ui config option to ServerConfig. Conditionally add fallback route when feature enabled and serve_ui=true.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T17:52:51.899301+05:30","updated_at":"2025-12-17T18:58:54.274058+05:30","closed_at":"2025-12-17T18:58:54.274058+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ddy","depends_on_id":"mcp-agent-mail-rs-0j2","type":"blocks","created_at":"2025-12-17T17:52:59.995857+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-ddy","depends_on_id":"mcp-agent-mail-rs-7zr","type":"blocks","created_at":"2025-12-17T17:53:00.040644+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-dlf","title":"P0: Create integration scripts for coding agents (8 scripts)","description":"Port 8 integration scripts from Python: integrate_claude_code.sh (11KB), integrate_codex_cli.sh (6KB), integrate_cursor.sh (6KB), integrate_cline.sh (6KB), integrate_windsurf.sh (6KB), integrate_gemini_cli.sh (7KB), integrate_github_copilot.sh (9KB), integrate_opencode.sh (8KB). Also create auto-detect script. Update config paths for Rust binary.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T10:23:21.073158+05:30","updated_at":"2025-12-15T17:47:43.860792+05:30","closed_at":"2025-12-15T17:47:43.860792+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-dlf","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:23:21.074876+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-drh","title":"P1: Port Agents page with search/filter","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:39:45.941141+05:30","updated_at":"2025-12-15T18:44:54.161382+05:30","closed_at":"2025-12-15T18:44:54.161382+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-drh","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:14.714714+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-dsh","title":"P1: Increase test coverage from 65% to 85%","description":"PMAT rust-project-score shows Testing Excellence at 2.5/20 (12.5%). Current coverage: 65%, target: 85%. Priority areas: 1) Error handling paths in lib-server (auth failures, rate limit exceeded), 2) Edge cases in lib-core BMC methods (concurrent access, null inputs), 3) MCP tool error responses (invalid params, project not found). Install cargo-llvm-cov, run: cargo llvm-cov --workspace. Create tests for uncovered branches. Relates to existing bead 577.6.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T20:52:04.694495+05:30","updated_at":"2025-12-17T21:06:04.009434+05:30","closed_at":"2025-12-17T21:06:04.009434+05:30"}
{"id":"mcp-agent-mail-rs-e1c","title":"Add DOMPurify for sanitizing body_md content","description":"Install isomorphic-dompurify and sanitize message body_md before rendering with @html to prevent XSS attacks.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T02:45:20.126255+05:30","updated_at":"2025-12-15T18:44:54.424424+05:30","closed_at":"2025-12-15T18:44:54.424424+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-e1c","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:20.126894+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ecf","title":"Create .clippy.toml configuration","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-17T16:41:39.816586+05:30","updated_at":"2025-12-17T16:52:41.618304+05:30","closed_at":"2025-12-17T16:52:41.618304+05:30"}
{"id":"mcp-agent-mail-rs-efeo","title":"P1: Add Referrer-Policy security header","description":"## Summary\nAdd Referrer-Policy header to lib-server security middleware.\n\n## Implementation\n```rust\n.layer(SetResponseHeaderLayer::overriding(\n    HeaderName::from_static(\"referrer-policy\"),\n    HeaderValue::from_static(\"strict-origin-when-cross-origin\"),\n))\n```\n\n## Location\ncrates/libs/lib-server/src/lib.rs lines 125-139 (existing security headers)\n\n## Acceptance Criteria\n- [ ] Referrer-Policy header added\n- [ ] Value: strict-origin-when-cross-origin (recommended)\n- [ ] cargo test passes\n- [ ] Verify header with curl -I\n\n## Reference\nproduction-hardening-backend skill: OWASP Security Headers","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T19:03:38.992723+05:30","updated_at":"2025-12-20T04:21:23.927976+05:30","closed_at":"2025-12-20T04:21:23.927976+05:30"}
{"id":"mcp-agent-mail-rs-efy","title":"PORT-4.2: Add per-tool rate limiting configuration","description":"## Problem\nDifferent tools should have different rate limits (writes lower, reads higher).\n\n## Implementation\n- RateLimitConfig with tool_limits HashMap\n- Write tools: 10 rps (send_message, file_reservation_paths)\n- Read tools: 100 rps (fetch_inbox, search_messages)\n- Default: 50 rps\n\n## Files\n- crates/libs/lib-server/src/ratelimit.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/http.py\n- Commit 3498791: fix(http): correct variable scoping in rate limiting\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: rate limit, per-tool)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 4.2)\n\n## NIST Control: SC-5 (DoS Protection)\n\n## Acceptance Criteria\n- [ ] Per-tool rate limit configuration\n- [ ] Write tools: lower limits (10 rps)\n- [ ] Read tools: higher limits (100 rps)\n- [ ] Configurable via environment\n- [ ] Tests verify tool-specific limits\n\n## Complexity: 5/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:26:44.128001+05:30","updated_at":"2025-12-19T16:01:20.941412+05:30","closed_at":"2025-12-19T16:01:20.941412+05:30"}
{"id":"mcp-agent-mail-rs-ei52","title":"LEPTOS-006: FTS5 Search Results Page","description":"## Summary\nCreate search results page with FTS5 highlighting. API `/api/messages/search` exists.\n\n## Implementation\nCreate: `pages/search.rs`\nRoute: `/search?q={query}`\n\n## Acceptance Criteria\n- [ ] Route: /search?q={query}\n- [ ] Search input in header (persistent)\n- [ ] Results list with highlight spans\n- [ ] Query term highlighting in snippets\n- [ ] Filter chips (project, sender, date range)\n- [ ] Cursor-based pagination\n- [ ] \"No results\" state with suggestions\n- [ ] Search as you type (debounced 300ms)\n- [ ] Recent searches dropdown\n\n## Quality Gates\n- Search completes \u003c= 200ms for 1000 messages\n- Highlight spans use \u003cmark\u003e for a11y\n- Screen reader announces result count\n\n## Reference Skills\n- shadcn-ui: Input, Badge for chips\n- mobile-frontend-design: Debounced input\n- production-hardening-frontend: Performance targets","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T22:03:54.988695+05:30","updated_at":"2025-12-20T03:24:48.994372+05:30","closed_at":"2025-12-20T03:24:48.994372+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ei52","depends_on_id":"mcp-agent-mail-rs-1d2q","type":"blocks","created_at":"2025-12-19T22:07:10.979242+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-ei52","depends_on_id":"mcp-agent-mail-rs-w7n3","type":"blocks","created_at":"2025-12-19T22:07:11.031102+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-ei52","depends_on_id":"mcp-agent-mail-rs-nodv","type":"blocks","created_at":"2025-12-19T22:07:17.142197+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-eib","title":"P1: Add loading skeletons and Suspense boundaries","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:39:46.068676+05:30","updated_at":"2025-12-15T18:44:54.078472+05:30","closed_at":"2025-12-15T18:44:54.078472+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-eib","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:14.808381+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-elz1","title":"PORT: Identity Resolution Tests (10 worktree/WSL2 tests)","description":"## Description\nPort identity resolution tests covering worktrees, WSL2, and case sensitivity.\n\n## Test Files\n- test_identity.py (2 tests)\n- test_identity_worktrees.py (1 test)\n- test_identity_wsl2.py (1 test)\n- test_identity_ignorecase.py (1 test)\n- test_identity_resources.py (1 test)\n- test_identity_markers.py (3 tests)\n\n## Key Tests\n1. test_identity_dir_mode_without_repo\n2. test_identity_mode_git_common_dir_without_repo_falls_back\n3. test_identity_same_across_worktrees\n4. test_wsl2_path_normalization\n5. test_identity_reports_core_ignorecase\n6. test_whois_and_projects_resources\n7. test_committed_marker_precedence\n8. test_private_marker_used_when_committed_missing\n9. test_remote_fingerprint_when_no_markers\n\n## Reference\n- Python: tests/test_identity*.py\n\n## Implementation Notes\n- Critical for worktree support\n- WSL2 path handling (/mnt/c/ vs C:/)\n- Case sensitivity handling (core.ignorecase)\n- .agent-mail-identity marker files","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T00:58:33.544615+05:30","updated_at":"2025-12-18T00:58:33.544615+05:30"}
{"id":"mcp-agent-mail-rs-enrt","title":"GAP: Quota Enforcement System","description":"## Problem\nPython has storage quota enforcement. Rust has no limits.\n\n## Python Features\n- QUOTA_ENABLED - Enable enforcement\n- QUOTA_ATTACHMENTS_LIMIT_BYTES - Per-project attachment cap\n- QUOTA_INBOX_LIMIT_COUNT - Per-agent message cap\n\n## Implementation\n- Add quota checking before writes\n- Return QuotaExceeded error\n- Add quota status endpoint","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-18T18:00:24.774285+05:30","updated_at":"2025-12-18T18:00:24.774285+05:30"}
{"id":"mcp-agent-mail-rs-eo61","title":"Sprint4-4.1: Create visual regression baseline screenshots","description":"Create baseline screenshots at key viewports using dev-browser for visual regression testing.\n\n## Viewports\n- Mobile: 375√ó667px\n- Tablet: 768√ó1024px  \n- Desktop: 1440√ó900px\n\n## Pages to Screenshot\n- / (Dashboard)\n- /projects\n- /inbox\n- /mail/unified (All Mail)\n\n## Deliverables\n- 12 baseline screenshots (4 pages √ó 3 viewports)\n- Script for CI integration\n- No visual regressions from current state","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T01:53:56.299827+05:30","updated_at":"2025-12-19T02:42:35.047676+05:30","closed_at":"2025-12-19T02:42:35.047676+05:30"}
{"id":"mcp-agent-mail-rs-eoc","title":"P2: Add JWT authentication test with mock JWKS server","description":"JWT auth (4823d14) has bearer tests but no JWT test. Add test_auth_jwt_success/failure using wiremock to mock JWKS endpoint, generate test JWT with RS256, verify validation.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T17:59:02.867501+05:30","updated_at":"2025-12-12T18:50:56.976188+05:30","closed_at":"2025-12-12T18:50:56.976188+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-eoc","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T17:59:02.868087+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-erh","title":"PORT-2.2: Implement stale lock cleanup with PID liveness detection","description":"## Problem\nIf process crashes while holding archive lock, stale locks block all future operations.\n\n## Implementation\nCreate lib-core/src/store/archive_lock.rs:\n- LockOwner struct: pid, timestamp, agent, hostname\n- is_stale() - check age (\u003e1 hour) or dead process\n- is_process_alive() - Unix: kill(pid, 0), Windows: OpenProcess\n- ArchiveLock::acquire() with stale cleanup\n- LockGuard RAII for automatic release on drop\n\n## Files\n- crates/libs/lib-core/src/store/archive_lock.rs (NEW)\n- crates/libs/lib-core/src/store/git_archive.rs (use ArchiveLock)\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/storage.py\n- Commit 699ed03: fix(storage): improve LRU repo cache robustness\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: stale, lock, PID)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 2.2)\n\n## NIST Control: AU-9 (Audit Protection)\n\n## Acceptance Criteria\n- [ ] Stale locks from dead processes auto-cleaned\n- [ ] Age-based cleanup for abandoned locks (\u003e1 hour)\n- [ ] Cross-platform: Unix (libc::kill) + Windows (OpenProcess)\n- [ ] RAII guard ensures release on drop\n- [ ] No data corruption on forced cleanup\n- [ ] Tests simulate crash recovery\n\n## Complexity: 7/10","notes":"SCAFFOLDING EXISTS (2025-12-19): archive_lock.rs created with ArchiveLock, LockOwner struct (pid, timestamp, agent, hostname), LockGuard RAII, is_stale(), is_process_alive() with cross-platform support - all with tests. REMAINING: Integration into git_archive.rs not done. Need to wrap archive operations with ArchiveLock::acquire() and use LockGuard for automatic release.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T00:25:23.07202+05:30","updated_at":"2025-12-19T15:24:05.910657+05:30","closed_at":"2025-12-19T15:24:05.910657+05:30"}
{"id":"mcp-agent-mail-rs-etx","title":"P3: Add CHANGELOG.md for release tracking","description":"PMAT recommendation: Add CHANGELOG.md to document version history and changes between releases. Follow Keep a Changelog format (keepachangelog.com). Sections: Added, Changed, Deprecated, Removed, Fixed, Security. Link to GitHub releases. Include v0.1.0 release notes from recent GitHub Binary Release epic (bead 6et).","notes":"Starting work - will create CHANGELOG.md following Keep a Changelog format","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-17T20:53:11.408145+05:30","updated_at":"2025-12-17T22:58:38.180265+05:30","closed_at":"2025-12-17T22:58:38.180265+05:30"}
{"id":"mcp-agent-mail-rs-euq7","title":"GAP: CSP Security Headers for lib-server","description":"## Problem\nXSS test corpus exists but actual Content-Security-Policy headers are NOT implemented in lib-server.\n\n## Python Reference\n```\nContent-Security-Policy: script-src 'self'; connect-src 'self'; style-src 'self' 'unsafe-inline'\nX-Frame-Options: DENY\nX-Content-Type-Options: nosniff\n```\n\n## Implementation\n- Add CSP headers via tower middleware layer\n- Add X-Frame-Options, X-Content-Type-Options\n- Test with integration tests\n\n## Files\n- crates/libs/lib-server/src/lib.rs - add security headers layer","notes":"Claimed by worker-euq7","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T17:59:30.241356+05:30","updated_at":"2025-12-19T00:10:22.307511+05:30","closed_at":"2025-12-19T00:10:22.307511+05:30"}
{"id":"mcp-agent-mail-rs-exr","title":"Add Makefile sidecar build targets","description":"Add build-sidecar, build-sidecar-minimal, and build-claude-desktop targets. Include trunk build step before cargo build.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T17:52:52.316473+05:30","updated_at":"2025-12-17T19:01:05.931522+05:30","closed_at":"2025-12-17T19:01:05.931522+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-exr","depends_on_id":"mcp-agent-mail-rs-4c0","type":"blocks","created_at":"2025-12-17T17:53:00.123619+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ezy","title":"P0: Port Inbox page with cascading selects","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:39:39.445973+05:30","updated_at":"2025-12-12T00:45:26.506572+05:30","closed_at":"2025-12-12T00:45:26.506572+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ezy","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:04.401797+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-ezy","depends_on_id":"mcp-agent-mail-rs-cfu","type":"blocks","created_at":"2025-12-11T23:40:25.594382+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-f51","title":"P1: Add test for built-in macros registration (b511528)","description":"Built-in macros (b511528) registers 5 macros on project creation but has no test. Add test_builtin_macros_registered() to verify: start_session, prepare_thread, file_reservation_cycle, contact_handshake, broadcast_message are created.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-12T17:59:02.16831+05:30","updated_at":"2025-12-15T19:59:16.62402+05:30","closed_at":"2025-12-15T19:59:16.62402+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-f51","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T17:59:02.16961+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-f6w","title":"PORT: Project Mail Web UI Routes (inbox/message/thread views)","description":"## Description\nPort the Python project-specific mail web UI routes for viewing inbox, messages, and threads.\n\n## Missing Routes\n\n### Inbox \u0026 Messages\n- `/mail/{project}` - Project overview HTML\n- `/mail/{project}/inbox/{agent}` - Agent inbox HTML\n- `/mail/{project}/inbox/{agent}/mark-read` - Mark single message read (POST)\n- `/mail/{project}/inbox/{agent}/mark-all-read` - Mark all messages read (POST)\n- `/mail/{project}/message/{mid}` - Message detail HTML\n\n### Threads \u0026 Search\n- `/mail/{project}/thread/{thread_id}` - Thread view HTML\n- `/mail/{project}/search` - Search results HTML\n\n### File Management\n- `/mail/{project}/file_reservations` - File reservations HTML\n- `/mail/{project}/attachments` - Attachments HTML\n\n### Overseer\n- `/mail/{project}/overseer/compose` - Compose overseer message HTML\n- `/mail/{project}/overseer/send` - Send overseer message (POST)\n\n### Projects List\n- `/mail/projects` - All projects list HTML\n\n## Reference\n- Python: mcp_agent_mail/src/mcp_agent_mail/http.py lines 1305-2092\n\n## Implementation Notes\n- Uses Jinja2 templates in Python\n- Consider Leptos components or HTMX + Askama\n- Depends on unified inbox feature (s0j bead)","notes":"Claimed by worker-f6w, analyzing existing Leptos UI","status":"in_progress","priority":2,"issue_type":"feature","created_at":"2025-12-18T00:51:52.574271+05:30","updated_at":"2025-12-18T03:38:25.420775+05:30"}
{"id":"mcp-agent-mail-rs-fa5","title":"P0: Setup Tailwind CSS build pipeline for Leptos","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:39:34.140615+05:30","updated_at":"2025-12-12T00:22:13.035835+05:30","closed_at":"2025-12-12T00:22:13.035835+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-fa5","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:04.123895+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-fa5","depends_on_id":"mcp-agent-mail-rs-qug","type":"blocks","created_at":"2025-12-11T23:40:25.276295+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-fw1","title":"P1: Add CC/BCC recipient support to messages","description":"Extend SendMessagePayload with cc_names/bcc_names. Add recipient_type column to message_recipients table. Update send_message handler to create recipient entries with type='to'/'cc'/'bcc'.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:54:33.349592+05:30","updated_at":"2025-12-15T20:44:23.371331+05:30","closed_at":"2025-12-15T20:44:23.371331+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-fw1","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:54:33.350317+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-g4y","title":"P2: Add PWA manifest and service worker","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:39:52.072272+05:30","updated_at":"2025-12-15T18:44:27.380335+05:30","closed_at":"2025-12-15T18:44:27.380335+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-g4y","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:14.99724+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-gdi","title":"Switch to rmcp SDK (official)","description":"Replace mcp-protocol-sdk with rmcp (official SDK) for better macro support and Claude Desktop compatibility","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T04:45:22.862204+05:30","updated_at":"2025-12-09T05:29:25.498517+05:30","closed_at":"2025-12-09T05:29:25.498517+05:30","labels":["mcp","refactor"]}
{"id":"mcp-agent-mail-rs-geo","title":"Phase 3: Full Feature Parity (28 MCP Tools)","description":"Implement all 28 MCP tools from Python original (https://glama.ai/mcp/servers/@Dicklesworthstone/mcp_agent_mail) organized by cluster: Identity, Messaging, Contacts, File Reservations, Build Slots, Search, Macros, Product, Static Export. 41 beads tasks total, 2 closed, 39 open.","notes":"27/28 tools implemented. Only export_mailbox remaining.","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-09T01:40:02.771755+05:30","updated_at":"2025-12-09T05:36:29.614482+05:30","closed_at":"2025-12-09T05:36:29.614482+05:30"}
{"id":"mcp-agent-mail-rs-geo.1","title":"Implement FileReservation model and BMC","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T01:53:56.189914+05:30","updated_at":"2025-12-09T01:57:25.478254+05:30","closed_at":"2025-12-09T01:57:25.478254+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.1","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T01:53:56.190374+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.10","title":"Contacts: list_contacts tool","description":"List agent contacts with filtering","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:13:54.575734+05:30","updated_at":"2025-12-09T04:14:46.777201+05:30","closed_at":"2025-12-09T04:14:46.777201+05:30","labels":["contacts","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.10","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:13:54.576104+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.11","title":"Contacts: set_contact_policy tool","description":"Set agent contact acceptance policy","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:13:54.653012+05:30","updated_at":"2025-12-09T04:14:46.820258+05:30","closed_at":"2025-12-09T04:14:46.820258+05:30","labels":["contacts","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.11","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:13:54.653376+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.12","title":"File Reservations: release_file_reservation","description":"Release an active file reservation before expiry","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:17:44.433066+05:30","updated_at":"2025-12-09T03:59:26.274494+05:30","closed_at":"2025-12-09T03:59:26.274494+05:30","labels":["file-reservations","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.12","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:44.433482+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.13","title":"File Reservations: force_release_reservation","description":"Force release stale reservation (admin/overseer)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:17:44.653262+05:30","updated_at":"2025-12-09T04:07:05.242359+05:30","closed_at":"2025-12-09T04:07:05.242359+05:30","labels":["file-reservations","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.13","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:44.653631+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.14","title":"File Reservations: renew_file_reservation","description":"Extend TTL on active reservation","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:17:44.871554+05:30","updated_at":"2025-12-09T04:07:05.291599+05:30","closed_at":"2025-12-09T04:07:05.291599+05:30","labels":["file-reservations","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.14","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:44.871892+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.15","title":"Build Slots: acquire_build_slot","description":"Acquire exclusive build slot for CI/CD isolation","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:17:45.099341+05:30","updated_at":"2025-12-09T04:14:46.863448+05:30","closed_at":"2025-12-09T04:14:46.863448+05:30","labels":["build-slots","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.15","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:45.099688+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.16","title":"Build Slots: renew_build_slot","description":"Extend TTL on active build slot","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:17:45.329611+05:30","updated_at":"2025-12-09T04:14:46.907362+05:30","closed_at":"2025-12-09T04:14:46.907362+05:30","labels":["build-slots","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.16","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:45.329956+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.17","title":"Build Slots: release_build_slot","description":"Release held build slot","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:17:45.567124+05:30","updated_at":"2025-12-09T04:14:46.951122+05:30","closed_at":"2025-12-09T04:14:46.951122+05:30","labels":["build-slots","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.17","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:45.56748+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.18","title":"Search: search_messages","description":"FTS5 full-text search across message bodies and subjects","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:17:58.182129+05:30","updated_at":"2025-12-09T04:04:05.903009+05:30","closed_at":"2025-12-09T04:04:05.903009+05:30","labels":["mcp-tool","search"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.18","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:58.182506+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.19","title":"Search: summarize_thread","description":"LLM-powered thread summarization for single thread","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:17:58.40135+05:30","updated_at":"2025-12-09T04:16:34.021976+05:30","closed_at":"2025-12-09T04:16:34.021976+05:30","labels":["mcp-tool","search"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.19","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:58.401721+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.2","title":"Implement file_reservation_paths tool","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T01:58:15.746382+05:30","updated_at":"2025-12-09T02:03:54.920209+05:30","closed_at":"2025-12-09T02:03:54.920209+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.2","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T01:58:15.746848+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.20","title":"Search: summarize_threads","description":"Batch thread summarization with context limits","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:17:58.618307+05:30","updated_at":"2025-12-09T04:16:34.106943+05:30","closed_at":"2025-12-09T04:16:34.106943+05:30","labels":["mcp-tool","search"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.20","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:58.618666+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.21","title":"Macros: invoke_macro","description":"Execute pre-defined macro with parameters","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:17:58.838261+05:30","updated_at":"2025-12-09T04:16:33.795508+05:30","closed_at":"2025-12-09T04:16:33.795508+05:30","labels":["macros","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.21","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:58.83861+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.22","title":"Macros: list_macros","description":"List available macros and their parameters","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:17:59.062926+05:30","updated_at":"2025-12-09T04:16:33.845206+05:30","closed_at":"2025-12-09T04:16:33.845206+05:30","labels":["macros","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.22","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:59.063289+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.23","title":"Macros: register_macro","description":"Register new macro definition","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:17:59.294057+05:30","updated_at":"2025-12-09T04:16:33.900134+05:30","closed_at":"2025-12-09T04:16:33.900134+05:30","labels":["macros","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.23","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:17:59.294423+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.24","title":"Macros: unregister_macro","description":"Remove macro definition","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:18:10.284184+05:30","updated_at":"2025-12-09T04:16:33.967269+05:30","closed_at":"2025-12-09T04:16:33.967269+05:30","labels":["macros","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.24","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:10.285304+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.25","title":"Setup: install_precommit_guard","description":"Install pre-commit hook for file reservation enforcement","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:18:10.499605+05:30","updated_at":"2025-12-09T04:21:13.661099+05:30","closed_at":"2025-12-09T04:21:13.661099+05:30","labels":["mcp-tool","setup"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.25","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:10.500283+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.26","title":"Setup: uninstall_precommit_guard","description":"Remove pre-commit hook","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:18:10.717148+05:30","updated_at":"2025-12-09T04:21:13.710354+05:30","closed_at":"2025-12-09T04:21:13.710354+05:30","labels":["mcp-tool","setup"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.26","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:10.717949+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.27","title":"Product: ensure_product","description":"Create or get product for multi-repo coordination","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-09T03:18:10.939493+05:30","updated_at":"2025-12-09T05:29:33.698717+05:30","closed_at":"2025-12-09T05:29:33.698717+05:30","labels":["mcp-tool","product"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.27","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:10.940366+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.28","title":"Product: link_project_to_product","description":"Link project to product for unified messaging","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-09T03:18:11.164596+05:30","updated_at":"2025-12-09T05:29:33.856502+05:30","closed_at":"2025-12-09T05:29:33.856502+05:30","labels":["mcp-tool","product"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.28","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:11.165142+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.29","title":"Product: unlink_project_from_product","description":"Unlink project from product","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-09T03:18:11.394038+05:30","updated_at":"2025-12-09T05:29:34.016477+05:30","closed_at":"2025-12-09T05:29:34.016477+05:30","labels":["mcp-tool","product"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.29","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:11.395012+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.3","title":"Identity: whois tool","description":"Implement whois MCP tool - lookup agent details by name","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:13:41.666756+05:30","updated_at":"2025-12-09T03:59:26.145732+05:30","closed_at":"2025-12-09T03:59:26.145732+05:30","labels":["identity","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.3","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:13:41.667892+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.30","title":"Product: list_products","description":"List all products and their linked projects","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-09T03:18:22.067003+05:30","updated_at":"2025-12-09T05:29:34.17349+05:30","closed_at":"2025-12-09T05:29:34.17349+05:30","labels":["mcp-tool","product"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.30","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:22.067713+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.31","title":"Product: product_inbox","description":"Product-wide inbox aggregation across repos","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-09T03:18:22.283001+05:30","updated_at":"2025-12-09T05:29:34.332013+05:30","closed_at":"2025-12-09T05:29:34.332013+05:30","labels":["mcp-tool","product"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.31","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:22.284681+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.32","title":"Attachments: add_attachment","description":"Add file attachment to message with content addressing","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:18:22.496914+05:30","updated_at":"2025-12-09T04:21:13.758139+05:30","closed_at":"2025-12-09T04:21:13.758139+05:30","labels":["attachments","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.32","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:22.497769+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.33","title":"Attachments: get_attachment","description":"Retrieve attachment content by hash","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:18:22.716596+05:30","updated_at":"2025-12-09T04:21:13.806791+05:30","closed_at":"2025-12-09T04:21:13.806791+05:30","labels":["attachments","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.33","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:22.717349+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.34","title":"Core: list_file_reservations","description":"List active and historical file reservations for project","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:18:22.940704+05:30","updated_at":"2025-12-09T03:59:26.335654+05:30","closed_at":"2025-12-09T03:59:26.335654+05:30","labels":["core","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.34","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:22.941592+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.35","title":"Core: get_project_info","description":"Get project details including slug, human_key, stats","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:18:23.177957+05:30","updated_at":"2025-12-09T04:07:05.343611+05:30","closed_at":"2025-12-09T04:07:05.343611+05:30","labels":["core","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.35","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:23.179368+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.36","title":"Core: get_agent_profile","description":"Get agent profile including inception, policy, stats","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:18:34.231424+05:30","updated_at":"2025-12-09T04:07:05.398847+05:30","closed_at":"2025-12-09T04:07:05.398847+05:30","labels":["core","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.36","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:34.232271+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.37","title":"Core: update_agent_profile","description":"Update agent task_description or model","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:18:34.445158+05:30","updated_at":"2025-12-09T04:14:46.63492+05:30","closed_at":"2025-12-09T04:14:46.63492+05:30","labels":["core","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.37","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:34.445776+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.38","title":"Overseer: send_overseer_message","description":"Human operator sends guidance message to agents","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:18:34.665209+05:30","updated_at":"2025-12-09T04:14:46.994587+05:30","closed_at":"2025-12-09T04:14:46.994587+05:30","labels":["mcp-tool","overseer"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.38","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:34.66608+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.39","title":"Threads: get_thread","description":"Get all messages in a thread by thread_id","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:18:34.890113+05:30","updated_at":"2025-12-09T03:59:26.383747+05:30","closed_at":"2025-12-09T03:59:26.383747+05:30","labels":["mcp-tool","threads"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.39","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:34.890853+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.4","title":"Identity: create_agent_identity tool","description":"Generate unique agent names with collision detection","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:13:48.189193+05:30","updated_at":"2025-12-09T04:02:25.201186+05:30","closed_at":"2025-12-09T04:02:25.201186+05:30","labels":["identity","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.4","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:13:48.190396+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.40","title":"Threads: list_threads","description":"List all threads with pagination","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:18:35.123167+05:30","updated_at":"2025-12-09T04:14:46.588687+05:30","closed_at":"2025-12-09T04:14:46.588687+05:30","labels":["mcp-tool","threads"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.40","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:35.124393+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.41","title":"Static Export: export_mailbox","description":"Export mailbox to static HTML bundle","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-09T03:18:35.358956+05:30","updated_at":"2025-12-09T05:36:29.458791+05:30","closed_at":"2025-12-09T05:36:29.458791+05:30","labels":["export","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.41","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:18:35.359588+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.5","title":"Messaging: reply_message tool","description":"Reply to existing thread with proper threading","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T03:13:48.268566+05:30","updated_at":"2025-12-09T03:59:26.196773+05:30","closed_at":"2025-12-09T03:59:26.196773+05:30","labels":["mcp-tool","messaging"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.5","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:13:48.268922+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.6","title":"Messaging: mark_message_read tool","description":"Track read status for messages","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:13:48.340747+05:30","updated_at":"2025-12-09T04:14:46.49153+05:30","closed_at":"2025-12-09T04:14:46.49153+05:30","labels":["mcp-tool","messaging"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.6","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:13:48.341148+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.7","title":"Messaging: acknowledge_message tool","description":"Acknowledge receipt of messages requiring ACK","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:13:48.410436+05:30","updated_at":"2025-12-09T04:14:46.542652+05:30","closed_at":"2025-12-09T04:14:46.542652+05:30","labels":["mcp-tool","messaging"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.7","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:13:48.410826+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.8","title":"Contacts: request_contact tool","description":"Request to add another agent as contact","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:13:54.416228+05:30","updated_at":"2025-12-09T04:14:46.683416+05:30","closed_at":"2025-12-09T04:14:46.683416+05:30","labels":["contacts","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.8","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:13:54.416641+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-geo.9","title":"Contacts: respond_contact tool","description":"Accept/reject contact requests","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T03:13:54.494387+05:30","updated_at":"2025-12-09T04:14:46.730573+05:30","closed_at":"2025-12-09T04:14:46.730573+05:30","labels":["contacts","mcp-tool"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-geo.9","depends_on_id":"mcp-agent-mail-rs-geo","type":"parent-child","created_at":"2025-12-09T03:13:54.494789+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-goia","title":"Run accessibility audit on all pages using dev-browser","description":"## Summary\nRun comprehensive accessibility audit on all pages and fix any issues found.\n\n## Implementation Details\n\n### Audit Script (dev-browser)\nTest for:\n- Images without alt text\n- Buttons without accessible names\n- Inputs without labels\n- Touch targets \u003c 44√ó44px\n\n### Pages to Audit\n- /\n- /projects\n- /inbox\n- /agents\n\n## Acceptance Criteria\n- [ ] All images have alt text (0 violations)\n- [ ] All buttons have accessible names (0 violations)\n- [ ] All inputs have labels (0 violations)\n- [ ] All touch targets ‚â• 44√ó44px (0 violations)\n- [ ] Audit results documented\n- [ ] Any issues found are fixed","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-18T23:13:03.87641+05:30","updated_at":"2025-12-19T01:58:08.74757+05:30","closed_at":"2025-12-19T01:58:08.74757+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-goia","depends_on_id":"mcp-agent-mail-rs-ytr6","type":"blocks","created_at":"2025-12-18T23:13:51.143854+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-gs87","title":"Epic: shadcn/ui Component Upgrade for Leptos Ultrathink","description":"## Overview\nComprehensive upgrade of 12 Leptos components to shadcn/ui design patterns with production hardening, mobile-first design, WCAG 2.1 AA accessibility compliance, and testing strategy.\n\n## Standards Applied\n| Standard | Target |\n|----------|--------|\n| WCAG | 2.1 AA Compliance |\n| Core Web Vitals | LCP \u003c 2.5s, CLS \u003c 0.1 |\n| Touch Targets | ‚â• 44√ó44px minimum |\n| Color Contrast | ‚â• 4.5:1 (text), ‚â• 3:1 (UI) |\n| Design System | shadcn semantic tokens + fluid typography |\n\n## Scope\n- 6 new components (Button, Input, Card, Badge, Separator, Skeleton)\n- 6 upgraded components (Select, Avatar, Alert, Dialog, ProjectCard, SplitView)\n- CSS infrastructure (semantic tokens, fluid typography, touch targets)\n- Testing infrastructure (visual regression, a11y audits)\n\n## Quality Gates\n- cargo check \u0026\u0026 cargo fmt --check \u0026\u0026 cargo clippy -- -D warnings\n- All ARIA attributes present per shadcn spec\n- Keyboard navigation tested\n- Touch targets ‚â• 44√ó44px\n- Color contrast ‚â• 4.5:1","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-18T23:10:25.40705+05:30","updated_at":"2025-12-20T04:18:52.887037+05:30","closed_at":"2025-12-20T04:18:52.887037+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-gs87","depends_on_id":"mcp-agent-mail-rs-1d2q","type":"blocks","created_at":"2025-12-19T22:03:36.352405+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-gs87","depends_on_id":"mcp-agent-mail-rs-w7n3","type":"blocks","created_at":"2025-12-19T22:03:36.400178+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-gs87","depends_on_id":"mcp-agent-mail-rs-bj2h","type":"blocks","created_at":"2025-12-19T22:08:54.06644+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-gs87","depends_on_id":"mcp-agent-mail-rs-urnl","type":"blocks","created_at":"2025-12-19T22:08:54.121178+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-hfv","title":"PORT: Share/Export Tests (39 security \u0026 integrity tests)","description":"## Description\nPort the 39 share/export tests from Python covering mailbox export security and integrity.\n\n## Test Categories\n\n### Scrub/Pseudonymization (3 tests)\n- test_scrub_snapshot_pseudonymizes_and_clears\n- test_scrub_snapshot_strict_preset\n- test_scrub_snapshot_archive_preset_preserves_runtime_state\n\n### Attachment Bundling (1 test)\n- test_bundle_attachments_handles_modes\n\n### Manifest \u0026 Structure (3 tests)\n- test_summarize_snapshot\n- test_manifest_snapshot_structure\n- test_run_share_export_wizard\n\n### Security (8 tests)\n- test_sign_and_verify_manifest\n- test_verify_bundle_without_signature\n- test_verify_bundle_with_sri\n- test_verify_bundle_missing_sri_asset\n- test_decrypt_with_age_requires_age_binary\n- test_decrypt_with_age_validation\n- test_sri_computation\n- test_build_viewer_sri\n\n### Export Wizard (5 tests)\n- test_share_export_dry_run\n- test_start_preview_server_serves_content\n- test_share_export_chunking_and_viewer_data\n- test_verify_viewer_vendor_assets\n- test_maybe_chunk_database_rejects_zero_chunk_size\n\n## Reference\n- Python: tests/test_share_export.py\n- Python: mcp_agent_mail/share.py\n\n## Implementation Notes\n- Tests critical for data integrity during export\n- SRI (Subresource Integrity) verification\n- Age encryption support\n- Manifest signing/verification","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T00:58:01.644918+05:30","updated_at":"2025-12-18T00:58:01.644918+05:30"}
{"id":"mcp-agent-mail-rs-hij6","title":"ORCH-6: Add QualityGateRunner for automated checks","description":"## Summary\nStandardized quality gate execution with structured results.\n\n## Implementation\n```rust\npub struct QualityGateRunner;\n\n#[derive(Serialize)]\npub struct QualityGateResults {\n    pub cargo_check: GateResult,\n    pub cargo_clippy: GateResult,\n    pub cargo_fmt: GateResult,\n    pub cargo_test: GateResult,\n    pub all_passed: bool,\n}\n\n#[derive(Serialize)]\npub struct GateResult {\n    pub passed: bool,\n    pub exit_code: i32,\n    pub output: String,\n    pub duration_ms: u64,\n}\n\nimpl QualityGateRunner {\n    pub async fn run_all() -\u003e Result\u003cQualityGateResults\u003e;\n    pub async fn run_blocking_only() -\u003e Result\u003cQualityGateResults\u003e;\n}\n```\n\n## Acceptance Criteria\n- [ ] Runs cargo check, clippy, fmt, test\n- [ ] Captures exit codes and output\n- [ ] all_passed is true only if all gates pass\n- [ ] run_blocking_only skips tests for speed","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:35:08.510442+05:30","updated_at":"2025-12-20T00:50:52.161029+05:30","closed_at":"2025-12-20T00:50:52.161029+05:30"}
{"id":"mcp-agent-mail-rs-hq8p","title":"PORT: Mail Viewer E2E Tests (26 browser tests)","description":"## Description\nPort the 26 mail viewer E2E tests for browser-based functionality validation.\n\n## Test Categories\n\n### Page Rendering\n- Viewer loads correctly\n- Message list displays\n- Message detail view\n- Thread navigation\n\n### Interaction\n- Message selection\n- Reply composition\n- Search functionality\n- Filtering\n\n### Data Binding\n- Message content rendering\n- Attachment display\n- Timestamp formatting\n- Importance badges\n\n## Reference\n- Python: tests/test_mail_viewer_e2e.py\n\n## Implementation Notes\n- Consider using Playwright or Probar for browser automation\n- Tests static viewer HTML/JS/CSS\n- Validates client-side JavaScript behavior\n- May overlap with E2E_TEST_PLAN.md","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T00:58:18.080662+05:30","updated_at":"2025-12-18T00:58:18.080662+05:30"}
{"id":"mcp-agent-mail-rs-i53d","title":"Sprint4-4.2: Run accessibility audit on all pages","description":"Run comprehensive accessibility audit using dev-browser and fix any issues.\n\n## Checks\n- Images without alt text (0 violations target)\n- Buttons without accessible names (0 violations target)\n- Form inputs without labels (0 violations target)\n- Touch targets \u003c 44√ó44px (0 violations target)\n- Color contrast ratios (WCAG AA: 4.5:1)\n\n## Pages to Audit\n- / (Dashboard)\n- /projects\n- /inbox\n- /mail/unified\n\n## Deliverables\n- Audit report documenting all checks\n- All issues fixed\n- WCAG 2.1 AA compliance verified","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T01:54:07.605025+05:30","updated_at":"2025-12-19T02:50:43.817737+05:30","closed_at":"2025-12-19T02:50:43.817737+05:30"}
{"id":"mcp-agent-mail-rs-if9","title":"P1: Implement MCP Resources (5 resource URIs)","description":"Implement rmcp resource handler for 5 URIs: resource://inbox/{agent}, resource://outbox/{agent}, resource://thread/{id}, resource://agents, resource://file_reservations. Map to existing API calls.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:54:32.377532+05:30","updated_at":"2025-12-15T20:44:23.470673+05:30","closed_at":"2025-12-15T20:44:23.470673+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-if9","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:54:32.378323+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ig1","title":"P0: Fix static_files.rs panic-prone error handling","description":"Lines 56-60 and 65-66 use .expect() for Response building which can panic in production. PMAT flagged 144 unwrap() calls - reference Cloudflare 2025-11-18 outage where unwrap() panic caused 3+ hour network outage. Replace with proper fallback responses that return HTTP 500 without crashing. File: crates/libs/lib-server/src/static_files.rs","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-17T20:51:34.442789+05:30","updated_at":"2025-12-17T20:58:22.027169+05:30","closed_at":"2025-12-17T20:58:22.027169+05:30"}
{"id":"mcp-agent-mail-rs-iwvb","title":"Refactor ProjectCard to use new Card and Badge components","description":"## Summary\nRefactor ProjectCard to use the new Card compound components and Badge component instead of inline classes.\n\n## Implementation Details\n\n### Refactor project_card.rs\n```rust\nuse crate::components::{Card, CardHeader, CardTitle, CardContent, Badge, BadgeVariant};\n\n#[component]\npub fn ProjectCard(\n    slug: String,\n    human_key: String,\n    created_at: String,\n    status: String,\n    agent_count: i32,\n    message_count: i32,\n) -\u003e impl IntoView {\n    let badge_variant = match status.as_str() {\n        \"Active\" =\u003e BadgeVariant::Success,\n        \"Inactive\" =\u003e BadgeVariant::Secondary,\n        _ =\u003e BadgeVariant::Default,\n    };\n\n    view! {\n        \u003cCard class=\"hover:shadow-md transition-shadow\"\u003e\n            \u003cCardHeader class=\"pb-2\"\u003e\n                \u003cdiv class=\"flex items-center justify-between\"\u003e\n                    \u003cCardTitle class=\"text-lg\"\u003e{human_key}\u003c/CardTitle\u003e\n                    \u003cBadge variant=badge_variant\u003e{status}\u003c/Badge\u003e\n                \u003c/div\u003e\n            \u003c/CardHeader\u003e\n            \u003cCardContent\u003e\n                \u003cdiv class=\"flex items-center gap-4 text-sm text-muted-foreground\"\u003e\n                    \u003cspan\u003e{agent_count} \" agents\"\u003c/span\u003e\n                    \u003cspan\u003e{message_count} \" messages\"\u003c/span\u003e\n                \u003c/div\u003e\n            \u003c/CardContent\u003e\n        \u003c/Card\u003e\n    }\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/project_card.rs\n\n## Acceptance Criteria\n- [ ] Uses Card, CardHeader, CardTitle, CardContent components\n- [ ] Uses Badge component for status\n- [ ] Badge variant changes based on status (Active=Success, Inactive=Secondary)\n- [ ] Uses text-muted-foreground semantic color\n- [ ] Hover effect preserved\n- [ ] Visual output unchanged","notes":"Claimed by worker-iwvb","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T23:12:31.80915+05:30","updated_at":"2025-12-19T01:04:37.3303+05:30","closed_at":"2025-12-19T01:04:37.3303+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-iwvb","depends_on_id":"mcp-agent-mail-rs-nkcp","type":"blocks","created_at":"2025-12-18T23:13:46.880215+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-iwvb","depends_on_id":"mcp-agent-mail-rs-be8s","type":"blocks","created_at":"2025-12-18T23:13:46.928231+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-j1a","title":"P3: Improve rustdoc coverage from 33% to 70%","description":"PMAT rust-project-score shows Documentation at 5/15 (33.3%). Target: 70%. Focus areas: 1) lib-core BMC methods (public API), 2) lib-mcp tool functions (50+ tools), 3) lib-server endpoints (REST handlers). Add /// doc comments with examples. Run: cargo doc --document-private-items, check coverage. Include code examples that serve as additional test coverage.","notes":"Session total: ~750 lines of rustdoc added across 6 BMC files + crate docs. Current PMAT: still 46.7%. May need more files or different approach to move score.","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-17T20:53:08.265279+05:30","updated_at":"2025-12-17T23:14:43.435892+05:30","closed_at":"2025-12-17T22:58:38.183501+05:30"}
{"id":"mcp-agent-mail-rs-jatt","title":"EPIC: Web UI Polish - Core Infrastructure","description":"## Overview\nEstablish production-grade UI infrastructure matching Python reference implementation quality.\n\n## Design Analysis (from screenshots)\n- Clean purple/indigo accent color scheme (#6366f1)\n- Glassmorphism navigation header\n- Consistent spacing (16px base grid)\n- Lucide icons throughout\n- Dark mode toggle in header\n- Responsive layout with sidebar collapse\n\n## Deliverables\n1. Design token system (CSS custom properties)\n2. Enhanced navigation with breadcrumbs\n3. Dark mode persistence with system preference detection\n4. Mobile-responsive navigation (hamburger menu)\n5. Loading skeleton components\n6. Toast notification system\n\n## Acceptance Criteria\n- [ ] LCP ‚â§ 2.5s on mobile 3G\n- [ ] CLS ‚â§ 0.1 (no layout shift)\n- [ ] WCAG 2.2 AA compliance\n- [ ] Works offline (service worker)","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-18T06:04:01.884322+05:30","updated_at":"2025-12-18T06:04:01.884322+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-jatt","depends_on_id":"mcp-agent-mail-rs-u86q","type":"blocks","created_at":"2025-12-19T22:08:53.955821+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-jatt","depends_on_id":"mcp-agent-mail-rs-153x","type":"blocks","created_at":"2025-12-19T22:08:54.011773+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-jfv","title":"PORT: Time Travel Tests (23 historical snapshot tests)","description":"## Description\nPort the 23 time travel tests from Python covering historical inbox snapshot retrieval.\n\n## Test Categories\n\n### Basic Rendering (2 tests)\n- test_time_travel_page_renders\n- test_time_travel_page_lists_projects\n\n### Timestamp Handling (10 tests)\n- test_time_travel_snapshot_valid_timestamp\n- test_time_travel_snapshot_past_timestamp\n- test_time_travel_snapshot_utc_timestamp\n- test_time_travel_snapshot_timezone_offset\n- test_time_travel_snapshot_naive_timestamp\n- test_time_travel_snapshot_invalid_timestamp_format\n- test_time_travel_snapshot_missing_timestamp\n- test_time_travel_snapshot_partial_date_format\n- test_time_travel_snapshot_leap_second\n- test_time_travel_snapshot_negative_timezone\n- test_time_travel_snapshot_epoch\n\n### Error Handling (4 tests)\n- test_time_travel_snapshot_invalid_project\n- test_time_travel_snapshot_invalid_agent_name\n- test_time_travel_snapshot_nonexistent_agent\n- test_time_travel_snapshot_nonexistent_project\n\n### Response Validation (3 tests)\n- test_time_travel_snapshot_response_structure\n- test_time_travel_snapshot_message_fields\n- test_time_travel_snapshot_project_no_messages\n\n### Security (2 tests)\n- test_time_travel_snapshot_xss_in_project\n- test_time_travel_snapshot_xss_in_agent\n\n### Edge Cases (2 tests)\n- test_time_travel_page_no_projects\n- test_time_travel_snapshot_project_no_messages\n\n## Reference\n- Python: tests/test_time_travel.py\n- Python: mcp_agent_mail/http.py (time-travel routes)\n\n## Implementation Notes\n- Requires git archive integration\n- Timezone-aware timestamp parsing critical\n- XSS protection in URL parameters","status":"open","priority":1,"issue_type":"task","created_at":"2025-12-18T00:58:01.836289+05:30","updated_at":"2025-12-18T00:58:01.836289+05:30"}
{"id":"mcp-agent-mail-rs-jt8","title":"P2: Create Dockerfile and docker-compose.yml","description":"Create multi-stage Dockerfile (builder + runtime) with musl for static binary. Add docker-compose.yml with services: mcp-server, optional reverse proxy. Support volume mounts for data/ and .env.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:55:14.48199+05:30","updated_at":"2025-12-15T22:21:00.923571+05:30","closed_at":"2025-12-15T22:21:00.923571+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-jt8","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:55:14.483351+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43","title":"Phase 2: SvelteKit Frontend","description":"Initialize SvelteKit with TailwindCSS, create UI for projects, agents, inbox, messages","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-09T01:40:02.685101+05:30","updated_at":"2025-12-09T02:40:31.761456+05:30","closed_at":"2025-12-09T02:40:31.761456+05:30"}
{"id":"mcp-agent-mail-rs-k43.1","title":"Initialize SvelteKit project in crates/services/web-ui","description":"Run bun create svelte, configure project structure","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T01:40:41.297291+05:30","updated_at":"2025-12-09T02:25:41.430272+05:30","closed_at":"2025-12-09T02:25:41.430272+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.1","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:41.297684+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43.10","title":"Create Message compose modal","description":"Send new message with recipients, subject, body","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-09T01:40:42.010916+05:30","updated_at":"2025-12-09T02:36:52.099969+05:30","closed_at":"2025-12-09T02:36:52.099969+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.10","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:42.011282+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43.11","title":"Create Message thread view","description":"Display conversation thread with replies","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-09T01:40:42.082919+05:30","updated_at":"2025-12-09T02:36:52.14057+05:30","closed_at":"2025-12-09T02:36:52.14057+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.11","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:42.083294+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43.2","title":"Configure Bun as package manager","description":"Set up bun.lockb, configure scripts","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T01:40:41.371615+05:30","updated_at":"2025-12-09T02:25:41.487403+05:30","closed_at":"2025-12-09T02:25:41.487403+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.2","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:41.37197+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43.3","title":"Set up TailwindCSS with MD3 theme","description":"Install tailwindcss, configure Material Design 3 colors","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T01:40:41.45376+05:30","updated_at":"2025-12-09T02:25:41.536024+05:30","closed_at":"2025-12-09T02:25:41.536024+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.3","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:41.454131+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43.4","title":"Configure adapter-static for Rust embedding","description":"Build static assets that can be served from Rust binary","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T01:40:41.528046+05:30","updated_at":"2025-12-09T02:25:41.585879+05:30","closed_at":"2025-12-09T02:25:41.585879+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.4","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:41.528448+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43.5","title":"Create API client service","description":"Fetch wrapper for REST API calls to backend","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T01:40:41.601233+05:30","updated_at":"2025-12-09T02:25:41.632987+05:30","closed_at":"2025-12-09T02:25:41.632987+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.5","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:41.6016+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43.6","title":"Implement layout with navigation","description":"App shell with sidebar, header, main content area","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T01:40:41.683758+05:30","updated_at":"2025-12-09T02:25:41.676835+05:30","closed_at":"2025-12-09T02:25:41.676835+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.6","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:41.684165+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43.7","title":"Create Projects list page","description":"List all projects, create new project","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-09T01:40:41.770141+05:30","updated_at":"2025-12-09T02:36:51.968045+05:30","closed_at":"2025-12-09T02:36:51.968045+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.7","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:41.770543+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43.8","title":"Create Agents list page","description":"List agents per project, register new agent","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-09T01:40:41.852389+05:30","updated_at":"2025-12-09T02:36:52.01548+05:30","closed_at":"2025-12-09T02:36:52.01548+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.8","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:41.852802+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-k43.9","title":"Create Inbox view page","description":"List messages for agent, filter by read/unread","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-09T01:40:41.941117+05:30","updated_at":"2025-12-09T02:36:52.057951+05:30","closed_at":"2025-12-09T02:36:52.057951+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-k43.9","depends_on_id":"mcp-agent-mail-rs-k43","type":"parent-child","created_at":"2025-12-09T01:40:41.941511+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-knos","title":"T5: Route registration for pending-reviews","description":"Register routes: /api/messages/pending-reviews (GET), /api/pending_reviews (Python alias). Complexity: 2/10. File: crates/libs/lib-server/src/api.rs","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T17:45:56.416056+05:30","updated_at":"2025-12-18T18:35:40.658229+05:30","closed_at":"2025-12-18T18:35:40.658229+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-knos","depends_on_id":"mcp-agent-mail-rs-xazm","type":"blocks","created_at":"2025-12-18T17:46:09.376189+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ktp","title":"PORT-6.1: Add 'am' shell alias in installer script","description":"## Problem\nNeed quick alias for starting server: 'am' instead of 'mcp-agent-mail serve http'.\n\n## Implementation\n- add_am_alias() in install.sh\n- Detect shell (zsh, bash, fish)\n- Add to appropriate rc file\n- Idempotent (check before adding)\n\n## Files\n- scripts/install.sh\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/scripts/install.sh\n- Commit 0810f80: feat(install): add 'am' shell alias\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: alias, am)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 6.1)\n\n## Acceptance Criteria\n- [ ] 'am' alias added to shell rc\n- [ ] Idempotent (no duplicates)\n- [ ] Works for bash, zsh, fish\n- [ ] User informed to source rc\n\n## Complexity: 2/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:27:06.200774+05:30","updated_at":"2025-12-19T16:18:51.572725+05:30","closed_at":"2025-12-19T16:18:51.572725+05:30"}
{"id":"mcp-agent-mail-rs-kuj","title":"Add ARIA labels to interactive elements","description":"Add aria-label and aria-expanded to sidebar toggle, aria-current to active nav items. Improve screen reader experience.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T02:45:32.255109+05:30","updated_at":"2025-12-15T18:44:54.584078+05:30","closed_at":"2025-12-15T18:44:54.584078+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-kuj","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:32.255641+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-l0o","title":"P1: Create API server functions (share lib-core types)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:39:46.003396+05:30","updated_at":"2025-12-15T18:44:54.120313+05:30","closed_at":"2025-12-15T18:44:54.120313+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-l0o","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:14.762254+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-l8l4","title":"GAP: Projects CLI Commands (mark-identity/adopt/status)","description":"## Problem\nPython has project management CLI commands. Rust has limited project commands.\n\n## Python Commands\n- `projects mark-identity --commit` - Write committed .agent-mail-project-id marker\n- `projects discovery-init --product` - Scaffold discovery YAML\n- `projects adopt \u003cfrom\u003e \u003cto\u003e` - Consolidate legacy projects with --dry-run/--apply\n- `projects status` - Inspect product and linked projects\n\n## Implementation\n- Add projects subcommand with subcommands\n- mark-identity: Create/commit .agent-mail-project-id\n- adopt: Migrate artifacts between projects\n- status: Show project details and product links","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T18:00:35.508225+05:30","updated_at":"2025-12-19T21:27:45.888047+05:30","closed_at":"2025-12-19T21:27:45.888047+05:30"}
{"id":"mcp-agent-mail-rs-l8v","title":"P0: Implement Inbox E2E tests (I-001 to I-012)","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:33:27.032694+05:30","updated_at":"2025-12-15T18:44:26.799322+05:30","closed_at":"2025-12-15T18:44:26.799322+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-l8v","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:00.959945+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-l8v","depends_on_id":"mcp-agent-mail-rs-ah3","type":"blocks","created_at":"2025-12-11T23:34:24.058409+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-lbg","title":"P1: Add URL state sync (query params)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:39:46.206261+05:30","updated_at":"2025-12-15T18:44:53.991604+05:30","closed_at":"2025-12-15T18:44:53.991604+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-lbg","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:14.907338+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ldr","title":"P0: Implement Layout component (nav, dark mode)","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:39:34.278005+05:30","updated_at":"2025-12-12T00:22:41.870638+05:30","closed_at":"2025-12-12T00:22:41.870638+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ldr","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:04.2185+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-ldr","depends_on_id":"mcp-agent-mail-rs-fa5","type":"blocks","created_at":"2025-12-11T23:40:25.371747+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-lnp9","title":"LEPTOS-005: Thread View Page","description":"## Summary\nCreate dedicated thread view with message threading. API `/api/thread/{id}` exists.\n\n## Implementation\nCreate: `pages/thread.rs`\nRoute: `/thread/{id}`\n\n## Acceptance Criteria\n- [ ] Route: /thread/{id}\n- [ ] Tree visualization of message thread\n- [ ] Expand/collapse thread branches\n- [ ] Reply button per message\n- [ ] Back button returns to inbox (preserve scroll)\n- [ ] Keyboard: Up/Down navigate, Enter expand, Esc back\n- [ ] Thread depth indicator (indentation)\n- [ ] Mobile: Linear view with depth badges\n\n## Quality Gates\n- Handles 50+ message threads without scroll jank\n- Focus trap on reply modal\n- aria-expanded on collapsible nodes\n\n## Reference Skills\n- shadcn-ui: Collapsible pattern\n- mobile-frontend-design: Responsive hierarchy\n- kaizen-solaris-review: Performance under load","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T22:03:37.390252+05:30","updated_at":"2025-12-20T03:15:46.891193+05:30","closed_at":"2025-12-20T03:15:46.891193+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-lnp9","depends_on_id":"mcp-agent-mail-rs-1d2q","type":"blocks","created_at":"2025-12-19T22:07:10.870951+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-lnp9","depends_on_id":"mcp-agent-mail-rs-w7n3","type":"blocks","created_at":"2025-12-19T22:07:10.925968+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-lry","title":"Phase 6: Feature Parity Verification","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-09T07:10:04.57872+05:30","updated_at":"2025-12-09T15:52:26.284824+05:30","closed_at":"2025-12-09T15:52:26.284824+05:30"}
{"id":"mcp-agent-mail-rs-lry.1","title":"Set up unit test infrastructure in lib-core","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T07:10:12.68201+05:30","updated_at":"2025-12-09T07:17:34.448731+05:30","closed_at":"2025-12-09T07:17:34.448731+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-lry.1","depends_on_id":"mcp-agent-mail-rs-lry","type":"parent-child","created_at":"2025-12-09T07:10:12.683937+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-lry.2","title":"Implement mark_message_read tool","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T07:10:14.409023+05:30","updated_at":"2025-12-09T07:19:46.832317+05:30","closed_at":"2025-12-09T07:19:46.832317+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-lry.2","depends_on_id":"mcp-agent-mail-rs-lry","type":"parent-child","created_at":"2025-12-09T07:10:14.411304+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-lry.3","title":"Implement acknowledge_message tool","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T07:10:16.263248+05:30","updated_at":"2025-12-09T07:19:48.574843+05:30","closed_at":"2025-12-09T07:19:48.574843+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-lry.3","depends_on_id":"mcp-agent-mail-rs-lry","type":"parent-child","created_at":"2025-12-09T07:10:16.265362+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-lry.4","title":"Implement set_contact_policy tool","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T07:10:18.308737+05:30","updated_at":"2025-12-09T07:19:49.657736+05:30","closed_at":"2025-12-09T07:19:49.657736+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-lry.4","depends_on_id":"mcp-agent-mail-rs-lry","type":"parent-child","created_at":"2025-12-09T07:10:18.310559+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-lry.5","title":"Implement force_release/renew file reservation tools","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T07:10:20.065996+05:30","updated_at":"2025-12-09T07:24:21.393738+05:30","closed_at":"2025-12-09T07:24:21.393738+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-lry.5","depends_on_id":"mcp-agent-mail-rs-lry","type":"parent-child","created_at":"2025-12-09T07:10:20.068419+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-lry.6","title":"Create integration test suite","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T07:10:20.332464+05:30","updated_at":"2025-12-09T07:32:37.037314+05:30","closed_at":"2025-12-09T07:32:37.037314+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-lry.6","depends_on_id":"mcp-agent-mail-rs-lry","type":"parent-child","created_at":"2025-12-09T07:10:20.334606+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-lw2b","title":"Create Input component with focus ring and error states","description":"## Summary\nCreate a new Input component with shadcn styling, focus ring, and aria-invalid support.\n\n## Implementation Details\n\n### Create components/input.rs\n```rust\nuse leptos::*;\nuse tailwind_fuse::tw_merge;\n\nconst INPUT_CLASS: \u0026str = \"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\";\n\n#[component]\npub fn Input(\n    #[prop(optional, into)] class: MaybeProp\u003cString\u003e,\n    #[prop(optional)] disabled: bool,\n    #[prop(optional)] invalid: bool,\n    #[prop(optional, into)] placeholder: MaybeProp\u003cString\u003e,\n    #[prop(optional, into)] value: MaybeProp\u003cString\u003e,\n    #[prop(optional)] on_input: Option\u003cCallback\u003cString\u003e\u003e,\n) -\u003e impl IntoView {\n    view! {\n        \u003cinput\n            class=tw_merge!(INPUT_CLASS, class.get())\n            disabled=disabled\n            aria-invalid=invalid.then_some(\"true\")\n            placeholder=placeholder.get()\n            value=value.get()\n        /\u003e\n    }\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/input.rs (NEW)\n- crates/services/web-ui-leptos/src/components/mod.rs\n\n## Acceptance Criteria\n- [ ] Input component created with shadcn classes\n- [ ] Focus ring visible on focus\n- [ ] aria-invalid attribute set when invalid=true\n- [ ] Disabled state styled correctly\n- [ ] Placeholder styled with muted-foreground\n- [ ] Height is 40px (h-10) meeting touch target\n- [ ] Component exported from mod.rs","notes":"Claimed by worker-lw2b","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T23:11:15.348906+05:30","updated_at":"2025-12-18T23:37:39.060941+05:30","closed_at":"2025-12-18T23:37:39.060941+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-lw2b","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:37.900322+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-m0ct","title":"GAP: Archive CLI Commands (save/list/restore)","description":"## Problem\nPython has disaster recovery archive CLI. Rust has no equivalent.\n\n## Python Commands\n- `archive save --label \u003cname\u003e` - Create restorable snapshot\n- `archive list --json` - Show restore points\n- `archive restore \u003cfile\u003e.zip` - Restore from backup\n- `clear-and-reset-everything` - Wipe state with optional archive\n\n## Implementation\n- Add archive subcommand to CLI\n- save: ZIP database + git storage with metadata.json\n- list: Enumerate archives in data/archives/\n- restore: Extract and replace live data\n- clear-and-reset: Optional archive before wipe","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-18T17:59:46.921747+05:30","updated_at":"2025-12-20T06:04:30.636157+05:30","closed_at":"2025-12-20T06:04:30.636157+05:30"}
{"id":"mcp-agent-mail-rs-m0fm","title":"PORT-2.1-INT: Integrate RepoCache into GitStore for FD management","description":"## Context\nScaffolding exists in lib-core/src/store/repo_cache.rs with:\n- RepoCache struct using LruCache\u003cPathBuf, Arc\u003cMutex\u003cRepository\u003e\u003e\u003e\n- new(capacity), get(path), peek(path), get_if_cached(path), clear()\n- All with unit tests\n\n## Remaining Work\nIntegrate RepoCache into GitStore:\n1. Add RepoCache field to GitStore struct\n2. Modify open_repo() to use cache instead of direct Repository::open()\n3. Add config for cache capacity (default 8)\n4. Add stress test for FD exhaustion\n\n## Acceptance Criteria\n- [ ] GitStore uses RepoCache for all repository opens\n- [ ] Cache capacity configurable via GIT_REPO_CACHE_SIZE env var\n- [ ] Benchmark shows no FD growth under 1000 operations\n- [ ] Integration test with \u003e8 concurrent projects\n- [ ] Evicted repos properly release file descriptors\n\n## Files to Modify\n- crates/libs/lib-core/src/store/git_store.rs\n- crates/libs/lib-core/src/store/mod.rs\n- crates/libs/lib-common/src/config.rs (add GIT_REPO_CACHE_SIZE)\n\n## Complexity: 6/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T05:16:06.210271+05:30","updated_at":"2025-12-19T21:19:45.939852+05:30","closed_at":"2025-12-19T21:19:45.939852+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-m0fm","depends_on_id":"mcp-agent-mail-rs-ab6","type":"blocks","created_at":"2025-12-19T05:16:06.211017+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-m65","title":"PORT-5.1: Handle FTS5 leading wildcards gracefully","description":"## Problem\nFTS5 doesn't support leading wildcards (*foo). Need graceful handling.\n\n## Implementation\n- sanitize_fts_query() function\n- Detect leading wildcard, strip and convert to prefix search\n- Escape special FTS5 characters (\" and \\)\n- Return clear error for empty/all-wildcard queries\n\n## Files\n- crates/libs/lib-core/src/model/message.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/db.py\n- Commit 2fbc0ee: fix(fts): handle leading wildcards without space\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: wildcard, FTS5, fts)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 5.1)\n\n## Acceptance Criteria\n- [ ] Leading wildcards handled gracefully\n- [ ] Clear error if query invalid\n- [ ] FTS5 special characters escaped\n- [ ] Tests for edge cases\n\n## Complexity: 3/10","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T00:28:12.441315+05:30","updated_at":"2025-12-19T18:44:34.649049+05:30","closed_at":"2025-12-19T18:44:34.649049+05:30"}
{"id":"mcp-agent-mail-rs-m67","title":"P0: Port ProjectDetail page with agent registration","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:39:39.378418+05:30","updated_at":"2025-12-12T00:41:29.861973+05:30","closed_at":"2025-12-12T00:41:29.861973+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-m67","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:04.357447+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-m67","depends_on_id":"mcp-agent-mail-rs-cfu","type":"blocks","created_at":"2025-12-11T23:40:25.549884+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-mdh","title":"PORT-3.3: Add pre-push guard support with STDIN ref handling","description":"## Problem\nNeed pre-push hook separate from pre-commit for push-time validation.\n\n## Implementation\n- render_prepush_script() generating shell script\n- Read remote refs from stdin (local_ref local_sha remote_ref remote_sha)\n- Call /api/guard/check-push endpoint\n- Graceful degradation if server unreachable\n\n## Files\n- crates/libs/lib-core/src/model/precommit_guard.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/guard.py\n- Commit 733cfd3: test(guard): add comprehensive tests for worktree scenarios\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: pre-push, prepush)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 3.3)\n\n## Acceptance Criteria\n- [ ] Pre-push script reads stdin for refs\n- [ ] Calls server check-push endpoint\n- [ ] Graceful if server unreachable\n- [ ] install_precommit_guard installs both hooks\n- [ ] Tests for pre-push installation\n\n## Complexity: 5/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:26:26.201388+05:30","updated_at":"2025-12-19T15:37:06.648192+05:30","closed_at":"2025-12-19T15:37:06.648192+05:30"}
{"id":"mcp-agent-mail-rs-mi4","title":"P0: Port MessageDetail page with reply flow","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:39:39.578672+05:30","updated_at":"2025-12-12T00:53:32.65988+05:30","closed_at":"2025-12-12T00:53:32.65988+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-mi4","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:04.489736+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-mi4","depends_on_id":"mcp-agent-mail-rs-2mz","type":"blocks","created_at":"2025-12-11T23:40:25.686291+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-mlh0","title":"Create Dialog component with focus trap, ARIA, and Escape handling","description":"## Summary\nCreate a Dialog component with proper accessibility: focus trap, ARIA attributes, and keyboard handling.\n\n## Implementation Details\n\n### Create components/dialog.rs\nDialog with compound components: DialogHeader, DialogTitle, DialogDescription, DialogFooter\n\nKey ARIA requirements:\n- role=\"dialog\"\n- aria-modal=\"true\"\n- aria-labelledby linking to DialogTitle id\n- aria-describedby linking to DialogDescription id\n\nKey features:\n- Focus trapped within dialog when open (leptos-use::use_focus_trap)\n- Escape key closes dialog\n- Overlay click closes dialog\n- Focus returns to trigger on close\n\n## Dependencies\nAdd to Cargo.toml:\n```toml\nleptos-use = { version = \"0.15\", features = [\"use_focus_trap\", \"use_event_listener\"] }\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/dialog.rs (NEW)\n- crates/services/web-ui-leptos/src/components/mod.rs\n- crates/services/web-ui-leptos/Cargo.toml\n\n## Acceptance Criteria\n- [ ] Dialog, DialogHeader, DialogTitle, DialogDescription, DialogFooter created\n- [ ] role=\"dialog\" and aria-modal=\"true\" present\n- [ ] aria-labelledby links to DialogTitle id\n- [ ] aria-describedby links to DialogDescription id\n- [ ] Focus trapped within dialog when open\n- [ ] Escape key closes dialog\n- [ ] Overlay click closes dialog\n- [ ] Focus returns to trigger on close","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T23:12:31.571288+05:30","updated_at":"2025-12-19T01:25:40.883674+05:30","closed_at":"2025-12-19T01:25:40.883674+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-mlh0","depends_on_id":"mcp-agent-mail-rs-xxnq","type":"blocks","created_at":"2025-12-18T23:13:46.831361+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-mmmo","title":"Sprint4-4.4: Verify dark mode for all components","description":"Test all components in dark mode to ensure CSS variables work correctly.\n\n## Component Checklist\n- [ ] Card background uses --card variable\n- [ ] Text uses --foreground / --card-foreground\n- [ ] Borders use --border variable\n- [ ] Input backgrounds correct\n- [ ] Button variants visible\n- [ ] Badge variants visible\n- [ ] Alert variants visible\n- [ ] Focus rings visible against dark background\n- [ ] Skeleton pulse animation visible\n- [ ] Dialog overlay and content correct\n- [ ] Separator visible\n\n## Verification\n- No white flash on page load\n- Contrast ratios meet WCAG AA (4.5:1 for text)\n- All component variants distinguishable\n- Dark mode toggle works correctly\n\n## Deliverables\n- Dark mode screenshots for all pages\n- All semantic colors verified\n- No contrast issues","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T01:56:22.723432+05:30","updated_at":"2025-12-19T02:55:39.609449+05:30","closed_at":"2025-12-19T02:55:39.609449+05:30"}
{"id":"mcp-agent-mail-rs-mrb","title":"P2: Optimize WASM bundle (LTO, opt-level=z, brotli)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:39:52.005227+05:30","updated_at":"2025-12-15T19:00:42.649051+05:30","closed_at":"2025-12-15T19:00:42.649051+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-mrb","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:14.950645+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-mxd7","title":"Fix glob pattern matching in file_reservation_paths conflict detection","description":"## Problem\nThe `file_reservation_paths` MCP tool used exact string matching for conflict detection:\n```rust\nres.path_pattern == path  // 'src/**/*.rs' != 'src/main.rs'\n```\n\nThis meant reservations like `src/**/*.rs` would NOT conflict with `src/main.rs`.\n\n## Solution\n- Created `lib_core::utils::pathspec::paths_conflict()` function\n- Uses glob::Pattern matching (same as PrecommitGuard)\n- Handles bidirectional matching (pattern vs literal and vice versa)\n- Detects overlapping patterns via common prefix analysis\n\n## Files Changed\n- `lib-core/src/utils/pathspec.rs` (NEW) - Pathspec matching utility\n- `lib-core/src/utils.rs` - Added module export\n- `lib-mcp/src/tools.rs` - Fixed conflict detection\n\n## Testing\n- 8 unit tests for pathspec matching\n- All existing tests pass\n- Clippy clean","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-19T21:01:40.051818+05:30","updated_at":"2025-12-19T21:03:06.370094+05:30","closed_at":"2025-12-19T21:03:06.370094+05:30"}
{"id":"mcp-agent-mail-rs-mzj","title":"P0: Complete MCP STDIO mode with full tool parity","description":"mcp-stdio crate exists but needs full tool implementation matching HTTP API. Must support same 47 tool signatures. Required for direct Claude Desktop integration without HTTP proxy.","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-12T10:23:21.360544+05:30","updated_at":"2025-12-15T17:47:43.815561+05:30","closed_at":"2025-12-15T17:47:43.815561+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-mzj","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:23:21.361294+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-nc2","title":"P0: Implement ComposeMessage modal tests (C-001 to C-012)","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:33:27.10016+05:30","updated_at":"2025-12-15T18:44:26.758533+05:30","closed_at":"2025-12-15T18:44:26.758533+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-nc2","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:01.003711+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-nc2","depends_on_id":"mcp-agent-mail-rs-ah3","type":"blocks","created_at":"2025-12-11T23:34:24.102925+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ncfl","title":"P0: Add backend panic hook for production resilience","description":"## Summary\nAdd global panic hook to capture panics before process termination. Critical for production observability.\n\n## Implementation\n```rust\n// In main.rs or lib initialization\nuse std::panic;\n\npub fn init_panic_hook() {\n    let original_hook = panic::take_hook();\n    panic::set_hook(Box::new(move |panic_info| {\n        // Log to stderr for container logs\n        eprintln\\!(\"PANIC: {panic_info}\");\n        \n        // Capture location if available\n        if let Some(location) = panic_info.location() {\n            eprintln\\!(\"  at {}:{}:{}\", \n                location.file(), \n                location.line(), \n                location.column()\n            );\n        }\n        \n        // Optionally report to error tracking (Sentry)\n        #[cfg(feature = \"sentry\")]\n        sentry::capture_message(\n            \u0026format\\!(\"Panic: {panic_info}\"),\n            sentry::Level::Fatal,\n        );\n        \n        // Call original hook\n        original_hook(panic_info);\n    }));\n}\n```\n\n## Location\ncrates/services/mcp-agent-mail/src/main.rs (before tokio::main)\n\n## Acceptance Criteria\n- [ ] Panic hook installed before runtime starts\n- [ ] Panics logged with file:line:column\n- [ ] Optional Sentry integration behind feature flag\n- [ ] Doesn't interfere with normal error handling\n- [ ] Test with intentional panic in dev mode\n\n## Reference\nproduction-hardening-backend skill: Defense in Depth, Fault Tolerance","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-19T19:03:45.062064+05:30","updated_at":"2025-12-20T03:43:52.820659+05:30","closed_at":"2025-12-20T03:43:52.820659+05:30"}
{"id":"mcp-agent-mail-rs-njuc","title":"GAP: Ed25519 Signing for Exports","description":"## Problem\nPython export supports Ed25519 signing for manifest integrity verification. Rust export has no signing.\n\n## Python Features\n- `--signing-key` generates Ed25519 signature of manifest.json\n- `--signing-public-out` exports public key\n- `share verify` validates signatures\n\n## Implementation\n- Add ed25519-dalek crate\n- Add signing_key, signing_public_out fields to ExportBmc\n- Add signature field to manifest.json\n- Create share_verify CLI subcommand","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-18T17:59:30.479541+05:30","updated_at":"2025-12-20T04:30:10.243605+05:30","closed_at":"2025-12-20T04:30:10.243605+05:30"}
{"id":"mcp-agent-mail-rs-nkcp","title":"Create Card, CardHeader, CardTitle, CardContent, CardFooter components","description":"## Summary\nCreate Card compound components following shadcn pattern for composable card layouts.\n\n## Implementation Details\n\n### Create components/card.rs\n```rust\nuse leptos::*;\nuse tailwind_fuse::tw_merge;\n\nconst CARD_CLASS: \u0026str = \"rounded-lg border bg-card text-card-foreground shadow-sm\";\nconst HEADER_CLASS: \u0026str = \"flex flex-col space-y-1.5 p-6\";\nconst TITLE_CLASS: \u0026str = \"text-2xl font-semibold leading-none tracking-tight\";\nconst DESCRIPTION_CLASS: \u0026str = \"text-sm text-muted-foreground\";\nconst CONTENT_CLASS: \u0026str = \"p-6 pt-0\";\nconst FOOTER_CLASS: \u0026str = \"flex items-center p-6 pt-0\";\n\n#[component]\npub fn Card(\n    #[prop(optional, into)] class: MaybeProp\u003cString\u003e,\n    children: Children,\n) -\u003e impl IntoView {\n    view! {\n        \u003cdiv class=tw_merge!(CARD_CLASS, class.get())\u003e\n            {children()}\n        \u003c/div\u003e\n    }\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/card.rs (NEW)\n- crates/services/web-ui-leptos/src/components/mod.rs\n\n## Acceptance Criteria\n- [ ] Card, CardHeader, CardTitle, CardDescription, CardContent, CardFooter created\n- [ ] All components support class override via MaybeProp\n- [ ] Uses semantic bg-card and text-card-foreground colors\n- [ ] CardTitle uses h3 for proper heading hierarchy\n- [ ] All components exported from mod.rs\n- [ ] Dark mode compatible via CSS variables","notes":"Claimed by worker-nkcp","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T23:11:52.464582+05:30","updated_at":"2025-12-19T00:37:41.926747+05:30","closed_at":"2025-12-19T00:37:41.926747+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-nkcp","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:40.966672+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-nodv","title":"LEPTOS-007: Cursor-Based Pagination Component","description":"## Summary\nCreate reusable pagination component using cursor-based approach (not offset).\n\n## Implementation\nCreate: `components/pagination.rs`\n\n```rust\n#[component]\npub fn Pagination(\n    #[prop(into)] cursor: MaybeProp\u003cString\u003e,\n    #[prop(into)] has_more: Signal\u003cbool\u003e,\n    #[prop(into)] total: MaybeProp\u003ci64\u003e,\n    #[prop(into)] on_load_more: Callback\u003cString\u003e,\n) -\u003e impl IntoView\n```\n\n## Acceptance Criteria\n- [ ] Pagination component with cursor: Option\u003cString\u003e prop\n- [ ] \"Load More\" button (infinite scroll optional)\n- [ ] Shows count: \"Showing X of Y\"\n- [ ] Preserves URL state (?cursor=xxx)\n- [ ] Loading indicator during fetch\n- [ ] End-of-list detection\n- [ ] Button \u003e= 44x44px\n\n## Quality Gates\n- Works with MessageList, AttachmentGrid, ThreadList\n- No duplicate items on cursor change\n- aria-live=\"polite\" announces new items\n\n## Reference Skills\n- shadcn-ui: Button component\n- rust-skills: Generic component props","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T22:03:55.336352+05:30","updated_at":"2025-12-20T03:10:50.820612+05:30","closed_at":"2025-12-20T03:10:50.820612+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-nodv","depends_on_id":"mcp-agent-mail-rs-1d2q","type":"blocks","created_at":"2025-12-19T22:07:11.084341+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-nodv","depends_on_id":"mcp-agent-mail-rs-w7n3","type":"blocks","created_at":"2025-12-19T22:07:11.137494+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-nqn","title":"Phase 10: Port Web UI to Leptos (Rust/WASM)","description":"","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-12-11T23:39:27.878944+05:30","updated_at":"2025-12-15T18:44:27.801739+05:30","closed_at":"2025-12-15T18:44:27.801739+05:30"}
{"id":"mcp-agent-mail-rs-nv1b","title":"GAP: Config CLI Commands (set-port/show-port)","description":"## Problem\nPython has config CLI for port management. Rust uses env vars only.\n\n## Python Commands\n- `config set-port 8888` - Update HTTP binding port\n- `config show-port` - Display current port\n\n## Implementation\n- Add config subcommand with set-port/show-port\n- Store in ~/.mcp-agent-mail/config.toml\n- Load config file on server start","status":"open","priority":3,"issue_type":"task","created_at":"2025-12-18T18:00:11.150819+05:30","updated_at":"2025-12-18T18:00:11.150819+05:30"}
{"id":"mcp-agent-mail-rs-nzeq","title":"Layout: Split View Message Panel (Gmail-style)","description":"## Task\nImplement Gmail-style split view layout for unified inbox.\n\n## Design (from screenshots)\nDesktop (‚â•1024px):\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ [Filter Bar - full width]                                   ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ  Message List (35%)    ‚îÇ  Message Detail (65%)              ‚îÇ\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê‚îÇ\n‚îÇ  ‚îÇ ‚óã GreenHill      ‚îÇ  ‚îÇ  ‚îÇ Backend-Frontend Sync          ‚îÇ‚îÇ\n‚îÇ  ‚îÇ   Contact req... ‚îÇ  ‚îÇ  ‚îÇ                                ‚îÇ‚îÇ\n‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ  ‚îÇ FROM: OrangeLake    TO: Pink...‚îÇ‚îÇ\n‚îÇ  ‚îÇ ‚óè OrangeLake ‚Üê   ‚îÇ  ‚îÇ  ‚îÇ PROJECT: /data/projects/smart..‚îÇ‚îÇ\n‚îÇ  ‚îÇ   Backend-Front..‚îÇ  ‚îÇ  ‚îÇ SENT: Oct 26, 2025 at 11:37 PM ‚îÇ‚îÇ\n‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§  ‚îÇ  ‚îÇ                                ‚îÇ‚îÇ\n‚îÇ  ‚îÇ ‚óã PinkCastle     ‚îÇ  ‚îÇ  ‚îÇ [Copy Link] [Open in Project]  ‚îÇ‚îÇ\n‚îÇ  ‚îÇ   Re: Updated... ‚îÇ  ‚îÇ  ‚îÇ                                ‚îÇ‚îÇ\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ  ‚îÇ ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ  ‚îÇ‚îÇ\n‚îÇ                        ‚îÇ  ‚îÇ Hi PinkCastle,                 ‚îÇ‚îÇ\n‚îÇ                        ‚îÇ  ‚îÇ                                ‚îÇ‚îÇ\n‚îÇ                        ‚îÇ  ‚îÇ Thanks for partnering on the   ‚îÇ‚îÇ\n‚îÇ                        ‚îÇ  ‚îÇ harmonization work...          ‚îÇ‚îÇ\n‚îÇ                        ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\nMobile (\u003c 1024px):\n- Single column, message list only\n- Clicking opens message detail page (existing behavior)\n\nTablet (768-1023px):\n- Optional: 40/60 split or single column with slide-over\n\n## Implementation\n```rust\n#[component]\npub fn SplitViewLayout(\n    list_panel: Children,\n    detail_panel: Children,\n    #[prop(default = 35)] list_width_percent: u8,\n) -\u003e impl IntoView {\n    view! {\n        \u003cdiv class=\"hidden lg:grid lg:grid-cols-[35%_65%] h-[calc(100vh-12rem)]\"\u003e\n            \u003cdiv class=\"border-r border-cream-200 dark:border-charcoal-700 overflow-y-auto\"\u003e\n                {list_panel()}\n            \u003c/div\u003e\n            \u003cdiv class=\"overflow-y-auto\"\u003e\n                {detail_panel()}\n            \u003c/div\u003e\n        \u003c/div\u003e\n        // Mobile fallback\n        \u003cdiv class=\"lg:hidden\"\u003e\n            {list_panel()}\n        \u003c/div\u003e\n    }\n}\n```\n\n## State Management\n- Selected message ID stored in signal\n- Detail panel reacts to selection change\n- No page navigation on desktop\n\n## Files\n- `components/split_view.rs` (new)\n- `pages/unified_inbox.rs` (refactor to use split view)\n\n## Acceptance Criteria\n- [ ] Smooth transitions when selecting messages\n- [ ] Keyboard: up/down arrows navigate list, Enter opens\n- [ ] Selected item has visual indicator (left border)\n- [ ] Scrolling list doesn't affect detail panel\n- [ ] Detail panel shows \"Select a message\" when none selected","notes":"Claimed by worker-nzeq","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T06:08:25.859004+05:30","updated_at":"2025-12-18T18:36:54.912923+05:30","closed_at":"2025-12-18T18:36:54.912923+05:30"}
{"id":"mcp-agent-mail-rs-nzf","title":"PORT-3.1: Honor WORKTREES_ENABLED gate in pre-commit guard","description":"## Problem\nPre-commit guard should only run when WORKTREES_ENABLED or GIT_IDENTITY_ENABLED is set.\n\n## Implementation\n- Add should_check() method checking env vars\n- Early return from check_reservations() if not enabled\n- Support truthy values: 1, true, yes, t, y (case-insensitive)\n- Log skip reason for debugging\n\n## Files\n- crates/libs/lib-core/src/model/precommit_guard.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/guard.py\n- Commit 8fd0238: fix(guard): honor WORKTREES_ENABLED gate\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: WORKTREES_ENABLED, guard)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 3.1)\n\n## Acceptance Criteria\n- [ ] WORKTREES_ENABLED=0 causes early exit\n- [ ] GIT_IDENTITY_ENABLED as alternative gate\n- [ ] Truthy values recognized (case-insensitive)\n- [ ] Log message when skipping\n- [ ] Tests verify gate behavior\n\n## Complexity: 3/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:26:05.058104+05:30","updated_at":"2025-12-19T05:54:45.878699+05:30","closed_at":"2025-12-19T05:54:45.878699+05:30"}
{"id":"mcp-agent-mail-rs-o25","title":"PORT-4.1: Fix JWT identity extraction in rate limiting bucket key","description":"## Problem\nRate limit bucket key should include JWT subject for per-user limits.\n\n## Implementation\n- get_bucket_key() extracting JWT claims\n- Format: \"{sub}:{ip}\" when JWT present\n- Fallback to IP-only for unauthenticated\n\n## Files\n- crates/libs/lib-server/src/ratelimit.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/http.py\n- Commit 3498791: fix(http): correct variable scoping in rate limiting\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: rate limit, JWT, bucket)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 4.1)\n\n## NIST Control: SC-5 (DoS Protection)\n\n## Acceptance Criteria\n- [ ] Rate limit key includes JWT subject when present\n- [ ] Fallback to IP-only for unauthenticated\n- [ ] Tests verify per-user rate limiting with JWT\n\n## Complexity: 4/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:26:44.063398+05:30","updated_at":"2025-12-19T15:52:04.194644+05:30","closed_at":"2025-12-19T15:52:04.194644+05:30"}
{"id":"mcp-agent-mail-rs-oan","title":"P0: Implement core user flow tests (UF-001 to UF-004)","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:33:27.160308+05:30","updated_at":"2025-12-15T18:44:26.996283+05:30","closed_at":"2025-12-15T18:44:26.996283+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-oan","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:01.048336+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-oan","depends_on_id":"mcp-agent-mail-rs-ah3","type":"blocks","created_at":"2025-12-11T23:34:24.145891+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-oc7","title":"Enable precompression in svelte.config.js","description":"Set precompress: true in adapter-static config to generate gzip/brotli compressed assets for better load times.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T02:45:31.830097+05:30","updated_at":"2025-12-15T18:44:27.646908+05:30","closed_at":"2025-12-15T18:44:27.646908+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-oc7","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:31.830657+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ohu","title":"Add InstallPrecommitGuardParams and UninstallPrecommitGuardParams structs","description":"Add parameter structs with JsonSchema derive for MCP tool definitions in lib-mcp/src/tools.rs:\n- InstallPrecommitGuardParams { project_slug: String, git_repo_path: String }\n- UninstallPrecommitGuardParams { project_slug: String, git_repo_path: String }","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:06:13.001119+05:30","updated_at":"2025-12-17T19:27:26.284876+05:30","closed_at":"2025-12-17T19:27:26.284876+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ohu","depends_on_id":"mcp-agent-mail-rs-2ci","type":"blocks","created_at":"2025-12-16T20:06:13.001822+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-oij0","title":"P0 BUG: Pre-commit guard check_file_reservations is stub - returns Ok(None)","description":"## Problem\nThe pre-commit guard was marked complete (mcp-agent-mail-rs-577.9) but the core functionality is a STUB.\n\n## Evidence\n```rust\n// precommit_guard.rs line 346-351\n// TODO: Implement actual reservation checking against database\n// For now, pass through with no violations\nOk(None)\n\n// line 409-411 (shell script)\n# TODO: Call agent mail API to verify file reservations\nexit 0\n```\n\n## Impact\nPre-commit hooks install but don't check file reservations - agents can commit reserved files.\n\n## Fix Required\nImplement Rust-native reservation checking in check_file_reservations():\n1. Query FileReservationBmc for active reservations\n2. Check if any staged files conflict with reservations held by other agents\n3. Return violations if conflicts found\n4. Respect advisory/enforce mode\n\n## Files\n- crates/libs/lib-core/src/model/precommit_guard.rs\n\n## Acceptance Criteria\n- [ ] check_file_reservations() queries database for active reservations\n- [ ] Returns violations when agent commits file reserved by another\n- [ ] Advisory mode logs warning but allows commit\n- [ ] Enforce mode blocks commit with conflict details\n- [ ] Integration test verifies conflict detection","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-19T17:37:09.532686+05:30","updated_at":"2025-12-19T17:47:59.068581+05:30","closed_at":"2025-12-19T17:47:59.068581+05:30"}
{"id":"mcp-agent-mail-rs-okgk","title":"ORCH-3: Add get_review_state MCP tool","description":"## Summary\nNew MCP tool to check review state of a task thread.\n\n## Tool Signature\n```rust\n#[tool(description = \"Get the current review state of a task thread\")]\nasync fn get_review_state(\n    project_slug: String,\n    thread_id: String,  // e.g., TASK-abc123\n) -\u003e Result\u003cReviewStateResponse\u003e\n\npub struct ReviewStateResponse {\n    pub thread_id: String,\n    pub state: String,  // e.g., \"COMPLETED\", \"APPROVED\"\n    pub is_reviewed: bool,\n    pub reviewer: Option\u003cString\u003e,\n    pub last_update: DateTime\u003cUtc\u003e,\n}\n```\n\n## Acceptance Criteria\n- [ ] get_review_state tool registered in MCP\n- [ ] Returns current state from thread parsing\n- [ ] is_reviewed true for APPROVED/FIXED states\n- [ ] Includes reviewer name if claimed","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:33:29.669098+05:30","updated_at":"2025-12-20T00:50:51.967863+05:30","closed_at":"2025-12-20T00:50:51.967863+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-okgk","depends_on_id":"mcp-agent-mail-rs-r3a9","type":"blocks","created_at":"2025-12-19T18:36:25.176085+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-olf5","title":"Component: Agent Avatar with Color Generation","description":"## Task\nCreate reusable AgentAvatar component matching Python reference design.\n\n## Design (from screenshots)\n- Circular avatar with colored background\n- Background color derived from agent name hash\n- White/cream initials (first 1-2 chars of name)\n- Sizes: sm (32px), md (40px), lg (48px)\n- Subtle shadow on hover\n\n## Color Palette (from Python UI)\nColors rotate based on name hash:\n- Indigo: #6366f1 (GreenHill)\n- Orange: #f97316 (OrangeLake)  \n- Pink: #ec4899 (PinkCastle)\n- Teal: #14b8a6\n- Purple: #8b5cf6\n- Amber: #f59e0b\n\n## Implementation\n```rust\n#[component]\npub fn AgentAvatar(\n    #[prop(into)] name: String,\n    #[prop(default = \"md\")] size: \u0026'static str,\n) -\u003e impl IntoView {\n    let initials = get_initials(\u0026name);\n    let bg_color = hash_to_color(\u0026name);\n    let size_class = match size {\n        \"sm\" =\u003e \"w-8 h-8 text-xs\",\n        \"lg\" =\u003e \"w-12 h-12 text-base\",\n        _ =\u003e \"w-10 h-10 text-sm\",\n    };\n    \n    view! {\n        \u003cdiv \n            class={format!(\"{} rounded-full flex items-center justify-center font-medium text-white\", size_class)}\n            style={format!(\"background-color: {}\", bg_color)}\n        \u003e\n            {initials}\n        \u003c/div\u003e\n    }\n}\n```\n\n## Files\n- `components/avatar.rs` (new)\n- `components/mod.rs` (add export)\n\n## Acceptance Criteria\n- [ ] Consistent colors for same agent name\n- [ ] Accessible (aria-label with full name)\n- [ ] Works in dark mode (text remains readable)","notes":"Claimed by worker-olf5","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T06:07:20.145639+05:30","updated_at":"2025-12-18T15:29:42.808638+05:30","closed_at":"2025-12-18T15:29:42.808638+05:30"}
{"id":"mcp-agent-mail-rs-p5d","title":"P1: Add test for CC/BCC message recipients (79665f2)","description":"CC/BCC support (79665f2) adds cc_ids/bcc_ids to messages but no test. Add test_cc_bcc_recipients() to verify: 1) CC recipients appear in message_recipients with kind='cc', 2) BCC recipients appear with kind='bcc', 3) BCC not visible to other recipients.","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-12T17:59:02.406686+05:30","updated_at":"2025-12-15T19:59:16.570161+05:30","closed_at":"2025-12-15T19:59:16.570161+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-p5d","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T17:59:02.407255+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-pa5","title":"P2: Setup visual regression testing with screenshot baselines","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:33:47.454781+05:30","updated_at":"2025-12-15T18:44:40.033134+05:30","closed_at":"2025-12-15T18:44:40.033134+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-pa5","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:13.360917+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-pai2","title":"PORT-1.3-INT: Wire mistake_detection.rs into error responses","description":"## Context\nScaffolding exists in lib-core/src/utils/mistake_detection.rs with:\n- MistakeSuggestion struct\n- detect_path_as_project_key(), detect_path_as_agent_name()\n- detect_id_confusion(), suggest_similar()\n- All with unit tests\n\n## Remaining Work\nWire detection functions into error handling:\n1. lib-core/error.rs - Add suggestion field to relevant error variants\n2. BMC modules - Call detection functions when entity not found\n3. API error responses - Include suggestions in JSON error response\n\n## Acceptance Criteria\n- [ ] AgentNotFound error includes similar agent suggestions\n- [ ] ProjectNotFound error includes similar project suggestions\n- [ ] Invalid path errors detect relative vs absolute confusion\n- [ ] Error JSON includes 'suggestions' array when available\n- [ ] Integration tests verify suggestions appear\n\n## Files to Modify\n- crates/libs/lib-core/src/error.rs\n- crates/libs/lib-core/src/model/agent.rs (AgentBmc::get)\n- crates/libs/lib-core/src/model/project.rs (ProjectBmc::get)\n- crates/libs/lib-server/src/error.rs (API error response)\n\n## Complexity: 4/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T05:15:59.756711+05:30","updated_at":"2025-12-19T21:19:44.436317+05:30","closed_at":"2025-12-19T21:19:44.436317+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-pai2","depends_on_id":"mcp-agent-mail-rs-5yg","type":"blocks","created_at":"2025-12-19T05:15:59.757588+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-pi4","title":"P2: Implement /api/metrics/tools endpoint","description":"Add /api/metrics/tools endpoint returning tool invocation counts, latencies, error rates. Python parity feature for monitoring tool usage patterns.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:55:14.927742+05:30","updated_at":"2025-12-12T19:19:12.613085+05:30","closed_at":"2025-12-12T19:19:12.613085+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-pi4","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:55:14.928653+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-pjm","title":"P1: Implement error boundaries and fallbacks","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:39:46.135098+05:30","updated_at":"2025-12-15T18:44:54.037518+05:30","closed_at":"2025-12-15T18:44:54.037518+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-pjm","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:14.863195+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-pkpr","title":"Component: Project Cards with Status Badges","description":"## Task\nEnhance project cards to match Python reference design with status badges.\n\n## Design (from screenshots)\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Your Projects                       ‚îÇ\n‚îÇ  2 projects in total                 ‚îÇ\n‚îÇ                                      ‚îÇ\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  ‚îÇ üìÅ            ‚îÇ ‚îÇ üìÅ            ‚îÇ\n‚îÇ  ‚îÇ /data/proj... ‚îÇ ‚îÇ /data/proj... ‚îÇ\n‚îÇ  ‚îÇ üü¢ Active     ‚îÇ ‚îÇ üü¢ Active     ‚îÇ\n‚îÇ  ‚îÇ               ‚îÇ ‚îÇ               ‚îÇ\n‚îÇ  ‚îÇ üìä data-proj..‚îÇ ‚îÇ üìä data-proj..‚îÇ\n‚îÇ  ‚îÇ üìÖ 2025-10-26 ‚îÇ ‚îÇ üìÖ 2025-10-26 ‚îÇ\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n## Card Components\n1. **Icon** - Folder icon with amber background\n2. **Path** - Truncated project path/slug\n3. **Status Badge** - Active (green), Inactive (gray)\n4. **Stats Row** - Agent count, message count\n5. **Timestamp** - Created/last active date\n\n## Status Logic\n- Active: Has messages in last 24h OR has active agents\n- Inactive: No recent activity\n\n## Implementation\n```rust\n#[component]\npub fn ProjectCard(\n    #[prop(into)] project: Project,\n    #[prop(default = 0)] agent_count: usize,\n    #[prop(default = 0)] message_count: usize,\n) -\u003e impl IntoView {\n    let is_active = is_project_active(\u0026project);\n    \n    view! {\n        \u003ca \n            href={format!(\"/projects/{}\", project.slug)}\n            class=\"card-elevated p-5 hover:shadow-lg group block\"\n        \u003e\n            // Icon\n            \u003cdiv class=\"w-12 h-12 rounded-xl bg-amber-100 dark:bg-amber-900/30 flex items-center justify-center mb-4 group-hover:scale-105 transition-transform\"\u003e\n                \u003ci data-lucide=\"folder-open\" class=\"icon-xl text-amber-600\" /\u003e\n            \u003c/div\u003e\n            \n            // Path\n            \u003ch3 class=\"font-medium text-charcoal-800 dark:text-cream-100 truncate mb-2 group-hover:text-amber-600\"\u003e\n                {project.slug}\n            \u003c/h3\u003e\n            \n            // Status\n            \u003cdiv class=\"flex items-center gap-2 mb-4\"\u003e\n                \u003cspan class={format!(\"badge {}\", if is_active { \"badge-teal\" } else { \"bg-charcoal-100 text-charcoal-500\" })}\u003e\n                    {if is_active { \"Active\" } else { \"Inactive\" }}\n                \u003c/span\u003e\n            \u003c/div\u003e\n            \n            // Stats\n            \u003cdiv class=\"flex items-center gap-4 text-sm text-charcoal-500\"\u003e\n                \u003cspan class=\"flex items-center gap-1\"\u003e\n                    \u003ci data-lucide=\"bot\" class=\"icon-xs\" /\u003e\n                    {agent_count}\n                \u003c/span\u003e\n                \u003cspan class=\"flex items-center gap-1\"\u003e\n                    \u003ci data-lucide=\"mail\" class=\"icon-xs\" /\u003e\n                    {message_count}\n                \u003c/span\u003e\n                \u003cspan class=\"flex items-center gap-1\"\u003e\n                    \u003ci data-lucide=\"calendar\" class=\"icon-xs\" /\u003e\n                    {format_date(\u0026project.created_at)}\n                \u003c/span\u003e\n            \u003c/div\u003e\n        \u003c/a\u003e\n    }\n}\n```\n\n## Files\n- `components/project_card.rs` (new)\n- `pages/projects.rs` (use new component)\n- `pages/unified_inbox.rs` (add projects section at bottom)\n\n## Acceptance Criteria\n- [ ] Cards are responsive (grid adjusts to screen size)\n- [ ] Status badge reflects actual activity\n- [ ] Hover state with subtle scale animation\n- [ ] Click navigates to project detail","notes":"Claimed by worker-pkpr","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T06:10:15.583767+05:30","updated_at":"2025-12-18T19:51:57.753816+05:30","closed_at":"2025-12-18T19:51:57.753816+05:30"}
{"id":"mcp-agent-mail-rs-po1x","title":"Report pmat CHANGELOG.md detection bug","description":"pmat rust-project-score does not detect existing CHANGELOG.md file. Recommends 'Add CHANGELOG.md' despite file existing at project root in Keep a Changelog format. Documentation category gets 7/15 points (should be 10/15 with changelog). Low priority - external tool bug.","notes":"Verified: CHANGELOG.md format matches Keep a Changelog 1.1.0 exactly. Compared against pmcp SDK changelog (1.0.0 format). Both have identical structure - header, SemVer reference, version sections. This is a confirmed pmat detection bug, not a format issue.","status":"open","priority":4,"issue_type":"bug","created_at":"2025-12-18T03:52:16.661174+05:30","updated_at":"2025-12-18T03:54:46.237994+05:30"}
{"id":"mcp-agent-mail-rs-popq","title":"Sprint4-4.3: Verify responsive design at breakpoints","description":"Test all pages at mobile/tablet/desktop breakpoints to verify responsive layouts.\n\n## Breakpoints\n- Mobile: 375px\n- Tablet: 768px\n- Desktop: 1440px\n\n## Checklist per Breakpoint\n### Mobile (375px)\n- No horizontal scrolling\n- Navigation collapses appropriately\n- Text readable without zooming\n- Touch targets ‚â• 44√ó44px\n- Forms usable on small screen\n\n### Tablet (768px)\n- Layout adapts (no mobile layout on tablet)\n- SplitView shows single column or adapts\n- Navigation works (hamburger or full)\n- Cards don't overflow\n\n### Desktop (1440px)\n- Full multi-column layout visible\n- SplitView shows both panels\n- Hover states work\n- No elements too small\n\n## Deliverables\n- Screenshots at each breakpoint\n- No horizontal scrolling confirmed\n- All layouts adapt correctly","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T01:56:02.661734+05:30","updated_at":"2025-12-19T02:53:52.06192+05:30","closed_at":"2025-12-19T02:53:52.06192+05:30"}
{"id":"mcp-agent-mail-rs-ppp4","title":"ORCH-8: Add OrchestrationBmc for crash recovery","description":"## Summary\nBMC for tracking orchestration state and recovering from crashes.\n\n## Implementation\n```rust\npub struct OrchestrationBmc;\n\nimpl OrchestrationBmc {\n    /// Find tasks that were in_progress but worker disappeared\n    pub async fn find_abandoned_tasks(\n        ctx: \u0026Ctx,\n        mm: \u0026ModelManager,\n        project_id: i64,\n        stale_threshold: Duration,\n    ) -\u003e Result\u003cVec\u003cAbandonedTask\u003e\u003e;\n    \n    /// Find reviews that were claimed but reviewer disappeared\n    pub async fn find_abandoned_reviews(\n        ctx: \u0026Ctx,\n        mm: \u0026ModelManager,\n        project_id: i64,\n        stale_threshold: Duration,\n    ) -\u003e Result\u003cVec\u003cAbandonedReview\u003e\u003e;\n    \n    /// Check for merge conflicts in worktrees\n    pub async fn check_worktree_conflicts(\n        base_path: \u0026Path,\n    ) -\u003e Result\u003cVec\u003cConflictInfo\u003e\u003e;\n}\n```\n\n## Acceptance Criteria\n- [ ] Detects abandoned tasks (no activity \u003e threshold)\n- [ ] Detects abandoned reviews (REVIEWING but no result)\n- [ ] Reports merge conflicts in active worktrees\n- [ ] Allows recovery by reassignment","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:35:41.254659+05:30","updated_at":"2025-12-20T00:50:52.255751+05:30","closed_at":"2025-12-20T00:50:52.255751+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ppp4","depends_on_id":"mcp-agent-mail-rs-r3a9","type":"blocks","created_at":"2025-12-19T18:36:25.291523+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-pq0w","title":"GAP: Web UI Human Overseer Composer","description":"## Problem\nPython web UI allows sending overseer messages from browser. Rust UI has no compose feature.\n\n## Python Features\n- Operator message composer in web UI\n- Recipient checkboxes with Select All / Clear\n- Automatic 'MESSAGE FROM HUMAN OVERSEER' preamble\n- Policy bypass for human messages\n\n## Implementation\n- Add compose dialog component to web-ui-leptos\n- POST to send_overseer_message API\n- Add to dashboard or toolbar","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-18T18:00:25.015203+05:30","updated_at":"2025-12-20T00:37:28.335544+05:30","closed_at":"2025-12-20T00:37:28.335544+05:30"}
{"id":"mcp-agent-mail-rs-pts","title":"P2: Add Makefile targets for E2E test modes","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:33:47.751529+05:30","updated_at":"2025-12-15T18:44:27.419155+05:30","closed_at":"2025-12-15T18:44:27.419155+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-pts","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:13.535477+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-pvvc","title":"Epic: Production Hardening - Rust Native Excellence","description":"## Overview\n\nComprehensive production hardening implementation based on PMAT analysis (104/134 = 77.6%) and production-hardening-backend/frontend skills audit.\n\n## Current State (pmat rust-project-score)\n- **Score**: 104/134 (77.6%) - Grade A+\n- **Gaps Identified**:\n  - Code Quality: 76.9% (20/26)\n  - Testing Excellence: 12.5% (2.5/20)\n  - Documentation: 46.7% (7/15)\n  - Performance \u0026 Benchmarking: 0% (0/10)\n\n## Security Audit Findings\n- ‚úÖ Rate Limiting: Implemented (governor crate)\n- ‚úÖ Graceful Shutdown: Implemented\n- ‚úÖ Health Checks: Multiple endpoints\n- ‚ö†Ô∏è HSTS: Missing\n- ‚ö†Ô∏è Referrer-Policy: Missing\n- ‚ö†Ô∏è Permissions-Policy: Missing\n- ‚ö†Ô∏è Backend Panic Hook: Missing\n\n## Target Score\n- **pmat rust-project-score**: ‚â•130/134 (97%)\n- **TDG Average**: ‚â•97/100\n\n## Phases\n1. **Security Headers** (P0): HSTS, Referrer-Policy, Permissions-Policy\n2. **Error Resilience** (P0): Backend panic hook with Sentry\n3. **Testing Excellence** (P1): Coverage gate, mutation testing\n4. **Documentation** (P1): Rustdoc, CHANGELOG\n5. **Performance** (P2): Criterion benchmarks\n\n## Quality Gates\n- cargo check \u0026\u0026 cargo fmt --check \u0026\u0026 cargo clippy -- -D warnings\n- pmat analyze tdg --fail-on-violation\n- cargo test --all-features\n\n## Reference Skills\n- production-hardening-backend\n- rust-skills\n- paiml-mcp-toolkit","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-19T18:55:34.832961+05:30","updated_at":"2025-12-19T19:00:19.952349+05:30","closed_at":"2025-12-19T19:00:19.952349+05:30"}
{"id":"mcp-agent-mail-rs-pw4","title":"Phase 5: Production Hardening","description":"JWT/bearer token authentication. Rate limiting. Structured logging with tracing. Prometheus metrics. Docker multi-stage build. CI/CD pipeline. Load testing.","status":"closed","priority":3,"issue_type":"epic","created_at":"2025-12-09T01:40:02.951173+05:30","updated_at":"2025-12-09T05:40:39.395188+05:30","closed_at":"2025-12-09T05:40:39.395188+05:30"}
{"id":"mcp-agent-mail-rs-pw4.1","title":"Add tracing crate with structured logging","description":"Add tracing and tracing-subscriber for structured logging with JSON output for production","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T05:36:50.243038+05:30","updated_at":"2025-12-09T05:39:15.908829+05:30","closed_at":"2025-12-09T05:39:15.908829+05:30","labels":["logging"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-pw4.1","depends_on_id":"mcp-agent-mail-rs-pw4","type":"parent-child","created_at":"2025-12-09T05:36:50.243464+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-pw4.2","title":"Add Prometheus metrics endpoint","description":"Add metrics-exporter-prometheus for /metrics endpoint","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T05:36:50.433444+05:30","updated_at":"2025-12-09T05:39:16.070681+05:30","closed_at":"2025-12-09T05:39:16.070681+05:30","labels":["metrics"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-pw4.2","depends_on_id":"mcp-agent-mail-rs-pw4","type":"parent-child","created_at":"2025-12-09T05:36:50.433834+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-pw4.3","title":"Create multi-stage Dockerfile","description":"Optimized Dockerfile with cargo-chef, musl, distroless","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T05:36:50.623866+05:30","updated_at":"2025-12-09T05:39:16.235667+05:30","closed_at":"2025-12-09T05:39:16.235667+05:30","labels":["docker"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-pw4.3","depends_on_id":"mcp-agent-mail-rs-pw4","type":"parent-child","created_at":"2025-12-09T05:36:50.624236+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-pw4.4","title":"Add health and readiness probes","description":"Add /health and /ready endpoints for Kubernetes","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T05:36:50.816254+05:30","updated_at":"2025-12-09T05:39:16.3973+05:30","closed_at":"2025-12-09T05:39:16.3973+05:30","labels":["health"],"dependencies":[{"issue_id":"mcp-agent-mail-rs-pw4.4","depends_on_id":"mcp-agent-mail-rs-pw4","type":"parent-child","created_at":"2025-12-09T05:36:50.816605+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-q434","title":"ORCH-2: Add CompletionReport struct and generator","description":"## Summary\nStandardized completion report format for [COMPLETION] mails.\n\n## Implementation\n```rust\npub struct CompletionReport {\n    pub task_id: String,\n    pub task_title: String,\n    pub commit_id: String,\n    pub branch: String,\n    pub files_changed: Vec\u003cString\u003e,\n    pub summary: String,\n    pub criteria_status: Vec\u003c(String, bool)\u003e,\n    pub quality_gates: QualityGateResults,\n    pub notes: Option\u003cString\u003e,\n}\n\nimpl CompletionReport {\n    pub fn to_markdown(\u0026self) -\u003e String { ... }\n    pub fn from_git_and_beads(task_id: \u0026str) -\u003e Result\u003cSelf\u003e { ... }\n}\n```\n\n## Acceptance Criteria\n- [ ] CompletionReport struct with all required fields\n- [ ] to_markdown() generates AGENTS.md format\n- [ ] from_git_and_beads() auto-populates from git diff and beads\n- [ ] QualityGateResults struct for gate status","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:33:10.549908+05:30","updated_at":"2025-12-20T00:53:18.8712+05:30","closed_at":"2025-12-20T00:53:18.8712+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-q434","depends_on_id":"mcp-agent-mail-rs-r3a9","type":"blocks","created_at":"2025-12-19T18:36:25.113246+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-q4u","title":"P1: Add JWT/JWKS authentication support","description":"Extend bearer token auth with JWT/JWKS: HTTP_AUTH_MODE=jwt, HTTP_JWKS_URL for key discovery. Validate JWT claims, check expiry, verify signature. Builds on bearer token middleware (577.11).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:54:34.426196+05:30","updated_at":"2025-12-15T19:59:16.791825+05:30","closed_at":"2025-12-15T19:59:16.791825+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-q4u","depends_on_id":"mcp-agent-mail-rs-577.11","type":"blocks","created_at":"2025-12-12T10:54:34.426947+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-qeuf","title":"Verify responsive design at mobile/tablet/desktop breakpoints","description":"## Summary\nTest all pages at 375px, 768px, and 1440px to verify responsive layouts.\n\n## Implementation Details\n\n### Test Checklist per Breakpoint\n\n**Mobile (375px)**\n- No horizontal scrolling\n- Navigation collapses appropriately\n- Text readable without zooming\n- Touch targets ‚â• 44√ó44px\n- Forms usable on small screen\n\n**Tablet (768px)**\n- Layout adapts (no mobile layout on tablet)\n- SplitView shows single column or adapts\n- Navigation works (hamburger or full)\n- Cards don't overflow\n\n**Desktop (1440px)**\n- Full multi-column layout visible\n- SplitView shows both panels\n- Hover states work\n- No elements too small\n\n## Acceptance Criteria\n- [ ] No horizontal scrolling at any breakpoint\n- [ ] All text readable at all sizes\n- [ ] Navigation works at all sizes\n- [ ] SplitView adapts correctly\n- [ ] Screenshots captured for documentation","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-18T23:13:04.112709+05:30","updated_at":"2025-12-19T01:58:08.748652+05:30","closed_at":"2025-12-19T01:58:08.748652+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-qeuf","depends_on_id":"mcp-agent-mail-rs-ytr6","type":"blocks","created_at":"2025-12-18T23:13:51.193224+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-qjv","title":"P2: Enable stricter clippy lints (unwrap_used, expect_used)","description":"Per PMAT recommendation, enable additional clippy lints to catch unwrap usage at compile time. Add to Cargo.toml: [lints.clippy] unwrap_used = 'deny', expect_used = 'warn'. This prevents future unwrap additions and flags existing expect() calls for review. Run: cargo clippy -- -D clippy::unwrap_used to find all violations. Fix or annotate with #[allow] and justification comment.","notes":"Implementing stricter clippy lints","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T20:52:50.029506+05:30","updated_at":"2025-12-17T23:47:05.851289+05:30","closed_at":"2025-12-17T23:47:05.851289+05:30"}
{"id":"mcp-agent-mail-rs-qkpm","title":"Page: File Reservations with Data Table","description":"## Task\nCreate new File Reservations page matching Python reference design.\n\n## Design (from screenshots)\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Projects \u003e /data/projects/smartedgar_mcp \u003e File Reservations    ‚îÇ\n‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§\n‚îÇ                                                                 ‚îÇ\n‚îÇ  üõ°Ô∏è File Reservations                                          ‚îÇ\n‚îÇ  When agents want to edit files, they can \"reserve\" them to    ‚îÇ\n‚îÇ  signal their intent to other agents.                          ‚îÇ\n‚îÇ                                                                 ‚îÇ\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ\n‚îÇ  ‚îÇ ‚ÑπÔ∏è Advisory system: Reservations are signals, not hard    ‚îÇ ‚îÇ\n‚îÇ  ‚îÇ locks. Agents can still edit files, but they'll see       ‚îÇ ‚îÇ\n‚îÇ  ‚îÇ warnings if conflicts exist.                              ‚îÇ ‚îÇ\n‚îÇ  ‚îÇ Install a pre-commit hook to enforce reservations at      ‚îÇ ‚îÇ\n‚îÇ  ‚îÇ commit time.                                              ‚îÇ ‚îÇ\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ\n‚îÇ                                                                 ‚îÇ\n‚îÇ  4 active reservations                                          ‚îÇ\n‚îÇ                                                                 ‚îÇ\n‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ\n‚îÇ  ‚îÇ ID ‚îÇ AGENT      ‚îÇ PATH PATTERN         ‚îÇ TYPE    ‚îÇ CREATED‚îÇ ‚îÇ\n‚îÇ  ‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§ ‚îÇ\n‚îÇ  ‚îÇ #4 ‚îÇ üü¢GreenHill‚îÇ src/.../routers/*.py ‚îÇ üîíExcl. ‚îÇ Oct 26 ‚îÇ ‚îÇ\n‚îÇ  ‚îÇ #3 ‚îÇ üü¢GreenHill‚îÇ src/.../schemas.py   ‚îÇ üîíExcl. ‚îÇ Oct 26 ‚îÇ ‚îÇ\n‚îÇ  ‚îÇ #2 ‚îÇ üü¢GreenHill‚îÇ src/.../portfolios.py‚îÇ üîíExcl. ‚îÇ Oct 26 ‚îÇ ‚îÇ\n‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n## Components Needed\n1. **Breadcrumb Navigation** - Reusable component\n2. **Info Banner** - Advisory explanation with link\n3. **Data Table** - Columns: ID, Agent (avatar+name), Path Pattern (mono), Type, Created, Expires\n\n## API Endpoint\n`POST /api/file_reservations/list` with `{ project_slug: string }`\n\n## Implementation\n```rust\n#[component]\npub fn FileReservationsPage() -\u003e impl IntoView {\n    let params = use_params_map();\n    let project_slug = params.with_untracked(|p| p.get(\"slug\").unwrap_or_default());\n    \n    // Fetch reservations\n    let reservations = create_resource(\n        move || project_slug.clone(),\n        |slug| async move { client::get_file_reservations(\u0026slug).await }\n    );\n    \n    view! {\n        \u003cdiv class=\"space-y-6\"\u003e\n            \u003cBreadcrumb items=vec![\n                (\"Projects\", \"/projects\"),\n                (\u0026project_slug, \u0026format!(\"/projects/{}\", project_slug)),\n                (\"File Reservations\", \"\"),\n            ] /\u003e\n            \n            \u003cPageHeader \n                icon=\"shield\"\n                title=\"File Reservations\"\n                description=\"When agents want to edit files, they can 'reserve' them to signal their intent to other agents.\"\n            /\u003e\n            \n            \u003cInfoBanner variant=\"info\"\u003e\n                \u003cstrong\u003e\"Advisory system:\"\u003c/strong\u003e\n                \" Reservations are \"\n                \u003cem\u003e\"signals\"\u003c/em\u003e\n                \", not hard locks. Agents can still edit files, but they'll see warnings if conflicts exist.\"\n                \u003cbr /\u003e\n                \"Install a \"\n                \u003ca href=\"#\" class=\"text-amber-600 underline\"\u003e\"pre-commit hook\"\u003c/a\u003e\n                \" to enforce reservations at commit time.\"\n            \u003c/InfoBanner\u003e\n            \n            \u003cp class=\"text-sm text-charcoal-500\"\u003e\n                {move || reservations.get().map(|r| format!(\"{} active reservations\", r.len()))}\n            \u003c/p\u003e\n            \n            \u003cDataTable ... /\u003e\n        \u003c/div\u003e\n    }\n}\n```\n\n## Files\n- `pages/file_reservations.rs` (new)\n- `components/breadcrumb.rs` (new)\n- `components/info_banner.rs` (new)\n- `components/data_table.rs` (new)\n- `app.rs` (add route)\n\n## Acceptance Criteria\n- [ ] Route: /projects/{slug}/file-reservations\n- [ ] Breadcrumb navigates correctly\n- [ ] Table sortable by columns\n- [ ] Expired reservations shown with strikethrough\n- [ ] Agent avatars with consistent colors\n- [ ] Mobile: horizontal scroll for table","notes":"Claimed by worker-qkpm","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T06:09:54.084065+05:30","updated_at":"2025-12-18T19:36:45.316909+05:30","closed_at":"2025-12-18T19:36:45.316909+05:30"}
{"id":"mcp-agent-mail-rs-qox","title":"Add skip link for keyboard accessibility","description":"Add skip-to-content link in +layout.svelte for keyboard users to bypass navigation. Uses sr-only class with focus:not-sr-only pattern.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T02:45:32.040488+05:30","updated_at":"2025-12-15T18:44:40.073502+05:30","closed_at":"2025-12-15T18:44:40.073502+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-qox","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:32.040971+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-qqjw","title":"ORCH-7: Add claim_review MCP tool for atomic review claiming","description":"## Summary\nMCP tool that atomically claims a review to prevent duplicate reviews.\n\n## Tool Signature\n```rust\n#[tool(description = \"Claim a pending review (sends [REVIEWING] message)\")]\nasync fn claim_review(\n    project_slug: String,\n    message_id: i64,  // The [COMPLETION] message to review\n    reviewer_name: String,\n) -\u003e Result\u003cClaimResult\u003e\n\npub struct ClaimResult {\n    pub success: bool,\n    pub thread_id: String,\n    pub claimed_by: Option\u003cString\u003e,  // If already claimed\n}\n```\n\n## Logic\n1. Get thread for message\n2. Check if already claimed ([REVIEWING] exists)\n3. If not claimed, send [REVIEWING] reply\n4. Return success/failure with claimer info\n\n## Acceptance Criteria\n- [ ] Atomic claim prevents race conditions\n- [ ] Returns claimed_by if already taken\n- [ ] Sends [REVIEWING] message on success","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:35:24.954576+05:30","updated_at":"2025-12-20T00:50:52.208279+05:30","closed_at":"2025-12-20T00:50:52.208279+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-qqjw","depends_on_id":"mcp-agent-mail-rs-r3a9","type":"blocks","created_at":"2025-12-19T18:36:25.234792+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-qug","title":"P0: Create web-ui-leptos crate scaffold with Trunk","description":"","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-11T23:39:34.072032+05:30","updated_at":"2025-12-12T00:13:22.889596+05:30","closed_at":"2025-12-12T00:13:22.889596+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-qug","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:04.072724+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-r3a9","title":"ORCH-1: Add OrchestrationState enum and thread state parser","description":"## Summary\nImplement state machine parsing for review threads based on subject prefixes.\n\n## Implementation\nAdd to lib-core/src/model/orchestration.rs:\n\n```rust\npub enum OrchestrationState {\n    Started,      // [TASK_STARTED]\n    Completed,    // [COMPLETION]\n    Reviewing,    // [REVIEWING]\n    Approved,     // [APPROVED]\n    Rejected,     // [REJECTED]\n    Fixed,        // [FIXED]\n    Acknowledged, // [ACK]\n}\n\nimpl OrchestrationState {\n    pub fn from_subject(subject: \u0026str) -\u003e Option\u003cSelf\u003e { ... }\n    pub fn can_transition_to(\u0026self, next: \u0026Self) -\u003e bool { ... }\n}\n\npub fn parse_thread_state(messages: \u0026[Message]) -\u003e OrchestrationState { ... }\n```\n\n## Acceptance Criteria\n- [ ] OrchestrationState enum with 7 states\n- [ ] from_subject parser for [PREFIX] patterns\n- [ ] can_transition_to validation per state machine\n- [ ] parse_thread_state returns current state from thread history\n- [ ] Unit tests for all transitions","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T18:32:50.655575+05:30","updated_at":"2025-12-20T00:53:18.869651+05:30","closed_at":"2025-12-20T00:53:18.869651+05:30"}
{"id":"mcp-agent-mail-rs-rbz","title":"P0: Add cargo fmt to pre-commit hook - CI failing on format","description":"CI is failing multiple times on cargo fmt --check. Add cargo fmt to pre-commit hook to catch formatting issues before commit. This prevents wasted CI cycles and ensures consistent code style. Implementation: 1) Create/update .git/hooks/pre-commit, 2) Add cargo fmt --check step, 3) Optionally add to Makefile for manual runs.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-17T21:14:47.530058+05:30","updated_at":"2025-12-17T21:21:12.059408+05:30","closed_at":"2025-12-17T21:21:12.059408+05:30"}
{"id":"mcp-agent-mail-rs-rdc","title":"Phase 7: Test Coverage Expansion","description":"","status":"closed","priority":2,"issue_type":"epic","created_at":"2025-12-09T16:19:46.759693+05:30","updated_at":"2025-12-09T16:47:20.673849+05:30","closed_at":"2025-12-09T16:47:20.673849+05:30"}
{"id":"mcp-agent-mail-rs-rdc.1","title":"Add search/FTS integration tests","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-09T16:20:14.14546+05:30","updated_at":"2025-12-09T16:34:57.239597+05:30","closed_at":"2025-12-09T16:34:57.239597+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-rdc.1","depends_on_id":"mcp-agent-mail-rs-rdc","type":"parent-child","created_at":"2025-12-09T16:20:14.147854+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-rdc.2","title":"Add contact policy tests (open, auto, contacts_only, block_all)","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:20:15.345797+05:30","updated_at":"2025-12-09T16:41:13.264084+05:30","closed_at":"2025-12-09T16:41:13.264084+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-rdc.2","depends_on_id":"mcp-agent-mail-rs-rdc","type":"parent-child","created_at":"2025-12-09T16:20:15.346156+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-rdc.3","title":"Add force_release_reservation tests with staleness detection","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:20:27.133463+05:30","updated_at":"2025-12-09T16:39:34.497142+05:30","closed_at":"2025-12-09T16:39:34.497142+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-rdc.3","depends_on_id":"mcp-agent-mail-rs-rdc","type":"parent-child","created_at":"2025-12-09T16:20:27.134301+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-rdc.4","title":"Add thread summarization tests","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:20:28.770925+05:30","updated_at":"2025-12-09T16:40:53.706348+05:30","closed_at":"2025-12-09T16:40:53.706348+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-rdc.4","depends_on_id":"mcp-agent-mail-rs-rdc","type":"parent-child","created_at":"2025-12-09T16:20:28.772652+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-rdc.5","title":"Add file reservation conflict tests","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:20:40.829989+05:30","updated_at":"2025-12-09T16:39:34.45161+05:30","closed_at":"2025-12-09T16:39:34.45161+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-rdc.5","depends_on_id":"mcp-agent-mail-rs-rdc","type":"parent-child","created_at":"2025-12-09T16:20:40.83085+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-rdc.6","title":"Add product bus tests (multi-repo messaging)","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-09T16:20:42.987707+05:30","updated_at":"2025-12-09T16:47:02.454635+05:30","closed_at":"2025-12-09T16:47:02.454635+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-rdc.6","depends_on_id":"mcp-agent-mail-rs-rdc","type":"parent-child","created_at":"2025-12-09T16:20:42.988642+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-rdc.7","title":"Add mark_message_read and acknowledge_message tests","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-09T16:20:45.048859+05:30","updated_at":"2025-12-09T16:37:38.166483+05:30","closed_at":"2025-12-09T16:37:38.166483+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-rdc.7","depends_on_id":"mcp-agent-mail-rs-rdc","type":"parent-child","created_at":"2025-12-09T16:20:45.051015+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-rdc.8","title":"Add export_mailbox tests (HTML, JSON, Markdown output)","description":"","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-09T16:20:48.06343+05:30","updated_at":"2025-12-09T16:56:02.276042+05:30","closed_at":"2025-12-09T16:56:02.276048+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-rdc.8","depends_on_id":"mcp-agent-mail-rs-rdc","type":"parent-child","created_at":"2025-12-09T16:20:48.064239+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-rkm","title":"P1: Implement Capabilities/RBAC middleware","description":"Add capabilities config (deploy/capabilities/agent_capabilities.yaml) with role-based tool access: architect (send+reserve+summarize), worker (send+inbox+ack). Implement middleware for tool-level RBAC enforcement.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:54:33.006449+05:30","updated_at":"2025-12-15T20:44:23.200316+05:30","closed_at":"2025-12-15T20:44:23.200316+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-rkm","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:54:33.00711+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-rlw","title":"PORT-2.3: Audit and fix potential file handle leaks in store modules","description":"## Problem\nFile handle leaks in image processing and git operations can exhaust FD limits.\n\n## Implementation\nAudit and fix:\n- attachments.rs - image processing with image crate\n- git_archive.rs - repository file operations\n- precommit_guard.rs - script file generation\n\nPatterns to apply:\n- Explicit scope for File/BufReader lifetime\n- Drop guards for critical resources\n- with_capacity() for known sizes\n\n## Files\n- crates/libs/lib-core/src/store/attachments.rs\n- crates/libs/lib-core/src/store/git_archive.rs\n- crates/libs/lib-core/src/model/precommit_guard.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/storage.py\n- Commit a1e29e2: fix(stability): prevent file handle leaks in PIL and HTTP\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: file handle, leak, PIL)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 2.3)\n\n## Acceptance Criteria\n- [ ] Audit all file ops in lib-core/src/store/\n- [ ] Add explicit drops where FD lifetime matters\n- [ ] Stress test: 1000 attachments, verify FD count stable\n- [ ] Document ownership patterns in code comments\n- [ ] No clippy warnings about unused handles\n\n## Complexity: 4/10","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T00:25:36.575085+05:30","updated_at":"2025-12-19T06:31:03.831198+05:30","closed_at":"2025-12-19T06:31:03.831198+05:30"}
{"id":"mcp-agent-mail-rs-rtf","title":"P2: Integrate Probar E2E tests with Leptos UI","description":"","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-11T23:39:52.274207+05:30","updated_at":"2025-12-15T18:44:27.338188+05:30","closed_at":"2025-12-15T18:44:27.338188+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-rtf","depends_on_id":"mcp-agent-mail-rs-nqn","type":"blocks","created_at":"2025-12-11T23:40:15.12772+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-s0j","title":"PORT: Unified Inbox Web UI (Gmail-style /mail routes)","description":"## Description\nPort the unified inbox web UI from Python to Rust. This provides a Gmail-style view of ALL messages across ALL projects.\n\n## Python Implementation\n- `/mail` - HTML unified inbox route\n- `/mail/api/unified-inbox` - JSON API endpoint  \n- `/mail/unified-inbox` - HTML with filtering\n- `templates/mail_unified_inbox.html` - Jinja2 template\n\n## Reference Files\n- Python: `mcp_agent_mail/http.py` lines 1144-1303\n- Python template: `mcp_agent_mail/templates/mail_unified_inbox.html`\n- docs/mcp-agent-mail-python-beads-diff.md\n- docs/mcp-agent-mail-python-tree.md\n\n## Implementation Notes\n- Rust has `product_inbox` MCP tool (product-scoped, not global)\n- Need to add web routes to lib-server/src/api.rs\n- Consider Leptos SSR or HTMX for HTML rendering\n- Port filtering by importance feature","notes":"Worker-s0j starting implementation with EXTREME TDD","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-18T00:44:00.014788+05:30","updated_at":"2025-12-19T23:18:02.435171+05:30","closed_at":"2025-12-19T23:18:02.435171+05:30"}
{"id":"mcp-agent-mail-rs-sc2d","title":"GAP: Overdue ACK Escalation System","description":"## Problem\nPython escalates messages not acknowledged within TTL. Rust has ack_ts field but no escalation.\n\n## Python Features\n- ACK_TTL_ENABLED, ACK_TTL_SECONDS (default 1800)\n- ACK_ESCALATION_ENABLED, ACK_ESCALATION_MODE (log or file_reservation)\n- Background task scans for overdue ACKs\n- Escalates via log, overseer message, or file reservation\n\n## Implementation\n- Add background task for ACK TTL scanning\n- Implement escalation modes\n- Add configuration env vars","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-18T18:00:10.669211+05:30","updated_at":"2025-12-18T18:00:10.669211+05:30"}
{"id":"mcp-agent-mail-rs-szk3","title":"Improve rustdoc coverage to 50%","description":"## Objective\nImprove rustdoc coverage from ~25% to 50% across lib-core.\n\n## Efficiency Guide\n1. **Read file** ‚Üí Add module-level `//!` docs + struct/field `///` docs\n2. **Batch by theme**: Do all model/*.rs together, all store/*.rs together\n3. **Copy patterns**: Use existing documented files as templates\n\n## Completed (Session 2)\n- [x] agent.rs - module docs, Agent/AgentForCreate/AgentProfileUpdate structs\n- [x] project.rs - module docs, Project struct, Git archive docs\n- [x] activity.rs - module docs, ActivityItem struct\n- [x] attachment.rs - module docs, Attachment/AttachmentForCreate structs\n- [x] tool_metric.rs - module docs with example, ToolMetric/ToolMetricForCreate/ToolStat\n- [x] build_slot.rs - module docs with coordination pattern, BuildSlot/BuildSlotForCreate\n- [x] message.rs - module docs added (partial - structs pending)\n\n## Remaining Model Files\n- [ ] message.rs - Message/MessageForCreate/ThreadSummary struct docs\n- [ ] macro_def.rs - module + MacroDef/MacroDefForCreate docs\n- [ ] file_reservation.rs - module + FileReservation/FileReservationForCreate docs\n- [ ] message_recipient.rs - module + MessageRecipient docs\n- [ ] agent_capabilities.rs\n- [ ] agent_link.rs\n- [ ] export.rs\n- [ ] product.rs\n- [ ] project_sibling_suggestion.rs\n- [ ] precommit_guard.rs\n- [ ] overseer_message.rs\n\n## Other Modules to Document\n- store/*.rs (git_store, etc.)\n- utils/*.rs\n- ctx.rs\n\n## Doc Template\n```rust\n//! Brief one-line description.\n//!\n//! Longer explanation of what this module does.\n//!\n//! # Example\n//! // usage example\n\n/// Struct description.\n/// # Fields\n/// - \\`field\\` - What it does\npub struct Foo { ... }\n```","notes":"Session 2: Documented model submodules - agent.rs, project.rs, activity.rs, attachment.rs, tool_metric.rs, build_slot.rs. Now at ~100 documented public items.","status":"open","priority":4,"issue_type":"task","created_at":"2025-12-18T03:25:13.397666+05:30","updated_at":"2025-12-18T04:03:48.276676+05:30"}
{"id":"mcp-agent-mail-rs-t0f","title":"P1: Add agent_capabilities table for RBAC","description":"Create migration: CREATE TABLE agent_capabilities (id INTEGER PRIMARY KEY, agent_id INTEGER REFERENCES agents(id), capability TEXT NOT NULL, granted_at TEXT NOT NULL). Required for RBAC enforcement.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:55:26.92608+05:30","updated_at":"2025-12-15T19:59:16.683308+05:30","closed_at":"2025-12-15T19:59:16.683308+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-t0f","depends_on_id":"mcp-agent-mail-rs-rkm","type":"blocks","created_at":"2025-12-12T10:55:26.926926+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-t60","title":"Fix clippy collapsible_if warnings","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-17T16:41:39.277074+05:30","updated_at":"2025-12-17T16:46:32.187516+05:30","closed_at":"2025-12-17T16:46:32.187516+05:30"}
{"id":"mcp-agent-mail-rs-tbgr","title":"P0: Multi-Agent Orchestration System","description":"## Overview\nImplement the multi-agent orchestration workflow defined in AGENTS.md Layer 5.\n\n## Components\n\n### 1. Agent Registration \u0026 Discovery\n- Worker, Reviewer, Human agent registration\n- Agent capability tracking\n- Presence detection (is reviewer available?)\n\n### 2. Message Protocol Implementation\n- [TASK_STARTED] notification\n- [COMPLETION] report format\n- [APPROVED] / [FIXED] review results\n- Thread conventions (TASK-\u003cid\u003e, REVIEW-\u003cdate\u003e, ESCALATE-\u003cid\u003e)\n\n### 3. Git Worktree Integration\n- Worker worktree: .sandboxes/worker-\u003ctask-id\u003e\n- Reviewer fix worktree: .sandboxes/reviewer-fix-\u003ctask-id\u003e\n- Automated merge and cleanup\n\n### 4. Quality Gate Automation\n- Pre-commit validation\n- Completion report generation\n- Gate failure handling\n\n### 5. Single-Agent Fallback\n- Detect missing reviewer\n- Self-review workflow\n- Direct-to-human notification\n\n### 6. Error Recovery\n- Crash recovery\n- Merge conflict resolution\n- Message retry with backoff\n\n## Reference\n- AGENTS.md Layer 5: Multi-Agent Orchestration\n- MCP Agent Mail tools (45 total)\n\n## Acceptance Criteria\n- [ ] Worker can claim task, implement, send completion mail\n- [ ] Reviewer can validate, fix if needed, notify human\n- [ ] Single-agent fallback works when no reviewer\n- [ ] Quality gates enforced at all stages\n- [ ] Error recovery handles crashes and conflicts\n- [ ] Metrics tracked via list_tool_metrics()","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-18T01:47:45.522975+05:30","updated_at":"2025-12-20T03:46:42.247077+05:30","closed_at":"2025-12-20T03:46:42.247077+05:30"}
{"id":"mcp-agent-mail-rs-tgl","title":"P2: Implement export module (JSON/CSV mailbox export)","description":"Add CLI export command and /api/export endpoint. Support JSON and CSV formats. Export full mailbox or filtered by agent/date range. Python: mcp_agent_mail.cli export --format json.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-12T10:55:15.581081+05:30","updated_at":"2025-12-15T22:21:00.985846+05:30","closed_at":"2025-12-15T22:21:00.985846+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-tgl","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:55:15.581859+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-tkc9","title":"Add reduced motion support and skip link for accessibility","description":"## Summary\nAdd prefers-reduced-motion media query and skip link component for keyboard navigation accessibility.\n\n## Implementation Details\n\n### 1. Add to tailwind.css\n```css\n/* Reduced Motion Support */\n@media (prefers-reduced-motion: reduce) {\n  *,\n  *::before,\n  *::after {\n    animation-duration: 0.01ms !important;\n    animation-iteration-count: 1 !important;\n    transition-duration: 0.01ms !important;\n    scroll-behavior: auto !important;\n  }\n}\n\n/* Skip Link Styles */\n.skip-link {\n  position: absolute;\n  top: -40px;\n  left: 0;\n  background: hsl(var(--primary));\n  color: hsl(var(--primary-foreground));\n  padding: 8px 16px;\n  z-index: 100;\n  transition: top 0.2s;\n}\n\n.skip-link:focus {\n  top: 0;\n}\n```\n\n### 2. Update layout.rs\nAdd skip link before navigation.\n\n## Files Changed\n- crates/services/web-ui-leptos/style/tailwind.css\n- crates/services/web-ui-leptos/src/components/layout.rs\n\n## Acceptance Criteria\n- [ ] prefers-reduced-motion media query defined\n- [ ] Animations disabled when user prefers reduced motion\n- [ ] Skip link hidden by default (top: -40px)\n- [ ] Skip link visible on focus (top: 0)\n- [ ] Skip link navigates to #main-content\n- [ ] main element has id=\"main-content\" and tabindex=\"-1\"\n- [ ] Skip link usable via keyboard Tab navigation","notes":"Claimed by worker-tkc9","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T23:11:14.899704+05:30","updated_at":"2025-12-18T23:55:16.911025+05:30","closed_at":"2025-12-18T23:55:16.911025+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-tkc9","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:37.807521+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-u4xe","title":"PORT-1.2-INT: Wire validation.rs into MCP tools and API handlers","description":"## Context\nScaffolding exists in lib-core/src/utils/validation.rs with:\n- ValidationError enum\n- validate_agent_name(), validate_project_key(), validate_reservation_path(), validate_ttl()\n- All with unit tests\n\n## Remaining Work\nWire validation functions into:\n1. lib-mcp/tools.rs - Call validation before processing tool requests\n2. lib-server/api/ handlers - Call validation in request handlers\n3. lib-core/error.rs - Add ValidationError variant to main Error enum\n\n## Acceptance Criteria\n- [ ] register_agent tool validates agent_name via validate_agent_name()\n- [ ] ensure_project tool validates project_key via validate_project_key()\n- [ ] file_reservation_paths validates paths via validate_reservation_path()\n- [ ] TTL params validated via validate_ttl()\n- [ ] Validation errors return actionable suggestions\n- [ ] Integration tests verify validation is called\n\n## Files to Modify\n- crates/libs/lib-mcp/src/tools.rs\n- crates/libs/lib-server/src/api/*.rs\n- crates/libs/lib-core/src/error.rs\n\n## Complexity: 5/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T05:15:46.736876+05:30","updated_at":"2025-12-19T21:19:43.224047+05:30","closed_at":"2025-12-19T21:19:43.224047+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-u4xe","depends_on_id":"mcp-agent-mail-rs-3oo","type":"blocks","created_at":"2025-12-19T05:15:46.738358+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-u86q","title":"LEPTOS-011: Toast Notification System","description":"## Summary\nCreate toast notification component for success/error/info messages.\n\n## Implementation\nCreate: `components/toast.rs`\n\n```rust\n#[derive(TwVariant)]\npub enum ToastVariant {\n    #[tw(class = \"bg-emerald-500\")]\n    Success,\n    #[tw(class = \"bg-destructive\")]\n    Error,\n    #[tw(class = \"bg-amber-500\")]\n    Warning,\n    #[tw(class = \"bg-primary\")]\n    Info,\n}\n```\n\n## Acceptance Criteria\n- [ ] Toast component with variants (success, error, warning, info)\n- [ ] Auto-dismiss after 5s (configurable)\n- [ ] Stack multiple toasts (max 3 visible)\n- [ ] Swipe to dismiss on mobile\n- [ ] Close button on desktop\n- [ ] Position: bottom-right desktop, bottom-center mobile\n- [ ] role=\"alert\" for error, role=\"status\" for others\n- [ ] Reduced motion: instant show/hide\n\n## Quality Gates\n- \u003c= 50ms render time\n- Accessible: announced by screen readers\n- Persists across route changes\n\n## Reference Skills\n- shadcn-ui: Toast component anatomy\n- mobile-frontend-design: Swipe gestures\n- production-hardening-frontend: Reduced motion","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-12-19T22:05:53.791057+05:30","updated_at":"2025-12-20T04:09:33.905483+05:30","closed_at":"2025-12-20T04:09:33.905483+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-u86q","depends_on_id":"mcp-agent-mail-rs-1d2q","type":"blocks","created_at":"2025-12-19T22:07:14.077841+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-u86q","depends_on_id":"mcp-agent-mail-rs-w7n3","type":"blocks","created_at":"2025-12-19T22:07:14.136906+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-uhvg","title":"EPIC: PWA \u0026 Mobile Optimization","description":"## Overview\nMake the Leptos web UI a production-ready PWA with mobile-first design.\n\n## Current State\n- Basic responsive layout\n- Dark mode toggle\n- No offline support\n- No PWA manifest\n\n## Target State\n1. **PWA Fundamentals**\n   - Web app manifest for installability\n   - Service worker for offline caching\n   - App shell architecture\n\n2. **Mobile Responsiveness**\n   - Touch-friendly targets (44px minimum)\n   - Bottom navigation on mobile\n   - Swipe gestures for message actions\n   - Pull-to-refresh\n\n3. **Performance**\n   - Core Web Vitals compliance\n   - WASM lazy loading\n   - Image optimization\n   - Skeleton loading states\n\n4. **Accessibility**\n   - WCAG 2.2 Level AA\n   - Screen reader support\n   - Keyboard navigation\n   - Focus management\n\n## Acceptance Criteria\n- [ ] Lighthouse PWA score ‚â• 90\n- [ ] LCP ‚â§ 2.5s on 3G\n- [ ] Installable on iOS/Android\n- [ ] Works offline (cached shell + data)\n- [ ] Touch targets ‚â• 44px","status":"open","priority":2,"issue_type":"feature","created_at":"2025-12-18T06:10:26.245067+05:30","updated_at":"2025-12-18T06:10:26.245067+05:30"}
{"id":"mcp-agent-mail-rs-uiy","title":"Update AGENTS.md to match universal template and project reality","description":"## Context\nCompare project AGENTS.md with universal template and align with actual project state.\n\n## Changes Required\n1. Layer 1 vc section: Expand safety nets, env vars, Vibe Coding\n2. Layer 3: Fix tool count (50+ ‚Üí 45), update pre-commit (cargo-husky), dynamic active work areas\n3. Layer 4: Add cargo-husky auto-install info\n4. Appendix: Add mcp-agent-mail cargo install\n\n## NOT Changing\n- Skip Layer 0 Rule 2 git push update per user request\n- Keep MCP Agent Mail section focused (this IS the server)\n\n## References\n- Universal template provided by user\n- docs/ARCHITECTURE.md\n- docs/WALKTHROUGH.md\n- 45 actual MCP tools (cargo run -p mcp-stdio -- tools)","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-17T21:39:12.751098+05:30","updated_at":"2025-12-17T21:42:18.833589+05:30","closed_at":"2025-12-17T21:42:18.833589+05:30"}
{"id":"mcp-agent-mail-rs-urnl","title":"LEPTOS-014: Accessibility Audit Automation","description":"## Summary\nCreate automated accessibility audit using dev-browser skill.\n\n## Implementation\nCreate: `scripts/accessibility-audit.ts`\n\n```typescript\n// Checks using dev-browser\nconst a11yIssues: string[] = [];\n\n// Check for images without alt text\nconst imgWithoutAlt = await page.$$eval('img:not([alt])', imgs =\u003e imgs.length);\n\n// Check for buttons without accessible names\nconst emptyButtons = await page.$$eval(\n  'button:not([aria-label]):empty',\n  btns =\u003e btns.length\n);\n\n// Check touch targets\nconst smallTargets = await page.$$eval(\n  'button, a, [role=\"button\"]',\n  els =\u003e els.filter(e =\u003e e.offsetWidth \u003c 44 || e.offsetHeight \u003c 44).length\n);\n```\n\n## Acceptance Criteria\n- [ ] Audit script checks: images alt, button labels, form labels, touch targets\n- [ ] Run on all pages (/inbox, /projects, /agents, /attachments)\n- [ ] Generate YAML report with issue counts\n- [ ] Fail CI if any violations\n- [ ] Include color contrast check\n\n## Quality Gates\n- 0 violations for WCAG 2.1 AA\n- All touch targets \u003e= 44x44px\n- All color contrast \u003e= 4.5:1\n\n## Reference Skills\n- dev-browser: Accessibility auditing\n- production-hardening-frontend: WCAG compliance\n- kaizen-solaris-review: Quality gates","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-19T22:06:41.944581+05:30","updated_at":"2025-12-20T04:18:35.113475+05:30","closed_at":"2025-12-20T04:18:35.113475+05:30"}
{"id":"mcp-agent-mail-rs-uu10","title":"PORT: Performance Benchmark Tests (8 scaling tests)","description":"## Description\nPort performance benchmark tests to validate export scaling and efficiency.\n\n## Tests\n1. test_small_bundle_export_performance\n2. test_medium_bundle_export_performance\n3. test_large_bundle_export_performance\n4. test_database_compressibility\n5. test_chunk_size_validation\n6. test_vacuum_improves_locality\n7. test_browser_performance_requirements_documentation\n8. test_export_scales_linearly (parametrized)\n\n## Reference\n- Python: tests/test_performance_benchmarks.py\n\n## Implementation Notes\n- Use criterion for Rust benchmarks\n- Test with varying database sizes\n- Validate O(n) scaling for exports\n- Test chunk size boundaries","status":"open","priority":2,"issue_type":"task","created_at":"2025-12-18T00:58:17.892959+05:30","updated_at":"2025-12-18T00:58:17.892959+05:30"}
{"id":"mcp-agent-mail-rs-w7n3","title":"LEPTOS-002: Add shadcn CSS Variables Infrastructure","description":"## Summary\nAdd shadcn/ui semantic color tokens to tailwind.css alongside existing project tokens.\n\n## Implementation\nAdd to `style/tailwind.css`:\n```css\n:root {\n  --background: 0 0% 100%;\n  --foreground: 222.2 84% 4.9%;\n  --card: 0 0% 100%;\n  --primary: 37 91% 55%;\n  --ring: 37 91% 55%;\n  --radius: 0.5rem;\n  \n  /* Fluid Typography */\n  --font-size-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);\n  \n  /* Touch Targets */\n  --touch-target-min: 44px;\n}\n\n.dark { /* dark mode tokens */ }\n\n@media (prefers-reduced-motion: reduce) {\n  *, *::before, *::after {\n    animation-duration: 0.01ms !important;\n  }\n}\n```\n\n## Acceptance Criteria\n- [ ] 14 semantic tokens defined (--background, --foreground, --card, etc.)\n- [ ] Dark mode tokens in .dark class\n- [ ] Existing tokens preserved (--bg-base, --accent-amber)\n- [ ] Fluid typography scale (7 sizes with clamp())\n- [ ] Fluid spacing scale (5 sizes)\n- [ ] --touch-target-min: 44px defined\n- [ ] .focus-ring utility class\n- [ ] Reduced motion @media support\n\n## Quality Gates\n- Tokens render correctly in DevTools\n- No duplicate CSS variable names\n\n## Reference Skills\n- shadcn-ui: Design system tokens\n- mobile-frontend-design: Touch targets, fluid typography\n- production-hardening-frontend: Reduced motion support","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-19T22:03:09.300185+05:30","updated_at":"2025-12-20T01:42:35.424431+05:30","closed_at":"2025-12-20T01:42:35.424431+05:30"}
{"id":"mcp-agent-mail-rs-wi0","title":"Add ToolSchema entries for precommit guard tools","description":"Add ToolSchema entries in get_tool_schemas() function:\n- install_precommit_guard: Install git pre-commit hook for file reservation checks\n- uninstall_precommit_guard: Remove the pre-commit guard hook","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-16T20:06:13.378742+05:30","updated_at":"2025-12-17T19:27:26.285883+05:30","closed_at":"2025-12-17T19:27:26.285883+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-wi0","depends_on_id":"mcp-agent-mail-rs-2ci","type":"blocks","created_at":"2025-12-16T20:06:13.379392+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-wker","title":"T1: Core query list_pending_reviews() in MessageBmc","description":"Add list_pending_reviews() to MessageBmc with single SQL query returning all nested data. Includes: message fields, sender info, project context, thread count, recipients JSON array. Uses json_group_array for recipient aggregation. Complexity: 7/10. File: crates/libs/lib-core/src/model/message.rs","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T17:45:55.358862+05:30","updated_at":"2025-12-18T18:35:40.655058+05:30","closed_at":"2025-12-18T18:35:40.655058+05:30"}
{"id":"mcp-agent-mail-rs-wkly","title":"ORCH-9: Integration tests for multi-agent workflow","description":"## Summary\nE2E tests for the complete multi-agent orchestration workflow.\n\n## Test Scenarios\n1. **Happy Path**: Worker ‚Üí [COMPLETION] ‚Üí Reviewer ‚Üí [APPROVED] ‚Üí Human\n2. **Fix Flow**: Worker ‚Üí [COMPLETION] ‚Üí Reviewer ‚Üí [FIXED] ‚Üí Human\n3. **Single-Agent**: Worker ‚Üí [COMPLETION] (self-reviewed) ‚Üí Human\n4. **Crash Recovery**: Abandoned task detection and reassignment\n5. **Conflict Resolution**: Multiple reviewers trying to claim\n\n## Implementation\n```rust\n#[tokio::test]\nasync fn test_full_orchestration_workflow() { ... }\n\n#[tokio::test]\nasync fn test_single_agent_fallback() { ... }\n\n#[tokio::test]\nasync fn test_review_claim_prevents_duplicates() { ... }\n\n#[tokio::test]\nasync fn test_abandoned_task_recovery() { ... }\n```\n\n## Acceptance Criteria\n- [ ] All 5 scenarios tested\n- [ ] Uses real MCP tools (not mocks)\n- [ ] Tests thread state machine transitions\n- [ ] Verifies message CC/BCC for audit trail","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-19T18:36:03.712332+05:30","updated_at":"2025-12-20T05:39:18.093422+05:30","closed_at":"2025-12-20T05:39:18.093422+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-wkly","depends_on_id":"mcp-agent-mail-rs-okgk","type":"blocks","created_at":"2025-12-19T18:36:25.347654+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-wkly","depends_on_id":"mcp-agent-mail-rs-qqjw","type":"blocks","created_at":"2025-12-19T18:36:25.406147+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-wnf","title":"Add API client timeout and retry logic","description":"Add AbortController timeout (10s) and automatic retry (2 attempts) for transient network failures in src/lib/api/client.ts request function.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-10T02:45:20.316048+05:30","updated_at":"2025-12-15T18:44:54.243244+05:30","closed_at":"2025-12-15T18:44:54.243244+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-wnf","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:20.316612+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-wnt","title":"PORT-7.3: Add image processing edge case tests (26 tests)","description":"## Problem\nNeed comprehensive edge case tests for image processing.\n\n## Implementation\nPort 26 Python tests:\n- Malformed Image Tests (3)\n- Image Mode Tests (5): P, LA, RGBA, L, 1-bit\n- Data URI Edge Cases (4)\n- File Extension Edge Cases (3)\n- Multiple Images Tests (2)\n- Attachment Path Edge Cases (3): spaces, unicode, symlinks\n- Image Format Tests (3): GIF, BMP, JPEG conversion\n- Size Edge Cases (2): 1x1 pixel, large images\n\n## Files\n- crates/libs/lib-core/tests/image_edge_tests.rs (NEW)\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/tests/test_image_processing_edge.py\n- Commit b509808: test(images): add edge case tests for image processing\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: image, edge, PIL)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 7.3)\n\n## Acceptance Criteria\n- [ ] All 26 tests ported\n- [ ] Use image crate for Rust\n- [ ] Proper cleanup of temp files\n- [ ] Tests for all image modes\n\n## Complexity: 5/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:27:34.498803+05:30","updated_at":"2025-12-19T17:02:18.652509+05:30","closed_at":"2025-12-19T17:02:18.652509+05:30"}
{"id":"mcp-agent-mail-rs-wq3","title":"Add global error boundary (+error.svelte)","description":"Create src/routes/+error.svelte with user-friendly error page showing status code, message, and home link.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-10T02:45:32.686597+05:30","updated_at":"2025-12-15T18:44:27.608155+05:30","closed_at":"2025-12-15T18:44:27.608155+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-wq3","depends_on_id":"mcp-agent-mail-rs-1s0","type":"blocks","created_at":"2025-12-10T02:45:32.687094+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-x0zq","title":"Create Separator component for horizontal/vertical dividers","description":"## Summary\nCreate a Separator component for visual dividers between content sections.\n\n## Implementation Details\n\n### Create components/separator.rs\n```rust\nuse leptos::*;\nuse tailwind_fuse::tw_merge;\n\n#[derive(Clone, Copy, Default, PartialEq)]\npub enum Orientation {\n    #[default]\n    Horizontal,\n    Vertical,\n}\n\n#[component]\npub fn Separator(\n    #[prop(optional)] orientation: Option\u003cOrientation\u003e,\n    #[prop(optional, into)] class: MaybeProp\u003cString\u003e,\n) -\u003e impl IntoView {\n    let orientation = orientation.unwrap_or_default();\n    let base_class = \"shrink-0 bg-border\";\n    let orientation_class = match orientation {\n        Orientation::Horizontal =\u003e \"h-[1px] w-full\",\n        Orientation::Vertical =\u003e \"w-[1px] h-full\",\n    };\n\n    view! {\n        \u003cdiv\n            class=tw_merge!(base_class, orientation_class, class.get())\n            role=\"separator\"\n            aria-orientation=match orientation {\n                Orientation::Horizontal =\u003e \"horizontal\",\n                Orientation::Vertical =\u003e \"vertical\",\n            }\n        /\u003e\n    }\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/separator.rs (NEW)\n- crates/services/web-ui-leptos/src/components/mod.rs\n\n## Acceptance Criteria\n- [ ] Separator component created with Horizontal/Vertical orientations\n- [ ] Uses bg-border semantic color\n- [ ] role=\"separator\" attribute present\n- [ ] aria-orientation set correctly\n- [ ] Component exported from mod.rs","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T23:12:31.122121+05:30","updated_at":"2025-12-19T01:53:44.257439+05:30","closed_at":"2025-12-19T01:53:44.257439+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-x0zq","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:46.729448+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-x5g","title":"Update README with sidecar deployment docs","description":"Document sidecar usage: Claude Desktop config, Docker/K8s sidecar patterns, --no-ui vs --with-ui modes.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-17T17:52:52.527503+05:30","updated_at":"2025-12-17T19:02:11.26907+05:30","closed_at":"2025-12-17T19:02:11.26907+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-x5g","depends_on_id":"mcp-agent-mail-rs-exr","type":"blocks","created_at":"2025-12-17T17:53:00.161654+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-x6v","title":"P1: Implement Agents page E2E tests (A-001 to A-006)","description":"","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-11T23:33:39.05267+05:30","updated_at":"2025-12-15T18:44:27.216673+05:30","closed_at":"2025-12-15T18:44:27.216673+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-x6v","depends_on_id":"mcp-agent-mail-rs-87s","type":"blocks","created_at":"2025-12-11T23:34:13.16366+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-xazm","title":"T3: REST handler GET /api/messages/pending-reviews","description":"Add list_pending_reviews handler with Query extractor. Params: project, sender, limit (clamped 1-50). Resolve project_slug to id, sender_name to id. Transform PendingReviewRow to response. Complexity: 5/10. File: crates/libs/lib-server/src/tools.rs","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T17:45:55.881552+05:30","updated_at":"2025-12-18T18:35:40.657221+05:30","closed_at":"2025-12-18T18:35:40.657221+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-xazm","depends_on_id":"mcp-agent-mail-rs-wker","type":"blocks","created_at":"2025-12-18T17:46:08.809292+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-xazm","depends_on_id":"mcp-agent-mail-rs-bn6b","type":"blocks","created_at":"2025-12-18T17:46:08.859943+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-xpau","title":"GAP: GitHub Pages Deployment Wizard","description":"## Problem\nPython has automated GitHub Pages deployment. Rust has no equivalent.\n\n## Python Features\n- Automated repo creation\n- Branch setup (gh-pages)\n- Pages enablement via GitHub API\n- Cloudflare Pages alternative\n\n## Implementation\n- Add share deploy github-pages subcommand\n- Use octocrab crate for GitHub API\n- Create repo, push bundle, enable Pages","status":"open","priority":3,"issue_type":"feature","created_at":"2025-12-18T18:00:35.751436+05:30","updated_at":"2025-12-18T18:00:35.751436+05:30"}
{"id":"mcp-agent-mail-rs-xxnq","title":"Create Button component with CVA variants and accessibility","description":"## Summary\nCreate a new Button component using tailwind_fuse for CVA-style variants with proper accessibility.\n\n## Implementation Details\n\n### Create components/button.rs\n```rust\nuse leptos::*;\nuse tailwind_fuse::*;\n\n#[derive(TwClass)]\n#[tw(class = \"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50\")]\npub struct ButtonClass {\n    pub variant: ButtonVariant,\n    pub size: ButtonSize,\n}\n\n#[derive(TwVariant, Clone, Copy, Default)]\npub enum ButtonVariant {\n    #[tw(default, class = \"bg-primary text-primary-foreground hover:bg-primary/90\")]\n    Default,\n    #[tw(class = \"bg-destructive text-destructive-foreground hover:bg-destructive/90\")]\n    Destructive,\n    #[tw(class = \"border border-input bg-background hover:bg-accent hover:text-accent-foreground\")]\n    Outline,\n    #[tw(class = \"bg-secondary text-secondary-foreground hover:bg-secondary/80\")]\n    Secondary,\n    #[tw(class = \"hover:bg-accent hover:text-accent-foreground\")]\n    Ghost,\n    #[tw(class = \"text-primary underline-offset-4 hover:underline\")]\n    Link,\n}\n\n#[derive(TwVariant, Clone, Copy, Default)]\npub enum ButtonSize {\n    #[tw(default, class = \"h-10 px-4 py-2\")]\n    Default,\n    #[tw(class = \"h-9 rounded-md px-3\")]\n    Sm,\n    #[tw(class = \"h-11 rounded-md px-8\")]\n    Lg,\n    #[tw(class = \"h-10 w-10\")]\n    Icon,\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/button.rs (NEW)\n- crates/services/web-ui-leptos/src/components/mod.rs\n\n## Acceptance Criteria\n- [ ] Button component created with 6 variants (default, destructive, outline, secondary, ghost, link)\n- [ ] Button component has 4 sizes (default, sm, lg, icon)\n- [ ] Uses tailwind_fuse for class merging\n- [ ] Focus ring visible on Tab navigation\n- [ ] Disabled state has opacity-50 and pointer-events-none\n- [ ] All sizes meet 44px minimum touch target\n- [ ] Component exported from mod.rs","notes":"Claimed by worker-xxnq","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T23:11:15.129248+05:30","updated_at":"2025-12-18T23:49:09.482984+05:30","closed_at":"2025-12-18T23:49:09.482984+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-xxnq","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:37.854284+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-y58","title":"P1: Implement project siblings endpoints","description":"Implement /api/projects/siblings, /api/projects/siblings/refresh, /api/projects/siblings/confirm. Model exists (project_sibling_suggestions). Add heuristic scoring for related projects (frontend/backend detection).","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:54:33.685436+05:30","updated_at":"2025-12-15T20:44:23.326662+05:30","closed_at":"2025-12-15T20:44:23.326662+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-y58","depends_on_id":"mcp-agent-mail-rs-577","type":"blocks","created_at":"2025-12-12T10:54:33.686113+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-yj20","title":"Add fluid typography and spacing scale with clamp()","description":"## Summary\nAdd mobile-first fluid typography and spacing using CSS clamp() function for seamless scaling across viewports.\n\n## Implementation Details\n\n### Add to tailwind.css\n```css\n:root {\n  /* Fluid Typography Scale */\n  --font-size-xs:  clamp(0.75rem, 0.7rem + 0.25vw, 0.875rem);\n  --font-size-sm:  clamp(0.875rem, 0.8rem + 0.375vw, 1rem);\n  --font-size-base: clamp(1rem, 0.9rem + 0.5vw, 1.125rem);\n  --font-size-lg:  clamp(1.125rem, 1rem + 0.625vw, 1.25rem);\n  --font-size-xl:  clamp(1.25rem, 1.1rem + 0.75vw, 1.5rem);\n  --font-size-2xl: clamp(1.5rem, 1.3rem + 1vw, 2rem);\n  --font-size-3xl: clamp(1.875rem, 1.6rem + 1.375vw, 2.5rem);\n\n  /* Fluid Spacing Scale */\n  --space-xs:  clamp(0.25rem, 0.2rem + 0.25vw, 0.5rem);\n  --space-sm:  clamp(0.5rem, 0.4rem + 0.5vw, 1rem);\n  --space-md:  clamp(1rem, 0.8rem + 1vw, 1.5rem);\n  --space-lg:  clamp(1.5rem, 1.2rem + 1.5vw, 2rem);\n  --space-xl:  clamp(2rem, 1.6rem + 2vw, 3rem);\n\n  /* Touch Target Minimum (WCAG 2.1 AA) */\n  --touch-target-min: 44px;\n\n  /* Dynamic Viewport Height */\n  --vh-dynamic: 100dvh;\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/style/tailwind.css\n\n## Acceptance Criteria\n- [ ] 7 fluid font-size tokens defined with clamp()\n- [ ] 5 fluid spacing tokens defined with clamp()\n- [ ] --touch-target-min: 44px defined\n- [ ] --vh-dynamic: 100dvh defined\n- [ ] Text scales smoothly from 375px to 1440px viewport\n- [ ] No layout shifts during resize (CLS = 0)","notes":"Claimed by worker-yj20","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-18T23:11:14.452571+05:30","updated_at":"2025-12-19T00:04:31.605633+05:30","closed_at":"2025-12-19T00:04:31.605633+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-yj20","depends_on_id":"mcp-agent-mail-rs-1esg","type":"blocks","created_at":"2025-12-18T23:13:37.708281+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ynh","title":"P0: Implement proper MCP JSON-RPC endpoint in lib-server","description":"The /mcp endpoint in lib-server is a stub returning 'not yet implemented'. lib-mcp has a full MCP implementation using rmcp (StreamableHttpService). Need to integrate lib-mcp's AgentMailService into lib-server to provide proper JSON-RPC 2.0 MCP protocol support for tools/list and tools/call methods.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-16T15:55:16.02409+05:30","updated_at":"2025-12-17T00:29:38.322475+05:30","closed_at":"2025-12-17T00:29:38.322475+05:30"}
{"id":"mcp-agent-mail-rs-ytr6","title":"Upgrade Layout component with skip link and semantic landmarks","description":"## Summary\nAdd skip link and proper semantic HTML landmarks to the Layout component.\n\n## Implementation Details\n\n### Update layout.rs\n```rust\n#[component]\npub fn Layout(children: Children) -\u003e impl IntoView {\n    view! {\n        // Skip link (first element)\n        \u003ca href=\"#main-content\" class=\"skip-link\"\u003e\n            \"Skip to main content\"\n        \u003c/a\u003e\n\n        // Header landmark\n        \u003cheader class=\"sticky top-0 z-50 ...\"\u003e\n            \u003cnav aria-label=\"Main navigation\"\u003e\n                // ... nav items\n            \u003c/nav\u003e\n        \u003c/header\u003e\n\n        // Main content landmark\n        \u003cmain id=\"main-content\" tabindex=\"-1\" class=\"flex-1\"\u003e\n            {children()}\n        \u003c/main\u003e\n\n        // Footer landmark\n        \u003cfooter\u003e\n            // ... footer content\n        \u003c/footer\u003e\n    }\n}\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/layout.rs\n\n## Acceptance Criteria\n- [ ] Skip link is first focusable element\n- [ ] Skip link targets #main-content\n- [ ] header element used for top bar\n- [ ] nav has aria-label=\"Main navigation\"\n- [ ] main has id=\"main-content\" and tabindex=\"-1\"\n- [ ] footer element used for footer\n- [ ] Tab to skip link, Enter jumps to main content","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T23:12:32.2979+05:30","updated_at":"2025-12-19T01:53:44.260083+05:30","closed_at":"2025-12-19T01:53:44.260083+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ytr6","depends_on_id":"mcp-agent-mail-rs-tkc9","type":"blocks","created_at":"2025-12-18T23:13:47.023277+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-ywp","title":"P0: Fix wasmtime security vulnerabilities (RUSTSEC-2025-0118, RUSTSEC-2025-0046)","description":"wasmtime 29.0.1 pulled in by jugar-probar 0.1 (test dependency). Fix: Update jugar-probar to 0.4.0 in crates/tests/e2e/Cargo.toml. This is test-only, doesn't affect production binary.","status":"closed","priority":0,"issue_type":"bug","created_at":"2025-12-17T17:57:18.922092+05:30","updated_at":"2025-12-17T18:19:35.871843+05:30","closed_at":"2025-12-17T18:19:35.871843+05:30"}
{"id":"mcp-agent-mail-rs-yyh","title":"P1: Add recipient_type column to message_recipients table","description":"Create migration: ALTER TABLE message_recipients ADD COLUMN recipient_type TEXT DEFAULT 'to' CHECK(recipient_type IN ('to','cc','bcc')). Required for CC/BCC support.","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-12T10:55:26.641995+05:30","updated_at":"2025-12-15T19:59:16.738996+05:30","closed_at":"2025-12-15T19:59:16.738996+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-yyh","depends_on_id":"mcp-agent-mail-rs-fw1","type":"blocks","created_at":"2025-12-12T10:55:26.645515+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-yzr","title":"PORT-5.2: Add graceful FTS5 query error handling","description":"## Problem\nMalformed FTS5 queries can crash search. Need graceful handling.\n\n## Implementation\n- Wrap search in match for FTS5 syntax errors\n- Log warning for invalid queries\n- Return empty result with explanation\n- is_fts_syntax_error() helper\n\n## Files\n- crates/libs/lib-core/src/model/message.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/src/mcp_agent_mail/db.py\n- Commit e64842c: fix(stability): graceful FTS5 query handling\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: FTS5, syntax error, graceful)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 5.2)\n\n## Acceptance Criteria\n- [ ] Malformed FTS queries don't crash\n- [ ] Warning logged for invalid queries\n- [ ] Empty result returned (not error)\n- [ ] Tests for malformed queries\n\n## Complexity: 3/10","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T00:28:12.508717+05:30","updated_at":"2025-12-19T18:44:34.918513+05:30","closed_at":"2025-12-19T18:44:34.918513+05:30"}
{"id":"mcp-agent-mail-rs-yzye","title":"Add ARIA region roles and aria-labels to SplitViewLayout panels","description":"## Summary\nAdd proper ARIA landmark roles to SplitViewLayout for screen reader navigation.\n\n## Implementation Details\n\n### Update split_view.rs\n```rust\n// Message list panel\nview! {\n    \u003cdiv\n        class=\"w-full lg:w-[35%] overflow-y-auto\"\n        role=\"region\"\n        aria-label=\"Message list\"\n    \u003e\n        // ... list content\n    \u003c/div\u003e\n}\n\n// Detail panel\nview! {\n    \u003cdiv\n        class=\"hidden lg:block lg:w-[65%] overflow-y-auto\"\n        role=\"region\"\n        aria-label=\"Message detail\"\n    \u003e\n        // ... detail content\n    \u003c/div\u003e\n}\n\n// Add Separator between panels\nview! {\n    \u003cSeparator orientation=Orientation::Vertical class=\"hidden lg:block\" /\u003e\n}\n```\n\n### Add Home/End Key Navigation\n```rust\n// In keyboard handler\nKeyboardEvent::Home =\u003e select_first_item(),\nKeyboardEvent::End =\u003e select_last_item(),\n```\n\n## Files Changed\n- crates/services/web-ui-leptos/src/components/split_view.rs\n\n## Acceptance Criteria\n- [ ] List panel has role=\"region\" aria-label=\"Message list\"\n- [ ] Detail panel has role=\"region\" aria-label=\"Message detail\"\n- [ ] Separator component used between panels\n- [ ] Home key selects first message\n- [ ] End key selects last message\n- [ ] Screen reader announces panel names","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T23:12:32.051455+05:30","updated_at":"2025-12-19T01:53:44.259527+05:30","closed_at":"2025-12-19T01:53:44.259527+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-yzye","depends_on_id":"mcp-agent-mail-rs-x0zq","type":"blocks","created_at":"2025-12-18T23:13:46.976567+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-yzzh","title":"LEPTOS-004: Attachments Page","description":"## Summary\nCreate dedicated attachments browser page. APIs exist: `/api/attachments`, `/api/attachment/{id}`, `/api/attachment/download/{id}`.\n\n## Implementation\nCreate: `pages/attachments.rs`\n\nRoute: `/attachments`\n\n## Acceptance Criteria\n- [ ] Route /attachments accessible from nav\n- [ ] Grid layout with file type icons\n- [ ] Filter by project/agent\n- [ ] Sort by date/size/name\n- [ ] Download button per item (\u003e= 44x44px)\n- [ ] Preview modal for images/PDFs\n- [ ] Empty state component\n- [ ] Skeleton loading (3x3 grid)\n- [ ] Responsive: 1 col mobile, 2 tablet, 3 desktop\n- [ ] All buttons \u003e= 44x44px\n\n## Quality Gates\n- LCP \u003c= 2.5s with 10 attachments\n- CLS = 0 during image load (reserved height)\n- Screen reader announces file type, name, size\n\n## Reference Skills\n- shadcn-ui: Card, Skeleton components\n- mobile-frontend-design: Responsive grid, touch targets\n- production-hardening-frontend: Performance budgets","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-12-19T22:03:37.056818+05:30","updated_at":"2025-12-20T02:36:47.189984+05:30","closed_at":"2025-12-20T02:36:47.189984+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-yzzh","depends_on_id":"mcp-agent-mail-rs-1d2q","type":"blocks","created_at":"2025-12-19T22:07:10.762322+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-yzzh","depends_on_id":"mcp-agent-mail-rs-w7n3","type":"blocks","created_at":"2025-12-19T22:07:10.81689+05:30","created_by":"daemon"},{"issue_id":"mcp-agent-mail-rs-yzzh","depends_on_id":"mcp-agent-mail-rs-nodv","type":"blocks","created_at":"2025-12-19T22:07:17.085788+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-zcv8","title":"Component: Message Detail Header with Actions","description":"## Task\nCreate rich message detail header matching Python reference.\n\n## Design (from screenshots)\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ  Backend-Frontend Harmonization Sync                        ‚îÇ\n‚îÇ                                                             ‚îÇ\n‚îÇ  [üü† FROM]      [üü£ TO]        [üìÅ PROJECT]    [üìÖ SENT]  ‚îÇ\n‚îÇ   OrangeLake    PinkCastle     /data/proj...   Oct 26, 2025‚îÇ\n‚îÇ                                                 at 11:37 PM ‚îÇ\n‚îÇ                                                             ‚îÇ\n‚îÇ  [üìã Copy Link]  [‚Üó Open in Project]                        ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n```\n\n## Components\n1. **Subject Line** - Large, bold title\n2. **Metadata Row** - Grid of FROM/TO/PROJECT/SENT\n   - Each with label + avatar/icon + value\n3. **Action Buttons** - Secondary style\n   - Copy Link: Copies message URL to clipboard\n   - Open in Project: Navigates to project detail\n\n## Implementation\n```rust\n#[component]\npub fn MessageDetailHeader(\n    #[prop(into)] subject: String,\n    #[prop(into)] sender: String,\n    #[prop(into)] recipients: Vec\u003cString\u003e,\n    #[prop(into)] project_slug: String,\n    #[prop(into)] sent_at: String,\n    #[prop(into)] message_id: i64,\n) -\u003e impl IntoView {\n    let copy_link = move |_| {\n        let url = format!(\"{}/inbox/{}\", window_origin(), message_id);\n        copy_to_clipboard(\u0026url);\n        // Show toast\n    };\n\n    view! {\n        \u003cdiv class=\"p-6 border-b border-cream-200 dark:border-charcoal-700\"\u003e\n            \u003ch1 class=\"font-display text-xl font-bold mb-4\"\u003e{subject}\u003c/h1\u003e\n            \n            \u003cdiv class=\"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4\"\u003e\n                \u003cMetadataItem label=\"FROM\" icon=\"user\"\u003e\n                    \u003cAgentAvatar name=sender.clone() size=\"sm\" /\u003e\n                    \u003cspan\u003e{sender}\u003c/span\u003e\n                \u003c/MetadataItem\u003e\n                // ... TO, PROJECT, SENT\n            \u003c/div\u003e\n            \n            \u003cdiv class=\"flex gap-2\"\u003e\n                \u003cbutton class=\"btn-secondary\" on:click=copy_link\u003e\n                    \u003ci data-lucide=\"copy\" class=\"icon-sm\" /\u003e\n                    \"Copy Link\"\n                \u003c/button\u003e\n                \u003ca href={format!(\"/projects/{}\", project_slug)} class=\"btn-secondary\"\u003e\n                    \u003ci data-lucide=\"external-link\" class=\"icon-sm\" /\u003e\n                    \"Open in Project\"\n                \u003c/a\u003e\n            \u003c/div\u003e\n        \u003c/div\u003e\n    }\n}\n```\n\n## Files\n- `components/message_detail_header.rs` (new)\n- `pages/message_detail.rs` (use new component)\n\n## Acceptance Criteria\n- [ ] Copy Link shows toast notification on success\n- [ ] Project link navigates correctly\n- [ ] Avatars display for sender/recipients\n- [ ] Responsive grid (4 cols ‚Üí 2 cols on mobile)","notes":"Claimed by worker-zcv8, will integrate AgentAvatar from olf5","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-18T06:08:42.277713+05:30","updated_at":"2025-12-18T16:19:45.322724+05:30","closed_at":"2025-12-18T16:19:45.322724+05:30"}
{"id":"mcp-agent-mail-rs-zn5","title":"PORT-6.3: Add port validation before server start","description":"## Problem\nShould validate port availability before attempting to bind.\n\n## Implementation\n- validate_port() trying TcpListener::bind\n- Return helpful error if port in use\n- Suggest: kill command, alternative port\n\n## Files\n- crates/services/mcp-agent-mail/src/main.rs\n\n## Python Reference\n- /Users/amrit/Documents/Projects/Rust/mouchak/mcp_agent_mail/scripts/install.sh\n- Commit 8754da9: fix(install): define logging functions before port validation\n\n## Reference Docs\n- docs/mcp-agent-mail-python-beads-diff.md (search: port, validation)\n- docs/PYTHON_PORT_PLAN_v2.md (Task 6.3)\n\n## Acceptance Criteria\n- [ ] Port validated before server start\n- [ ] Helpful error if port in use\n- [ ] Suggests kill command and alternative\n- [ ] Tests for port validation\n\n## Complexity: 3/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-18T00:27:06.327389+05:30","updated_at":"2025-12-19T16:23:45.006014+05:30","closed_at":"2025-12-19T16:23:45.006014+05:30"}
{"id":"mcp-agent-mail-rs-ztbz","title":"Create visual regression baseline screenshots with dev-browser","description":"## Summary\nCreate baseline screenshots at key viewports for visual regression testing.\n\n## Implementation Details\n\n### Test Script (dev-browser)\n```typescript\nconst viewports = [\n  { name: \"mobile\", width: 375, height: 667 },\n  { name: \"tablet\", width: 768, height: 1024 },\n  { name: \"desktop\", width: 1440, height: 900 },\n];\n\nconst pages = [\"/\", \"/projects\", \"/inbox\", \"/agents\"];\n\nfor (const vp of viewports) {\n  await page.setViewportSize({ width: vp.width, height: vp.height });\n  for (const path of pages) {\n    await page.goto(\\`http://localhost:8080\\${path}\\`);\n    await waitForPageLoad(page);\n    await page.screenshot({\n      path: \\`baselines/\\${vp.name}-\\${path.replace('/', 'home')}.png\\`\n    });\n  }\n}\n```\n\n## Files Created\n- baselines/mobile-home.png\n- baselines/mobile-projects.png\n- baselines/mobile-inbox.png\n- baselines/mobile-agents.png\n- baselines/tablet-*.png\n- baselines/desktop-*.png\n\n## Acceptance Criteria\n- [ ] Baselines created for 4 pages √ó 3 viewports = 12 screenshots\n- [ ] Screenshots stored in baselines/ directory\n- [ ] Script documented for CI integration\n- [ ] No visual regressions from current state","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-18T23:13:03.636251+05:30","updated_at":"2025-12-19T01:58:08.746686+05:30","closed_at":"2025-12-19T01:58:08.746686+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-ztbz","depends_on_id":"mcp-agent-mail-rs-ytr6","type":"blocks","created_at":"2025-12-18T23:13:51.093748+05:30","created_by":"daemon"}]}
{"id":"mcp-agent-mail-rs-zuze","title":"PORT-2.2-INT: Integrate ArchiveLock into git_archive.rs operations","description":"## Context\nScaffolding exists in lib-core/src/store/archive_lock.rs with:\n- ArchiveLock, LockOwner struct (pid, timestamp, agent, hostname)\n- LockGuard RAII with automatic release\n- is_stale(), is_process_alive() with cross-platform support\n- All with unit tests\n\n## Remaining Work\nIntegrate ArchiveLock into git archive operations:\n1. Wrap archive write operations with ArchiveLock::acquire()\n2. Use LockGuard for automatic release on success/failure\n3. Add stale lock cleanup on GitStore initialization\n4. Add test simulating crash recovery\n\n## Acceptance Criteria\n- [ ] All git archive writes protected by ArchiveLock\n- [ ] LockGuard ensures release on panic/error\n- [ ] Stale locks from dead processes cleaned on init\n- [ ] Test simulates crash with orphaned lock\n- [ ] No data corruption on forced cleanup\n\n## Files to Modify\n- crates/libs/lib-core/src/store/git_archive.rs\n- crates/libs/lib-core/src/store/git_store.rs (init cleanup)\n\n## Complexity: 5/10","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-19T05:16:12.452828+05:30","updated_at":"2025-12-19T21:19:47.657131+05:30","closed_at":"2025-12-19T21:19:47.657131+05:30","dependencies":[{"issue_id":"mcp-agent-mail-rs-zuze","depends_on_id":"mcp-agent-mail-rs-erh","type":"blocks","created_at":"2025-12-19T05:16:12.453466+05:30","created_by":"daemon"}]}
