@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
	:root {
		/* === Command Center Design System === */
		/* Primary: #EF6F2E | Accent: #6A7282 | Background: #F8F8F8 | Text: #020202 */
		--background: 0 0% 97%;
		--foreground: 0 0% 1%;
		--card: 0 0% 100%;
		--card-foreground: 0 0% 1%;
		--popover: 0 0% 100%;
		--popover-foreground: 0 0% 1%;
		--primary: 18 86% 56%;
		--primary-foreground: 0 0% 100%;
		--primary-soft: 18 86% 96%;
		--secondary: 220 10% 92%;
		--secondary-foreground: 0 0% 1%;
		--muted: 220 10% 92%;
		--muted-foreground: 220 10% 40%;
		--accent: 220 10% 46%;
		--accent-foreground: 0 0% 100%;
		--destructive: 0 84% 60%;
		--destructive-foreground: 0 0% 100%;
		--border: 220 10% 85%;
		--input: 220 10% 88%;
		--ring: 18 86% 56%;
		--radius: 0.75rem;

		/* === Surface Layers for Depth === */
		--surface-elevated: 0 0% 100%;
		--surface-sunken: 0 0% 96%;

		/* === Typography === */
		--font-sans: 'Inter', system-ui, -apple-system, sans-serif;
		--font-mono: 'JetBrains Mono', 'SF Mono', 'Fira Code', monospace;

		/* === Spacing Scale (8px grid) === */
		--space-1: 0.25rem;  /* 4px */
		--space-2: 0.5rem;   /* 8px */
		--space-3: 0.75rem;  /* 12px */
		--space-4: 1rem;     /* 16px */
		--space-6: 1.5rem;   /* 24px */
		--space-8: 2rem;     /* 32px */
		--space-12: 3rem;    /* 48px */

		/* === Animation Tokens === */
		--duration-instant: 50ms;
		--duration-fast: 150ms;
		--duration-normal: 200ms;
		--duration-slow: 300ms;
		--duration-slower: 500ms;
		--ease-out: cubic-bezier(0.16, 1, 0.3, 1);
		--ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
		--ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
		--delay-stagger: 50ms;

		/* === Semantic Feedback Colors (HSL) === */
		--success: 160 84% 39%;
		--success-foreground: 0 0% 100%;
		--warning: 38 92% 50%;
		--warning-foreground: 0 0% 0%;
		--info: 199 89% 48%;
		--info-foreground: 0 0% 100%;

		/* === Status Colors (HSL) === */
		--status-online: 142 76% 36%;
		--status-offline: 0 84% 60%;
		--status-pending: 38 92% 50%;
		--status-idle: 220 9% 46%;

		/* === Effect Colors === */
		--shimmer-color: 0 0% 100%;
		--spotlight-color: var(--primary);

		/* === Stripe Animation Colors (Factory.ai) === */
		--stripe-dark: #4d4947;
		--stripe-light: #a49d9a;

		/* === Industrial Accent Colors === */
		--accent-steel: 210 15% 45%;
		--accent-copper: 25 85% 55%;
		--accent-titanium: 200 10% 65%;

		/* === Background Layers for Depth === */
		--bg-layer-1: 0 0% 98%;
		--bg-layer-2: 0 0% 96%;
		--bg-layer-3: 0 0% 94%;

		/* === Metal Colors === */
		--metal-light: 0 0% 95%;
		--metal-medium: 0 0% 85%;
		--metal-dark: 0 0% 75%;

		/* === Shadow Tokens === */
		--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.04);
		--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.07), 0 2px 4px -2px rgb(0 0 0 / 0.05);
		--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.08), 0 4px 6px -4px rgb(0 0 0 / 0.04);
		--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.08), 0 8px 10px -6px rgb(0 0 0 / 0.04);
		--shadow-focus: 0 0 0 3px hsl(var(--ring) / 0.25);

		/* === Material Shadow System === */
		--shadow-material: 0 1px 3px 0 rgb(0 0 0 / 0.06), 0 1px 2px -1px rgb(0 0 0 / 0.06);
		--shadow-material-hover: 0 10px 25px -5px rgb(0 0 0 / 0.1), 0 4px 10px -4px rgb(0 0 0 / 0.06);
		--shadow-material-active: 0 1px 2px 0 rgb(0 0 0 / 0.05);
		--shadow-primary: 0 8px 24px -4px hsl(var(--primary) / 0.25);
		--shadow-glow: 0 0 20px -5px hsl(var(--primary) / 0.4);

		/* === Gradient Accents === */
		--gradient-primary: linear-gradient(135deg, hsl(18 86% 56%), hsl(25 80% 52%));
		--gradient-subtle: linear-gradient(180deg, hsl(0 0% 100%), hsl(0 0% 98%));

		/* === Touch Target === */
		--touch-target-min: 44px;
	}

	.dark {
		--background: 0 0% 4%;
		--foreground: 0 0% 95%;
		--card: 0 0% 7%;
		--card-foreground: 0 0% 95%;
		--popover: 0 0% 7%;
		--popover-foreground: 0 0% 95%;
		--primary: 18 86% 58%;
		--primary-foreground: 0 0% 0%;
		--primary-soft: 18 40% 15%;
		--secondary: 0 0% 14%;
		--secondary-foreground: 0 0% 95%;
		--muted: 0 0% 14%;
		--muted-foreground: 0 0% 60%;
		--accent: 220 10% 22%;
		--accent-foreground: 0 0% 95%;
		--destructive: 0 62% 35%;
		--destructive-foreground: 0 0% 95%;
		--border: 0 0% 16%;
		--input: 0 0% 14%;
		--ring: 18 86% 58%;

		--surface-elevated: 0 0% 10%;
		--surface-sunken: 0 0% 3%;

		--success: 160 84% 39%;
		--success-foreground: 0 0% 100%;
		--warning: 38 92% 50%;
		--warning-foreground: 0 0% 0%;
		--info: 199 89% 48%;
		--info-foreground: 0 0% 100%;

		--shimmer-color: 0 0% 100%;

		--accent-steel: 210 15% 55%;
		--accent-copper: 25 85% 60%;
		--accent-titanium: 200 10% 70%;

		--bg-layer-1: 0 0% 5%;
		--bg-layer-2: 0 0% 7%;
		--bg-layer-3: 0 0% 10%;

		--metal-light: 0 0% 25%;
		--metal-medium: 0 0% 20%;
		--metal-dark: 0 0% 15%;

		--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.4);
		--shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.5), 0 2px 4px -2px rgb(0 0 0 / 0.4);
		--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.5), 0 4px 6px -4px rgb(0 0 0 / 0.4);
		--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.5), 0 8px 10px -6px rgb(0 0 0 / 0.4);

		--shadow-material: 0 2px 8px -2px rgb(0 0 0 / 0.5), 0 1px 3px -1px rgb(0 0 0 / 0.4);
		--shadow-material-hover: 0 10px 30px -5px rgb(0 0 0 / 0.6), 0 4px 12px -4px rgb(0 0 0 / 0.4);
		--shadow-material-active: 0 1px 4px -1px rgb(0 0 0 / 0.4);
		--shadow-primary: 0 8px 30px -4px hsl(var(--primary) / 0.45);
		--shadow-glow: 0 0 30px -5px hsl(var(--primary) / 0.5);

		--gradient-primary: linear-gradient(135deg, hsl(18 86% 58%), hsl(25 80% 54%));
		--gradient-subtle: linear-gradient(180deg, hsl(0 0% 8%), hsl(0 0% 6%));
	}
}

@layer base {
	* {
		@apply border-border;
	}
	body {
		@apply bg-background text-foreground;
		font-feature-settings:
			'rlig' 1,
			'calt' 1;
	}
}

/* === Entrance Animations (CSS Keyframes) === */
@keyframes fade-in {
	from {
		opacity: 0;
	}
	to {
		opacity: 1;
	}
}

@keyframes fade-in-up {
	from {
		opacity: 0;
		transform: translateY(10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes fade-in-down {
	from {
		opacity: 0;
		transform: translateY(-10px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slide-in-right {
	from {
		opacity: 0;
		transform: translateX(20px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes slide-in-left {
	from {
		opacity: 0;
		transform: translateX(-20px);
	}
	to {
		opacity: 1;
		transform: translateX(0);
	}
}

@keyframes scale-in {
	from {
		opacity: 0;
		transform: scale(0.95);
	}
	to {
		opacity: 1;
		transform: scale(1);
	}
}

@keyframes blur-fade-in {
	from {
		opacity: 0;
		filter: blur(4px);
	}
	to {
		opacity: 1;
		filter: blur(0);
	}
}

@keyframes shimmer {
	0% {
		background-position: -200% 0;
	}
	100% {
		background-position: 200% 0;
	}
}

@keyframes stripe-fade-in {
	0%, 80% { opacity: 0; }
	100% { opacity: 1; }
}

@keyframes stripe-slide {
	from { background-position: 0px 0px; }
	to { background-position: 28.28px -28.28px; }
}

@keyframes bounce-in {
	0% { opacity: 0; transform: scale(0.3) translateY(20px); }
	50% { opacity: 1; transform: scale(1.05) translateY(-5px); }
	70% { transform: scale(0.98) translateY(2px); }
	100% { opacity: 1; transform: scale(1) translateY(0); }
}

@keyframes card-enter {
	from {
		opacity: 0;
		transform: translateY(16px) scale(0.97);
	}
	to {
		opacity: 1;
		transform: translateY(0) scale(1);
	}
}

@keyframes selection-pulse {
	0% { box-shadow: 0 0 0 0 hsl(var(--primary) / 0.4); }
	100% { box-shadow: 0 0 0 4px hsl(var(--primary) / 0); }
}

@keyframes glow-pulse {
	0%, 100% { box-shadow: var(--shadow-glow); }
	50% { box-shadow: 0 0 40px -5px hsl(var(--primary) / 0.6); }
}

@keyframes industrial-shimmer {
	0% { background-position: -200% 0; }
	100% { background-position: 200% 0; }
}

@keyframes industrial-pulse {
	0%, 100% { opacity: 1; transform: scale(1); }
	50% { opacity: 0.8; transform: scale(1.02); }
}

/* === Pulse animation for status indicators === */
@keyframes pulse-status {
	0%, 100% {
		opacity: 1;
	}
	50% {
		opacity: 0.5;
	}
}

@layer utilities {
	.stagger-0 { animation-delay: 0ms; animation-fill-mode: both; }
	.stagger-1 { animation-delay: calc(1 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-2 { animation-delay: calc(2 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-3 { animation-delay: calc(3 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-4 { animation-delay: calc(4 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-5 { animation-delay: calc(5 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-6 { animation-delay: calc(6 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-7 { animation-delay: calc(7 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-8 { animation-delay: calc(8 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-9 { animation-delay: calc(9 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
	.stagger-10 { animation-delay: calc(10 * var(--delay-stagger, 50ms)); animation-fill-mode: both; }
}

/* === Utility Classes === */
.skeleton-shimmer {
	background: linear-gradient(
		90deg,
		hsl(var(--muted)) 0%,
		hsl(var(--muted-foreground) / 0.1) 50%,
		hsl(var(--muted)) 100%
	);
	background-size: 200% 100%;
	animation: shimmer 2s infinite ease-in-out;
}

/* Status indicator utilities */
.status-online {
	background-color: hsl(var(--status-online));
}
.status-offline {
	background-color: hsl(var(--status-offline));
}
.status-pending {
	background-color: hsl(var(--status-pending));
	animation: pulse-status 2s infinite;
}
.status-idle {
	background-color: hsl(var(--status-idle));
}

/* Touch target enforcement */
.touch-target {
	min-height: var(--touch-target-min);
	min-width: var(--touch-target-min);
}

/* Focus visible ring */
.focus-ring {
	@apply outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2;
}

.stripe-hover {
	position: relative;
	overflow: hidden;
}

.stripe-hover::before {
	content: '';
	position: absolute;
	inset: 0;
	background: repeating-linear-gradient(
		45deg,
		transparent 0px,
		transparent 2px,
		var(--stripe-color, var(--stripe-dark)) 2px,
		var(--stripe-color, var(--stripe-dark)) 3px,
		transparent 3px,
		transparent 5px
	);
	background-size: 7.07px 7.07px;
	opacity: 0;
	pointer-events: none;
	z-index: 1;
	animation: stripe-slide 2000ms linear infinite paused;
}

.stripe-hover:hover::before,
.stripe-hover:focus-visible::before {
	opacity: 1;
	animation: stripe-fade-in 100ms ease-out forwards, stripe-slide 2000ms linear infinite;
}

.stripe-hover--light::before {
	--stripe-color: var(--stripe-light);
}

.stripe-hover--dark::before {
	--stripe-color: var(--stripe-dark);
}

.card-interactive {
	@apply stripe-hover cursor-pointer transition-all duration-150;
}

.card-interactive:hover {
	@apply border-primary/50 shadow-lg;
}

.shadow-material { box-shadow: var(--shadow-material); }
.shadow-material-hover { box-shadow: var(--shadow-material-hover); }
.shadow-material-active { box-shadow: var(--shadow-material-active); }
.shadow-primary { box-shadow: var(--shadow-primary); }
.shadow-glow { box-shadow: var(--shadow-glow); }

.font-mono { font-family: var(--font-mono); }

.gradient-primary {
	background: var(--gradient-primary);
}

.gradient-text {
	background: var(--gradient-primary);
	-webkit-background-clip: text;
	-webkit-text-fill-color: transparent;
	background-clip: text;
}

.surface-elevated { background: hsl(var(--surface-elevated)); }
.surface-sunken { background: hsl(var(--surface-sunken)); }

.animate-bounce-in {
	animation: bounce-in 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
}

.animate-card-enter {
	animation: card-enter 0.4s cubic-bezier(0.34, 1.56, 0.64, 1);
}

.animate-selection-pulse {
	animation: selection-pulse 0.3s ease-out;
}

.animate-glow-pulse {
	animation: glow-pulse 2s ease-in-out infinite;
}

.animate-industrial-shimmer {
	background: linear-gradient(90deg, hsl(var(--metal-light)) 0%, hsl(var(--metal-medium)) 50%, hsl(var(--metal-light)) 100%);
	background-size: 200% 100%;
	animation: industrial-shimmer 2s infinite ease-in-out;
}

.animate-industrial-pulse {
	animation: industrial-pulse 2s infinite ease-in-out;
}

.industrial-texture {
	background-image: radial-gradient(circle at 1px 1px, rgba(0,0,0,0.03) 1px, transparent 0);
	background-size: 20px 20px;
}

.dark .industrial-texture {
	background-image: radial-gradient(circle at 1px 1px, rgba(255,255,255,0.03) 1px, transparent 0);
}

/* === Reduced Motion Preference === */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}

	.skeleton-shimmer {
		animation: none;
		background: hsl(var(--muted));
	}

	.status-pending {
		animation: none;
	}

	.stripe-hover::before {
		display: none;
	}
}

/* === Scrollbar Styling === */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: transparent;
}

::-webkit-scrollbar-thumb {
	background: hsl(var(--border));
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: hsl(var(--muted-foreground) / 0.5);
}

/* Firefox scrollbar */
* {
	scrollbar-width: thin;
	scrollbar-color: hsl(var(--border)) transparent;
}

/* ========================================
   Factory.ai Design System - Spotlight & Toggle
   ======================================== */

/* Icon stroke refinement for minimal outlined aesthetic */
:root {
	--icon-stroke-width: 1.5;
}

/* Apply 1.5px stroke to all Lucide icons */
svg[class*="lucide"] {
	stroke-width: 1.5;
}

/* Travelling Spotlight for Navigation */
.nav-spotlight {
	position: absolute;
	left: 0;
	background: hsl(var(--primary) / 0.1);
	border-radius: 8px;
	opacity: 0;
	transition:
		transform var(--duration-normal) var(--ease-in-out),
		width var(--duration-normal) var(--ease-in-out),
		height var(--duration-normal) var(--ease-in-out),
		opacity var(--duration-fast) ease;
	pointer-events: none;
	z-index: 0;
}

.nav-container:hover .nav-spotlight {
	opacity: 1;
}

.dark .nav-spotlight {
	background: hsl(var(--primary) / 0.15);
}

/* Theme Toggle Segmented Control */
.theme-toggle {
	position: relative;
	display: inline-flex;
	align-items: center;
	background: hsl(var(--muted));
	border: 1px solid hsl(var(--border));
	border-radius: 8px;
	padding: 3px;
	gap: 2px;
}

.theme-indicator {
	position: absolute;
	top: 3px;
	height: calc(100% - 6px);
	background: hsl(var(--background));
	border-radius: 6px;
	transition:
		left var(--duration-slow) var(--ease-out),
		width var(--duration-slow) var(--ease-out);
	box-shadow: var(--shadow-sm);
	z-index: 0;
}

.theme-option {
	position: relative;
	display: flex;
	align-items: center;
	justify-content: center;
	gap: 6px;
	padding: 6px 10px;
	min-width: 36px;
	min-height: 32px;
	background: transparent;
	border: none;
	border-radius: 5px;
	color: hsl(var(--muted-foreground));
	cursor: pointer;
	z-index: 1;
	transition: color var(--duration-fast) ease;
}

.theme-option[data-active="true"] {
	color: hsl(var(--foreground));
}

.theme-option:hover:not([data-active="true"]) {
	color: hsl(var(--foreground) / 0.7);
}

.theme-option:focus-visible {
	outline: 2px solid hsl(var(--ring));
	outline-offset: 2px;
}

.theme-label {
	font-size: 11px;
	font-weight: 500;
	text-transform: uppercase;
	letter-spacing: 0.5px;
	font-family: ui-monospace, SFMono-Regular, monospace;
}

/* Reduced motion override for Factory.ai components */
@media (prefers-reduced-motion: reduce) {
	.nav-spotlight,
	.theme-indicator {
		transition: opacity var(--duration-instant) ease;
	}
}
